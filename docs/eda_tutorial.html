<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SA2-MVP Event Driven Architecture Tutorial</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
    rel="stylesheet">
  <!-- PrismJS Theme (One Dark) -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-one-dark.min.css" rel="stylesheet" />
  <style>
    :root {
      --primary: #3b82f6;
      --primary-dark: #2563eb;
      --secondary: #64748b;
      --bg-body: #f8fafc;
      --bg-nav: #ffffff;
      --bg-card: #ffffff;
      --text-main: #1e293b;
      --text-muted: #64748b;
      --border: #e2e8f0;
      --sidebar-width: 280px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Inter', sans-serif;
      background-color: var(--bg-body);
      color: var(--text-main);
      line-height: 1.6;
      display: flex;
      min-height: 100vh;
    }

    /* Sidebar Navigation */
    .sidebar {
      width: var(--sidebar-width);
      background: var(--bg-nav);
      border-right: 1px solid var(--border);
      height: 100vh;
      position: fixed;
      padding: 2rem 1.5rem;
      overflow-y: auto;
      top: 0;
      left: 0;
      display: flex;
      flex-direction: column;
      z-index: 100;
    }

    .logo {
      font-size: 1.25rem;
      font-weight: 700;
      color: var(--text-main);
      margin-bottom: 2rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .logo span {
      color: var(--primary);
    }

    .nav-group {
      margin-bottom: 1.5rem;
    }

    .nav-header {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--text-muted);
      font-weight: 600;
      margin-bottom: 0.75rem;
    }

    .nav-link {
      display: block;
      padding: 0.5rem 0.75rem;
      color: var(--text-main);
      text-decoration: none;
      border-radius: 0.375rem;
      font-size: 0.95rem;
      transition: all 0.2s;
      margin-bottom: 0.25rem;
    }

    .nav-link:hover {
      background-color: #f1f5f9;
      color: var(--primary);
    }

    .nav-link.active {
      background-color: #eff6ff;
      color: var(--primary);
      font-weight: 500;
    }

    /* Main Content */
    .main-content {
      margin-left: var(--sidebar-width);
      padding: 3rem 4rem;
      width: calc(100% - var(--sidebar-width));
      max-width: 1200px;
    }

    header {
      margin-bottom: 3rem;
      border-bottom: 1px solid var(--border);
      padding-bottom: 1.5rem;
    }

    h1 {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 1rem;
      letter-spacing: -0.025em;
    }

    p.subtitle {
      font-size: 1.25rem;
      color: var(--text-muted);
      font-weight: 300;
    }

    section {
      margin-bottom: 4rem;
      scroll-margin-top: 2rem;
    }

    h2 {
      font-size: 1.75rem;
      margin-bottom: 1.5rem;
      color: var(--text-main);
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    h3 {
      font-size: 1.25rem;
      margin: 1.5rem 0 1rem;
      color: var(--text-main);
      font-weight: 600;
    }

    /* Cards */
    .card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 0.75rem;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    }

    .step-container {
      position: relative;
      padding-left: 2rem;
      margin-bottom: 2rem;
    }

    .step-number {
      position: absolute;
      left: 0;
      top: 0;
      width: 1.5rem;
      height: 1.5rem;
      background: var(--primary);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.875rem;
      font-weight: 600;
    }

    .step-title {
      font-weight: 600;
      font-size: 1.1rem;
      margin-bottom: 0.75rem;
      color: var(--text-main);
    }

    /* Code Blocks - Overrides for Prism */
    pre[class*="language-"] {
      border-radius: 0.5rem;
      margin: 1rem 0;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.875rem;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    }

    code[class*="language-"] {
      font-family: 'JetBrains Mono', monospace;
    }

    /* Inline code styling */
    :not(pre)>code {
      background-color: #f1f5f9;
      color: #ef4444;
      /* Reddish for inline code to pop out, similar to simple styles */
      padding: 0.125rem 0.375rem;
      border-radius: 0.25rem;
      font-size: 0.875em;
      font-family: 'JetBrains Mono', monospace;
    }

    .folder-tree {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.85rem;
      line-height: 1.5;
      color: var(--secondary);
      background: #f8fafc;
      padding: 1rem;
      border-radius: 0.5rem;
      border: 1px solid var(--border);
    }

    /* Alert/Callout */
    .alert {
      background-color: #eff6ff;
      border-left: 4px solid var(--primary);
      padding: 1rem;
      margin: 1.5rem 0;
      border-radius: 0 0.375rem 0.375rem 0;
    }

    .alert h4 {
      color: var(--primary-dark);
      margin-bottom: 0.5rem;
      font-size: 0.95rem;
    }

    .alert p {
      margin: 0;
      font-size: 0.9rem;
      color: var(--text-main);
    }

    /* Footer */
    footer {
      margin-top: 5rem;
      padding: 2rem 0;
      border-top: 1px solid var(--border);
      text-align: center;
      color: var(--text-muted);
      font-size: 0.875rem;
    }
  </style>
</head>

<body>

  <!-- Sidebar -->
  <nav class="sidebar">
    <div class="logo">
      <span>âš¡ï¸</span> Event Arch
    </div>

    <div class="nav-group">
      <div class="nav-header">Start Here</div>
      <a href="#intro" class="nav-link">Introduction</a>
      <a href="#structure" class="nav-link">Folder Structure</a>
    </div>

    <div class="nav-group">
      <div class="nav-header">Guides</div>
      <a href="#catalog" class="nav-link">1. Adding Events</a>
      <a href="#produce-consume" class="nav-link">2. Produce & Consume</a>
      <a href="#saga" class="nav-link">3. Saga Orchestration</a>
      <a href="#flows" class="nav-link">4. Defining Flows</a>
      <a href="#enforcement" class="nav-link">5. Event Enforcement</a>
    </div>

    <div class="nav-group">
      <div class="nav-header">Resources</div>
      <a href="#examples" class="nav-link">Real Examples</a>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="main-content">
    <header>
      <h1>EDA æ¡†æ¶å¼€å‘å®æˆ˜æŒ‡å—</h1>
      <p class="subtitle">Event-Driven Architecture Framework Implementation Guide</p>
    </header>

    <section id="intro">
      <h2>Introduction</h2>
      <div class="card">
        <p>
          æ¬¢è¿ä½¿ç”¨ SA2-MVP çš„äº‹ä»¶é©±åŠ¨æ¶æ„ï¼ˆEDAï¼‰ã€‚æœ¬æŒ‡å—å°†æ‰‹æŠŠæ‰‹ï¼ˆStep-by-Stepï¼‰æ•™ä½ å¦‚ä½•ä½¿ç”¨è¿™å¥—æ¡†æ¶æ¥è§£è€¦ä¸šåŠ¡é€»è¾‘ã€‚
          é€šè¿‡ä½¿ç”¨ <strong>Catalogï¼ˆç›®å½•ï¼‰</strong>ã€<strong>Registryï¼ˆæ³¨å†Œè¡¨ï¼‰</strong> å’Œ <strong>Saga Orchestratorï¼ˆç¼–æ’å™¨ï¼‰</strong>ï¼Œ
          æˆ‘ä»¬å¯ä»¥æ¸…æ™°åœ°ç®¡ç†ä»ç®€å•çš„å¼‚æ­¥é€šçŸ¥åˆ°å¤æ‚çš„è·¨æœåŠ¡é•¿äº‹åŠ¡ã€‚
        </p>
        <div class="alert">
          <h4>æ ¸å¿ƒåŸåˆ™</h4>
          <p>äº‹ä»¶æ˜¯â€œå·²ç»å‘ç”Ÿçš„äº‹å®â€ï¼ˆHappened Factï¼‰ã€‚ä¸è¦æŠŠäº‹ä»¶å½“æˆå‘½ä»¤ï¼ˆCommandï¼‰ã€‚</p>
        </div>
      </div>
    </section>

    <section id="structure">
      <h2>Folder Structure</h2>
      <p>åœ¨å¼€å§‹å†™ä»£ç ä¹‹å‰ï¼Œè¯·ç†Ÿæ‚‰æ ¸å¿ƒæ–‡ä»¶çš„ä½ç½®ï¼š</p>
      <div class="card">
        <!-- Using simple pre for tree structure, no highlighting needed really, but kept as plaintext -->
        <pre class="folder-tree">
src/
â”œâ”€â”€ shared/
â”‚   â””â”€â”€ events/
â”‚       â”œâ”€â”€ event-constants.ts       <span style="color:#22c55e">// 1. å®šä¹‰äº‹ä»¶å¸¸é‡å</span>
â”‚       â””â”€â”€ index.ts                 <span style="color:#22c55e">// 2. å¯¼å‡º Payload ç±»å‹</span>
â””â”€â”€ events/
    â”œâ”€â”€ catalog/                     <span style="color:#22c55e">// 3. Event Catalog (å•ä¸€çœŸç›¸æº)</span>
    â”‚   â”œâ”€â”€ session-events.catalog.ts
    â”‚   â””â”€â”€ index.ts
    â”œâ”€â”€ flows/
    â”‚   â””â”€â”€ definitions/             <span style="color:#22c55e">// 6. Flow Definitions (å¯è§†åŒ–/æ–‡æ¡£)</span>
    â””â”€â”€ sagas/                       <span style="color:#22c55e">// 5. Saga Orchetsrator (é•¿äº‹åŠ¡)</span>
</pre>
      </div>
    </section>

    <section id="catalog">
      <h2>Step 1: Adding a New Event</h2>
      <p>å‡è®¾æˆ‘ä»¬è¦æ·»åŠ ä¸€ä¸ªåŠŸèƒ½ï¼š<strong>â€œæ¨¡æ‹Ÿé¢è¯•æäº¤â€ (Mock Interview Submitted)</strong>ã€‚</p>

      <div class="step-container">
        <div class="step-number">1</div>
        <div class="step-title">å®šä¹‰äº‹ä»¶å¸¸é‡</div>
        <p>æ–‡ä»¶ï¼š<code>src/shared/events/event-constants.ts</code></p>
        <pre><code class="language-typescript">export const MOCK_INTERVIEW_SUBMITTED_EVENT = "mock_interview.submitted";</code></pre>
      </div>

      <div class="step-container">
        <div class="step-number">2</div>
        <div class="step-title">å®šä¹‰ Payload ç±»å‹</div>
        <p>æ–°å»ºæ–‡ä»¶ï¼š<code>src/shared/events/mock-interview-submitted.event.ts</code>ï¼Œå¹¶åœ¨ <code>index.ts</code> ä¸­å¯¼å‡ºã€‚</p>
        <pre><code class="language-typescript">export type MockInterviewSubmittedEvent = {
    readonly id: string;
    readonly userId: string;
    readonly submittedAt: string;
    readonly topic: string;
};</code></pre>
      </div>

      <div class="step-container">
        <div class="step-number">3</div>
        <div class="step-title">æ³¨å†Œåˆ° Catalog</div>
        <p>æ–‡ä»¶ï¼š<code>src/events/catalog/session-events.catalog.ts</code> (æˆ–æ–°å»ºå¯¹åº”é¢†åŸŸçš„ catalog)</p>
        <pre><code class="language-typescript">import { MOCK_INTERVIEW_SUBMITTED_EVENT } from "@shared/events/event-constants";

export const MockInterviewEventsCatalog = {
    [MOCK_INTERVIEW_SUBMITTED_EVENT]: {
        name: MOCK_INTERVIEW_SUBMITTED_EVENT,
        domain: EventDomain.SESSION,
        eventType: EventType.TRIGGER,
        payloadType: "MockInterviewSubmittedEvent",
        producers: ["MockInterviewService.submit"],
        consumers: [
            {
                handler: "MockInterviewHandler",
                priority: ConsumerPriority.HIGH,
                async: true
            }
        ],
        description: "Triggered when a student submits a mock interview request"
    }
};</code></pre>
        <div class="alert">
          <p>è®°å¾—åœ¨ <code>src/events/catalog/index.ts</code> ä¸­åˆå¹¶å¯¼å‡ºè¿™ä¸ªæ–°çš„ Catalog å¯¹è±¡ã€‚</p>
        </div>
      </div>
    </section>

    <section id="produce-consume">
      <h2>Step 2: Produce & Consume</h2>

      <div class="card">
        <h3>Producing (å‘é€äº‹ä»¶)</h3>
        <p>æ¨èä½¿ç”¨ <code>EnhancedEventBus</code>ï¼Œå®ƒä¼šè‡ªåŠ¨è¿›è¡Œ Catalog æ ¡éªŒå’Œé“¾è·¯è¿½è¸ªã€‚</p>
        <pre><code class="language-typescript">constructor(private readonly eventBus: EnhancedEventBus) {}

async submitInterview(data: CreateInterviewDto) {
    // ä¸šåŠ¡é€»è¾‘...
    
    // å‘é€äº‹ä»¶
    await this.eventBus.emit(MOCK_INTERVIEW_SUBMITTED_EVENT, {
        id: interview.id,
        userId: user.id,
        submittedAt: new Date().toISOString(),
        topic: data.topic
    });
}</code></pre>
      </div>

      <div class="card">
        <h3>Consuming (æ¶ˆè´¹äº‹ä»¶)</h3>
        <p>ä½¿ç”¨æ ‡å‡†çš„ NestJS <code>@OnEvent</code> è£…é¥°å™¨ã€‚</p>
        <pre><code class="language-typescript">@Injectable()
export class MockInterviewHandler {
    
    @OnEvent(MOCK_INTERVIEW_SUBMITTED_EVENT)
    async handleSubmission(payload: MockInterviewSubmittedEvent) {
        console.log(`Processing interview ${payload.id} for user ${payload.userId}`);
        // è§¦å‘åç»­æµç¨‹...
    }
}</code></pre>
      </div>
    </section>

    <section id="saga">
      <h2>Step 3: Saga Orchestration</h2>
      <p>å½“ä½ çš„ä¸šåŠ¡é€»è¾‘å˜å¾—å¤æ‚ï¼Œä¾‹å¦‚éœ€è¦è°ƒç”¨ä¸‰ä¸ªå¤–éƒ¨ APIï¼Œå¹¶ä¸”å¦‚æœé€šè¿‡å…¶ä¸­ä¸€ä¸ªå¤±è´¥äº†ï¼Œéœ€è¦å›æ»šä¹‹å‰çš„æ“ä½œæ—¶ï¼Œè¯·ä½¿ç”¨ <strong>Saga</strong>ã€‚</p>

      <div class="step-container">
        <div class="step-number">1</div>
        <div class="step-title">å®šä¹‰ Saga</div>
        <p>æ–‡ä»¶ï¼š<code>src/events/sagas/mock-interview.saga.ts</code></p>
        <pre><code class="language-typescript">export class MockInterviewSaga extends SagaOrchestrator<Input, Output> {
    
    get definition(): SagaDefinition<Input, Output> {
        return {
            id: "mock-interview-process",
            steps: [
                {
                    id: "reserve-slot",
                    name: "Reserve Calendar Slot",
                    execute: async (input) => { /* è°ƒç”¨ Google Calendar */ },
                    compensate: async (input, output) => { /* å–æ¶ˆé¢„çº¦ */ }
                },
                {
                    id: "charge-token",
                    name: "Deduct User Token",
                    execute: async (input) => { /* æ‰£è´¹ */ },
                    compensate: async (input) => { /* é€€æ¬¾ */ }
                }
            ]
        };
    }
}</code></pre>
      </div>

      <div class="step-container">
        <div class="step-number">2</div>
        <div class="step-title">æ‰§è¡Œ Saga</div>
        <p>åœ¨ä½ çš„ Handler ä¸­è°ƒç”¨ Sagaã€‚</p>
        <pre><code class="language-typescript">@OnEvent(MOCK_INTERVIEW_SUBMITTED_EVENT)
async handle(event: MockInterviewSubmittedEvent) {
    await this.mockInterviewSaga.execute({
        interviewId: event.id,
        userId: event.userId
    });
}</code></pre>
      </div>
    </section>

    <section id="flows">
      <h2>Step 4: Flow Definitions (Docs)</h2>
      <p>ä¸ºäº†è®©å›¢é˜Ÿçœ‹æ‡‚ä¸šåŠ¡æµç¨‹ï¼Œæˆ‘ä»¬éœ€è¦æ›´æ–° <strong>Flow Registry</strong>ã€‚è¿™å°†ç”¨äºç”Ÿæˆå¯è§†åŒ–å›¾è¡¨ã€‚</p>

      <div class="step-container">
        <div class="step-number">1</div>
        <div class="step-title">åˆ›å»º Flow æ–‡ä»¶</div>
        <p>æ–‡ä»¶ï¼š<code>src/events/flows/definitions/mock-interview.flow.ts</code></p>
        <pre><code class="language-typescript">export const MockInterviewFlow: BusinessFlowDefinition = {
    id: "mock-interview",
    name: "Mock Interview Process",
    entryPoint: MOCK_INTERVIEW_SUBMITTED_EVENT,
    steps: [
        {
            id: "handle-submission",
            triggerEvent: MOCK_INTERVIEW_SUBMITTED_EVENT,
            handler: "MockInterviewHandler",
            next: "saga-execution"
        },
        {
            id: "saga-execution",
            name: "Execute Saga",
            handler: "MockInterviewSaga",
            emitsEvents: ["mock_interview.completed"]
        }
    ]
};</code></pre>
      </div>
    </section>

    <section id="enforcement">
      <h2>Step 5: Event Enforcement (ä¿è¯ä¸€è‡´æ€§)</h2>
      <p>ä¸ºäº†ç¡®ä¿äº‹ä»¶ç³»ç»Ÿçš„ä¸€è‡´æ€§å’Œå¯é æ€§ï¼Œæ¡†æ¶æä¾›äº†ä¸‰å±‚éªŒè¯æœºåˆ¶ï¼š</p>

      <div class="card">
        <h3>ğŸ” CI Enforcement (æŒç»­é›†æˆéªŒè¯)</h3>
        <p>åœ¨ CI/CD æµç¨‹ä¸­è‡ªåŠ¨æ£€æŸ¥äº‹ä»¶å®šä¹‰çš„å®Œæ•´æ€§ã€‚</p>

        <div class="alert">
          <h4>æµ‹è¯•æ–‡ä»¶</h4>
          <p><code>src/events/catalog/catalog.spec.ts:42</code></p>
        </div>

        <p><strong>éªŒè¯å†…å®¹ï¼š</strong></p>
        <ul>
          <li>æ‰€æœ‰åœ¨ <code>src/shared/events/event-constants.ts</code> ä¸­å®šä¹‰çš„äº‹ä»¶å¸¸é‡å¿…é¡»åœ¨ <code>EventCatalog</code> ä¸­æ³¨å†Œ</li>
          <li>æ‰€æœ‰åœ¨ <code>EventCatalog</code> ä¸­çš„ key å¿…é¡»åœ¨ <code>event-constants.ts</code> ä¸­å®šä¹‰</li>
          <li>é˜²æ­¢"å¹½çµäº‹ä»¶"ï¼ˆå®šä¹‰äº†ä½†æœªæ³¨å†Œï¼‰å’Œ"å­¤å„¿äº‹ä»¶"ï¼ˆæ³¨å†Œäº†ä½†æœªå®šä¹‰ï¼‰</li>
        </ul>

        <p><strong>è¿è¡Œæµ‹è¯•ï¼š</strong></p>
        <pre><code class="language-bash">npm run test -- --testPathPatterns="catalog.spec.ts"</code></pre>
      </div>

      <div class="card">
        <h3>ğŸ“‹ Registry Enforcement (æµç¨‹æ³¨å†ŒéªŒè¯)</h3>
        <p>éªŒè¯ä¸šåŠ¡æµç¨‹å®šä¹‰çš„æ­£ç¡®æ€§å’Œå®Œæ•´æ€§ã€‚</p>

        <div class="alert">
          <h4>æµ‹è¯•æ–‡ä»¶</h4>
          <p><code>src/events/flows/definitions/flows.spec.ts</code></p>
        </div>

        <p><strong>éªŒè¯å†…å®¹ï¼š</strong></p>
        <ul>
          <li>æ£€æŸ¥ <code>BusinessFlows</code> registry ä¸­æ‰€æœ‰æµç¨‹å®šä¹‰çš„æœ‰æ•ˆæ€§</li>
          <li>éªŒè¯ <code>entryPoint</code>ï¼ˆå…¥å£äº‹ä»¶ï¼‰æ˜¯å¦åœ¨ EventCatalog ä¸­å­˜åœ¨</li>
          <li>éªŒè¯ <code>terminationEvents</code>ï¼ˆç»ˆæ­¢äº‹ä»¶ï¼‰æ˜¯å¦åœ¨ EventCatalog ä¸­å­˜åœ¨</li>
          <li>éªŒè¯æ¯ä¸ªæ­¥éª¤çš„ <code>emitsEvents</code> æ˜¯å¦åœ¨ EventCatalog ä¸­å­˜åœ¨</li>
          <li>å¦‚æœæœ‰ä»»ä½• warnings æˆ– errorsï¼Œæµ‹è¯•å°†å¤±è´¥</li>
        </ul>

        <p><strong>éªŒè¯é€»è¾‘ä½ç½®ï¼š</strong></p>
        <p><code>src/events/flows/definitions/index.ts:142</code></p>

        <p><strong>è¿è¡Œæµ‹è¯•ï¼š</strong></p>
        <pre><code class="language-bash">npm run test -- --testPathPatterns="flows.spec.ts"</code></pre>
      </div>

      <div class="card">
        <h3>âš¡ï¸ Runtime Enforcement (è¿è¡Œæ—¶éªŒè¯)</h3>
        <p>åœ¨åº”ç”¨å¯åŠ¨å’Œè¿è¡Œæ—¶è¿›è¡Œäº‹ä»¶éªŒè¯ï¼Œç¡®ä¿ç”Ÿäº§ç¯å¢ƒçš„å®‰å…¨æ€§ã€‚</p>

        <div class="alert">
          <h4>é…ç½®æ–‡ä»¶</h4>
          <p><code>src/app.module.ts:31</code></p>
        </div>

        <p><strong>å¯ç”¨ä¸¥æ ¼éªŒè¯ï¼š</strong></p>
        <pre><code class="language-typescript">@Module({
    imports: [
        EventsModule.forRoot({
            strictValidation: true,           // å¯ç”¨ä¸¥æ ¼éªŒè¯
            validateOnStartup: true,          // å¯åŠ¨æ—¶éªŒè¯
            failOnValidationWarnings: true,   // é‡åˆ°è­¦å‘Šå³å¤±è´¥
            enableTracking: true,
            enableCorrelationMiddleware: true
        }),
        // ...
    ]
})</code></pre>

        <p><strong>é…ç½®é€‰é¡¹å®šä¹‰ï¼š</strong></p>
        <p><code>src/events/events.module.ts:53</code></p>

        <div
          style="background-color: #fef3c7; border-left: 4px solid #f59e0b; padding: 1rem; margin: 1.5rem 0; border-radius: 0 0.375rem 0.375rem 0;">
          <h4 style="color: #92400e; margin-bottom: 0.5rem; font-size: 0.95rem;">âš ï¸ é‡è¦æç¤º</h4>
          <p style="margin: 0; font-size: 0.9rem; color: #1e293b;">ä¸¥æ ¼éªŒè¯<strong>ä»…é€‚ç”¨äºé€šè¿‡ <code>EnhancedEventBus</code>
              å‘å‡ºçš„äº‹ä»¶</strong>ã€‚å¦‚æœä½¿ç”¨ <code>EventEmitter2.emit</code> ç›´æ¥å‘é€äº‹ä»¶ï¼Œå°†ç»•è¿‡ Catalog éªŒè¯ã€‚å› æ­¤ï¼Œå¦‚æœå¸Œæœ›éªŒè¯æœºåˆ¶å®Œå…¨ç”Ÿæ•ˆï¼Œéœ€è¦å°†æ‰€æœ‰ç”Ÿäº§è€…è¿ç§»åˆ°ä½¿ç”¨
            <code>EnhancedEventBus</code>ã€‚</p>
        </div>

        <p><strong>éªŒè¯å†…å®¹ï¼š</strong></p>
        <ul>
          <li>æ£€æŸ¥å‘å‡ºçš„äº‹ä»¶æ˜¯å¦åœ¨ EventCatalog ä¸­æ³¨å†Œ</li>
          <li>éªŒè¯äº‹ä»¶çš„ payload ç»“æ„ï¼ˆå¦‚æœé…ç½®äº† schemaï¼‰</li>
          <li>éªŒè¯ç”Ÿäº§è€…æ˜¯å¦åœ¨ Catalog ä¸­å£°æ˜</li>
          <li>å¦‚æœéªŒè¯å¤±è´¥ï¼Œäº‹ä»¶å‘é€å°†è¢«æ‹’ç»å¹¶è¿”å›é”™è¯¯</li>
        </ul>
      </div>

      <div class="card"
        style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none;">
        <h3 style="color: white; margin-top: 0;">âœ… æœ€ä½³å®è·µ</h3>
        <ul style="margin-bottom: 0;">
          <li>åœ¨å¼€å‘ç¯å¢ƒä¸­å¯ç”¨ <code>strictValidation</code> å’Œ <code>validateOnStartup</code></li>
          <li>åœ¨ CI/CD ä¸­è¿è¡Œ <code>catalog.spec.ts</code> å’Œ <code>flows.spec.ts</code></li>
          <li>é€æ­¥å°†ç°æœ‰ä»£ç ä» <code>EventEmitter2</code> è¿ç§»åˆ° <code>EnhancedEventBus</code></li>
          <li>æ¯æ¬¡æ·»åŠ æ–°äº‹ä»¶æ—¶ï¼Œç¡®ä¿åŒæ—¶æ›´æ–° Catalog å’Œç›¸å…³ Flow</li>
        </ul>
      </div>
    </section>

    <footer>
      <p>SA2-MVP Engineering Team &copy; 2024</p>
    </footer>
  </main>

  <script>
    // Simple active state highlighting for sidebar
    document.addEventListener('DOMContentLoaded', () => {
      const links = document.querySelectorAll('.nav-link');
      const sections = document.querySelectorAll('section');

      window.addEventListener('scroll', () => {
        let current = '';
        sections.forEach(section => {
          const sectionTop = section.offsetTop;
          if (scrollY >= sectionTop - 100) {
            current = section.getAttribute('id');
          }
        });

        links.forEach(link => {
          link.classList.remove('active');
          if (link.getAttribute('href').includes(current)) {
            link.classList.add('active');
          }
        });
      });
    });
  </script>

  <!-- PrismJS Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-typescript.min.js"></script>
</body>

</html>