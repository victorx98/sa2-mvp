{
  "openapi": "3.0.0",
  "paths": {
    "/webhooks/feishuWebHookHandler": {
      "post": {
        "operationId": "WebhookGatewayController_handleFeishuWebhook",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "WebhookGateway"
        ]
      }
    },
    "/webhooks/zoomWebHookHandler": {
      "post": {
        "operationId": "WebhookGatewayController_handleZoomWebhook",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "WebhookGateway"
        ]
      }
    },
    "/api/auth/register": {
      "post": {
        "operationId": "AuthController_register",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Registration successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponseDto"
                }
              }
            }
          }
        },
        "summary": "User registration",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/auth/login": {
      "post": {
        "operationId": "AuthController_login",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponseDto"
                }
              }
            }
          }
        },
        "summary": "User login",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/users/me": {
      "get": {
        "operationId": "UserController_getCurrentUser",
        "parameters": [],
        "responses": {
          "200": {
            "description": "User retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get current authenticated user",
        "tags": [
          "Users"
        ]
      }
    },
    "/api/users/{id}": {
      "get": {
        "operationId": "UserController_getUserById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "User ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get user by ID",
        "tags": [
          "Users"
        ]
      }
    },
    "/api/schools": {
      "get": {
        "operationId": "SchoolsController_getSchools",
        "parameters": [
          {
            "name": "text",
            "required": false,
            "in": "query",
            "description": "Search keyword (searches in both Chinese and English names)",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "School list retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/SchoolResponseDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Search schools by Chinese or English name",
        "tags": [
          "Schools"
        ]
      }
    },
    "/api/majors": {
      "get": {
        "operationId": "MajorsController_getMajors",
        "parameters": [
          {
            "name": "text",
            "required": false,
            "in": "query",
            "description": "Search keyword (searches in both Chinese and English names)",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Major list retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MajorResponseDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Search majors by Chinese or English name",
        "tags": [
          "Majors"
        ]
      }
    },
    "/api/students/{studentId}/contracts": {
      "get": {
        "operationId": "CounselorStudentContractController_getServiceBalance",
        "parameters": [
          {
            "name": "studentId",
            "required": true,
            "in": "path",
            "description": "Student ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "serviceType",
            "required": false,
            "in": "query",
            "description": "Service type (optional)",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Service balance retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ServiceBalanceResponseDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get service balance for a student",
        "tags": [
          "Counselor Portal"
        ]
      }
    },
    "/api/counselors/profile": {
      "put": {
        "operationId": "CounselorProfileController_updateProfile",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCounselorProfileDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Counselor profile updated successfully"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update counselor profile",
        "tags": [
          "Counselor Profile"
        ]
      }
    },
    "/api/counselors/find": {
      "get": {
        "operationId": "CounselorsController_findCounselors",
        "parameters": [
          {
            "name": "text",
            "required": false,
            "in": "query",
            "description": "Search keyword to filter counselors (searches in email, English name, and Chinese name)",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Counselor results retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CounselorSummaryResponseDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "find counselor",
        "tags": [
          "Counselors"
        ]
      }
    },
    "/api/services/sessions": {
      "post": {
        "description": "\n      Creates a new session asynchronously. Supports multiple session types:\n      - regular_mentoring: Regular mentoring sessions\n      - gap_analysis: Gap analysis sessions\n      - ai_career: AI career assessment sessions\n      \n      Sync Flow (returns immediately):\n      1. Create calendar slots for mentor and student\n      2. Create session record with PENDING_MEETING status\n      3. Return response with sessionId and status\n      \n      Async Flow (runs in background):\n      1. Create meeting link via third-party API\n      2. Update session with meeting_id and status=SCHEDULED\n      3. Publish SESSION_BOOKED_EVENT\n      \n      Client should poll GET /api/services/sessions/:id?sessionType=xxx to check status and get meetingUrl\n    ",
        "operationId": "SessionController_createSession",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSessionRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Session created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateSessionResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters or unsupported session type"
          },
          "403": {
            "description": "Not authorized to book for this student"
          },
          "409": {
            "description": "Time conflict (mentor or student already scheduled)"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create a new session (unified endpoint)",
        "tags": [
          "Counselor Portal - Unified Sessions"
        ]
      },
      "get": {
        "description": "\n      Retrieve sessions with support for multiple query combinations:\n      \n      Query Parameters:\n      - sessionType (optional): Filter by session type, supports single or multiple values\n        * Not provided: returns all session types\n        * Single: ?sessionType=regular_mentoring\n        * Multiple: ?sessionType=regular_mentoring&sessionType=gap_analysis\n      - studentId (optional): Filter by specific student ID\n      - mentorId (optional): Filter by specific mentor ID\n      - counselorId (optional): Filter by specific counselor ID (counselor role only)\n      - status (optional): Filter by session status (SCHEDULED, COMPLETED, CANCELLED, etc.)\n      - startDate (optional): Filter by start date\n      - endDate (optional): Filter by end date\n      - page (optional): Pagination page number\n      - limit (optional): Results per page\n      \n      Examples:\n      - GET /api/services/sessions (returns all types)\n      - GET /api/services/sessions?sessionType=regular_mentoring\n      - GET /api/services/sessions?sessionType=gap_analysis&studentId=xxx\n      - GET /api/services/sessions?sessionType=regular_mentoring&sessionType=gap_analysis\n      - GET /api/services/sessions?sessionType=ai_career&mentorId=xxx&studentId=yyy\n    ",
        "operationId": "SessionController_getSessionsList",
        "parameters": [
          {
            "name": "studentId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "mentorId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "counselorId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Sessions retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/SessionResponseDto"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Missing or invalid sessionType parameter"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get list of sessions with flexible filtering (unified endpoint)",
        "tags": [
          "Counselor Portal - Unified Sessions"
        ]
      }
    },
    "/api/services/sessions/{id}": {
      "get": {
        "description": "Retrieve detailed information about a specific session. Requires sessionType query parameter.",
        "operationId": "SessionController_getSessionDetail",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Session ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sessionType",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Session retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Missing or invalid sessionType parameter"
          },
          "404": {
            "description": "Session not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get session details (unified endpoint)",
        "tags": [
          "Counselor Portal - Unified Sessions"
        ]
      },
      "patch": {
        "description": "Update session details like title, description, or scheduled time. Requires sessionType in request body.",
        "operationId": "SessionController_updateSession",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Session ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateSessionRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Session updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Missing or invalid sessionType parameter"
          },
          "404": {
            "description": "Session not found"
          },
          "409": {
            "description": "Time conflict detected"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update a session (unified endpoint)",
        "tags": [
          "Counselor Portal - Unified Sessions"
        ]
      },
      "delete": {
        "description": "Soft delete a session (marks as deleted). Requires sessionType in request body.",
        "operationId": "SessionController_deleteSession",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Session ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DeleteSessionRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Session deleted successfully"
          },
          "400": {
            "description": "Missing or invalid sessionType parameter"
          },
          "404": {
            "description": "Session not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Delete a session (unified endpoint)",
        "tags": [
          "Counselor Portal - Unified Sessions"
        ]
      }
    },
    "/api/services/sessions/{id}/cancel": {
      "post": {
        "description": "\n      Cancel an existing session with optional description. Requires sessionType in request body.\n      \n      Sync Flow (immediate response):\n      - Update session status to CANCELLED\n      - Release calendar slots\n      - Return cancelled session details\n      \n      Async Flow (background):\n      - Cancel meeting via third-party API (max 3 retries)\n      - Update meetings table\n      - Send notifications based on result\n    ",
        "operationId": "SessionController_cancelSession",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Session ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CancelSessionRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Session cancelled successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid session status or missing sessionType parameter"
          },
          "404": {
            "description": "Session not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Cancel a session (unified endpoint)",
        "tags": [
          "Counselor Portal - Unified Sessions"
        ]
      }
    },
    "/api/services/session-types": {
      "get": {
        "description": "Retrieve session types, optionally filtered by service type code (e.g., External, Internal)",
        "operationId": "SessionTypesController_getSessionTypes",
        "parameters": [
          {
            "name": "serviceTypeCode",
            "required": false,
            "in": "query",
            "description": "Filter by service type code (e.g., External, Internal)",
            "schema": {
              "example": "External",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Session types retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/SessionTypeResponseDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get session types list",
        "tags": [
          "Session Types"
        ]
      }
    },
    "/api/services/recomm-letter-types": {
      "get": {
        "description": "Retrieve recommendation letter types as tree structure with parent-children relationships, optionally filtered by service type code",
        "operationId": "RecommLetterTypesController_getTypes",
        "parameters": [
          {
            "name": "serviceTypeCode",
            "required": false,
            "in": "query",
            "description": "Filter by service type code (e.g., External, Internal)",
            "schema": {
              "example": "External",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Types retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RecommLetterTypeResponseDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get recommendation letter types",
        "tags": [
          "Recommendation Letter Types"
        ]
      },
      "post": {
        "description": "Create a new recommendation letter type (counselor/admin only)",
        "operationId": "RecommLetterTypesController_createType",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateRecommLetterTypeDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Type created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecommLetterTypeResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create recommendation letter type",
        "tags": [
          "Recommendation Letter Types"
        ]
      }
    },
    "/api/services/recomm-letter-types/{studentId}/available": {
      "get": {
        "description": "Retrieve recommendation letter types that student can still upload based on contract balance",
        "operationId": "RecommLetterTypesController_getAvailableTypes",
        "parameters": [
          {
            "name": "studentId",
            "required": true,
            "in": "path",
            "description": "Student user ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Available types retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RecommLetterTypeResponseDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get available recommendation letter types for student",
        "tags": [
          "Recommendation Letter Types"
        ]
      }
    },
    "/api/services/recomm-letter-types/{id}": {
      "delete": {
        "description": "Delete a recommendation letter type (cascade delete children, counselor/admin only)",
        "operationId": "RecommLetterTypesController_deleteType",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Type ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Type deleted successfully"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Delete recommendation letter type",
        "tags": [
          "Recommendation Letter Types"
        ]
      }
    },
    "/api/services/comm-session": {
      "post": {
        "description": "\n      Creates a new communication session asynchronously.\n      \n      Sync Flow:\n      1. Create calendar slots for student and mentor/counselor\n      2. Create session record with PENDING_MEETING status\n      3. Return response with sessionId and status\n      \n      Async Flow:\n      1. Create meeting link via third-party API\n      2. Update session with meeting_id and status=SCHEDULED\n      3. Publish SESSION_BOOKED_EVENT\n    ",
        "operationId": "CommSessionController_createSession",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCommSessionRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Session created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateCommSessionResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters"
          },
          "409": {
            "description": "Time conflict (student or mentor already scheduled)"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create a new communication session",
        "tags": [
          "Counselor Portal - Communication Session"
        ]
      },
      "get": {
        "description": "\n      Retrieve communication sessions with support for multiple query combinations.\n      \n      Query Parameters:\n      - studentId (optional): Filter by specific student ID\n      - mentorId (optional): Filter by specific mentor ID\n      - counselorId (optional): Filter by specific counselor ID (counselor role only)\n      - status (optional): Filter by session status\n      - startDate (optional): Filter by start date\n      - endDate (optional): Filter by end date\n      - page (optional): Pagination page number\n      - limit (optional): Results per page\n    ",
        "operationId": "CommSessionController_getSessionsList",
        "parameters": [
          {
            "name": "studentId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "mentorId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "counselorId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Sessions retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CommSessionResponseDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get list of communication sessions with flexible filtering",
        "tags": [
          "Counselor Portal - Communication Session"
        ]
      }
    },
    "/api/services/comm-session/{id}": {
      "get": {
        "description": "Retrieve detailed information about a specific communication session",
        "operationId": "CommSessionController_getSessionDetail",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Session ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Session retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommSessionResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Session not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get communication session details",
        "tags": [
          "Counselor Portal - Communication Session"
        ]
      },
      "patch": {
        "description": "Update session details like title, description, or scheduled time",
        "operationId": "CommSessionController_updateSession",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Session ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCommSessionRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Session updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommSessionResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Session not found"
          },
          "409": {
            "description": "Time conflict detected"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update a communication session",
        "tags": [
          "Counselor Portal - Communication Session"
        ]
      },
      "delete": {
        "description": "Soft delete a communication session (marks as deleted)",
        "operationId": "CommSessionController_deleteSession",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Session ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Session deleted successfully"
          },
          "404": {
            "description": "Session not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Delete a communication session",
        "tags": [
          "Counselor Portal - Communication Session"
        ]
      }
    },
    "/api/services/comm-session/{id}/cancel": {
      "post": {
        "description": "\n      Cancel an existing communication session with optional reason.\n      \n      Sync Flow (immediate response):\n      - Update session status to CANCELLED\n      - Release calendar slots\n      - Return cancelled session details\n      \n      Async Flow (background):\n      - Cancel meeting via third-party API (max 3 retries)\n      - Update meetings table\n      - Send notifications based on result\n    ",
        "operationId": "CommSessionController_cancelSession",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Session ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Session cancelled successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommSessionResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid session status"
          },
          "404": {
            "description": "Session not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Cancel a communication session",
        "tags": [
          "Counselor Portal - Communication Session"
        ]
      }
    },
    "/api/services/classes": {
      "post": {
        "description": "Create a new class with basic information",
        "operationId": "ClassController_createClass",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateClassRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Class created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateClassResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create a new class",
        "tags": [
          "Services - Class Management"
        ]
      },
      "get": {
        "description": "\n      Retrieve paginated list of classes with mentors and counselors details.\n      \n      Query Parameters:\n      - createdByMe: Filter by classes created by current user (true/false)\n      - name: Filter by class name (fuzzy search)\n      - status: Filter by status\n      - type: Filter by type\n      - page, pageSize, sortBy, sortOrder: Pagination and sorting\n      \n      Examples:\n      - GET /api/services/classes (all classes)\n      - GET /api/services/classes?createdByMe=true (my classes)\n      - GET /api/services/classes?name=春季 (search by name)\n    ",
        "operationId": "ClassController_getAllClasses",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number",
            "schema": {
              "default": 1,
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "pageSize",
            "required": false,
            "in": "query",
            "description": "Page size (max 100)",
            "schema": {
              "default": 10,
              "example": 10,
              "type": "number"
            }
          },
          {
            "name": "sortBy",
            "required": false,
            "in": "query",
            "description": "Sort field",
            "schema": {
              "default": "createdAt",
              "example": "createdAt",
              "type": "string"
            }
          },
          {
            "name": "sortOrder",
            "required": false,
            "in": "query",
            "description": "Sort order",
            "schema": {
              "default": "desc",
              "example": "desc",
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ]
            }
          },
          {
            "name": "status",
            "required": false,
            "in": "query",
            "description": "Filter by status",
            "schema": {
              "type": "string",
              "enum": [
                "Active",
                "Inactive"
              ]
            }
          },
          {
            "name": "type",
            "required": false,
            "in": "query",
            "description": "Filter by type",
            "schema": {
              "type": "string",
              "enum": [
                "session",
                "enroll"
              ]
            }
          },
          {
            "name": "createdByMe",
            "required": false,
            "in": "query",
            "description": "Filter by created by me (current user)",
            "schema": {
              "example": true,
              "type": "boolean"
            }
          },
          {
            "name": "name",
            "required": false,
            "in": "query",
            "description": "Filter by class name (fuzzy search)",
            "schema": {
              "example": "春季",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Classes retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetAllClassesResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get classes with pagination and filters",
        "tags": [
          "Services - Class Management"
        ]
      }
    },
    "/api/services/classes/{id}/mentors": {
      "get": {
        "description": "Retrieve list of mentors assigned to the class with their names",
        "operationId": "ClassController_getClassMentors",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Class ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Mentors retrieved successfully"
          },
          "404": {
            "description": "Class not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get class mentors with names",
        "tags": [
          "Services - Class Management"
        ]
      },
      "post": {
        "description": "Add a mentor to the class with price per session",
        "operationId": "ClassController_addMentor",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Class ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddMentorRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Mentor added successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AddMemberResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Class not found"
          },
          "409": {
            "description": "Mentor already exists in this class"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Add mentor to class",
        "tags": [
          "Services - Class Management"
        ]
      }
    },
    "/api/services/classes/{id}/students": {
      "get": {
        "description": "Retrieve list of students enrolled in the class with their names",
        "operationId": "ClassController_getClassStudents",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Class ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Students retrieved successfully"
          },
          "404": {
            "description": "Class not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get class students with names",
        "tags": [
          "Services - Class Management"
        ]
      },
      "post": {
        "description": "Add a student to the class",
        "operationId": "ClassController_addStudent",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Class ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddStudentRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Student added successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AddMemberResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Class not found"
          },
          "409": {
            "description": "Student already exists in this class"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Add student to class",
        "tags": [
          "Services - Class Management"
        ]
      }
    },
    "/api/services/classes/{id}/counselors": {
      "get": {
        "description": "Retrieve list of counselors assigned to the class with their names",
        "operationId": "ClassController_getClassCounselors",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Class ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Counselors retrieved successfully"
          },
          "404": {
            "description": "Class not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get class counselors with names",
        "tags": [
          "Services - Class Management"
        ]
      },
      "post": {
        "description": "Add a counselor to the class",
        "operationId": "ClassController_addCounselor",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Class ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddCounselorRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Counselor added successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AddMemberResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Class not found"
          },
          "409": {
            "description": "Counselor already exists in this class"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Add counselor to class",
        "tags": [
          "Services - Class Management"
        ]
      }
    },
    "/api/services/classes/{id}": {
      "get": {
        "description": "Retrieve detailed information about a specific class",
        "operationId": "ClassController_getClassDetail",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Class ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Class retrieved successfully"
          },
          "404": {
            "description": "Class not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get class details",
        "tags": [
          "Services - Class Management"
        ]
      },
      "patch": {
        "description": "Update class details like name, dates, or description",
        "operationId": "ClassController_updateClass",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Class ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateClassRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Class updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateClassResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Class not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update class information",
        "tags": [
          "Services - Class Management"
        ]
      }
    },
    "/api/services/classes/{id}/status": {
      "patch": {
        "description": "Change class status (DRAFT, ACTIVE, COMPLETED, CANCELLED)",
        "operationId": "ClassController_updateClassStatus",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Class ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateClassStatusRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Class status updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClassStatusResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Class not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update class status",
        "tags": [
          "Services - Class Management"
        ]
      }
    },
    "/api/services/classes/{id}/mentors/{mentorId}": {
      "delete": {
        "description": "Remove a mentor from the class",
        "operationId": "ClassController_removeMentor",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Class ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "mentorId",
            "required": true,
            "in": "path",
            "description": "Mentor user ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Mentor removed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RemoveMemberResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Class or mentor not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Remove mentor from class",
        "tags": [
          "Services - Class Management"
        ]
      }
    },
    "/api/services/classes/{id}/mentors/{mentorId}/price": {
      "patch": {
        "description": "Update the price per session for a specific mentor in the class",
        "operationId": "ClassController_updateMentorPrice",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Class ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "mentorId",
            "required": true,
            "in": "path",
            "description": "Mentor user ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateClassMentorPriceInClassRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Mentor price updated successfully"
          },
          "404": {
            "description": "Class or mentor not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update mentor price per session",
        "tags": [
          "Services - Class Management"
        ]
      }
    },
    "/api/services/classes/{id}/students/{studentId}": {
      "delete": {
        "description": "Remove a student from the class",
        "operationId": "ClassController_removeStudent",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Class ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "studentId",
            "required": true,
            "in": "path",
            "description": "Student user ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Student removed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RemoveMemberResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Class or student not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Remove student from class",
        "tags": [
          "Services - Class Management"
        ]
      }
    },
    "/api/services/classes/{id}/counselors/{counselorId}": {
      "delete": {
        "description": "Remove a counselor from the class",
        "operationId": "ClassController_removeCounselor",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Class ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "counselorId",
            "required": true,
            "in": "path",
            "description": "Counselor user ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Counselor removed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RemoveMemberResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Class or counselor not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Remove counselor from class",
        "tags": [
          "Services - Class Management"
        ]
      }
    },
    "/api/services/class-sessions": {
      "post": {
        "description": "\n      Create a new class session for multiple students.\n      \n      Sync Flow (returns immediately):\n      1. Create calendar slot for mentor\n      2. Create session record with PENDING_MEETING status\n      3. Return response with sessionId and status\n      \n      Async Flow (runs in background):\n      1. Create meeting link via third-party API\n      2. Update session with meeting_id and status=SCHEDULED\n      3. Publish CLASS_SESSION_CREATED_EVENT\n      \n      Client should poll GET /api/services/class-sessions/:id to check status and get meetingUrl\n    ",
        "operationId": "ClassSessionController_createSession",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateClassSessionRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Class session created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateClassSessionResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters"
          },
          "404": {
            "description": "Class not found"
          },
          "409": {
            "description": "Time conflict (mentor already scheduled)"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create a new class session",
        "tags": [
          "Services - Class Session Management"
        ]
      },
      "get": {
        "description": "\n      Retrieve class sessions with optional filtering.\n      \n      Query Parameters:\n      - classId (optional): Filter by specific class ID\n      - mentorId (optional): Filter by specific mentor ID\n      - status (optional): Filter by session status\n      - startDate (optional): Filter by start date\n      - endDate (optional): Filter by end date\n    ",
        "operationId": "ClassSessionController_getSessionsList",
        "parameters": [
          {
            "name": "classId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "mentorId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Class sessions retrieved successfully"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get list of class sessions",
        "tags": [
          "Services - Class Session Management"
        ]
      }
    },
    "/api/services/class-sessions/{id}": {
      "get": {
        "description": "Retrieve detailed information about a specific class session",
        "operationId": "ClassSessionController_getSessionDetail",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Session ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Class session retrieved successfully"
          },
          "404": {
            "description": "Session not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get class session details",
        "tags": [
          "Services - Class Session Management"
        ]
      },
      "patch": {
        "description": "Update session details like title, description, or scheduled time",
        "operationId": "ClassSessionController_updateSession",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Session ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateClassSessionRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Class session updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateClassSessionResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Session not found"
          },
          "409": {
            "description": "Time conflict detected"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update class session",
        "tags": [
          "Services - Class Session Management"
        ]
      },
      "delete": {
        "description": "Soft delete a class session (marks as deleted)",
        "operationId": "ClassSessionController_deleteSession",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Session ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Class session deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteClassSessionResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Session not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Delete class session",
        "tags": [
          "Services - Class Session Management"
        ]
      }
    },
    "/api/services/class-sessions/{id}/cancel": {
      "post": {
        "description": "\n      Cancel an existing class session with optional reason.\n      \n      Sync Flow (immediate response):\n      - Update session status to CANCELLED\n      - Release calendar slots\n      - Return cancelled session details\n      \n      Async Flow (background):\n      - Cancel meeting via third-party API (max 3 retries)\n      - Update meetings table\n      - Send notifications\n    ",
        "operationId": "ClassSessionController_cancelSession",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Session ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CancelClassSessionRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Class session cancelled successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CancelClassSessionResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid session status"
          },
          "404": {
            "description": "Session not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Cancel class session",
        "tags": [
          "Services - Class Session Management"
        ]
      }
    },
    "/api/services/resumes/upload": {
      "post": {
        "operationId": "ResumeController_uploadResume",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UploadResumeRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Resume uploaded successfully"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Upload resume",
        "tags": [
          "Resume Management"
        ]
      }
    },
    "/api/services/resumes/student/{studentUserId}": {
      "get": {
        "operationId": "ResumeController_listResumesByStudent",
        "parameters": [
          {
            "name": "studentUserId",
            "required": true,
            "in": "path",
            "description": "Student user ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Resumes retrieved successfully"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get student resumes grouped by job title",
        "tags": [
          "Resume Management"
        ]
      }
    },
    "/api/services/resumes/{resumeId}/set-final": {
      "post": {
        "operationId": "ResumeController_setFinal",
        "parameters": [
          {
            "name": "resumeId",
            "required": true,
            "in": "path",
            "description": "Resume ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetFinalRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Resume set as final successfully"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Set resume as final version",
        "tags": [
          "Resume Management"
        ]
      }
    },
    "/api/services/resumes/{resumeId}/cancel-final": {
      "post": {
        "operationId": "ResumeController_cancelFinal",
        "parameters": [
          {
            "name": "resumeId",
            "required": true,
            "in": "path",
            "description": "Resume ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetFinalRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Final status canceled successfully"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Cancel final status",
        "tags": [
          "Resume Management"
        ]
      }
    },
    "/api/services/resumes/{resumeId}/bill": {
      "post": {
        "operationId": "ResumeController_billResume",
        "parameters": [
          {
            "name": "resumeId",
            "required": true,
            "in": "path",
            "description": "Resume ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BillResumeRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Resume billed successfully"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Bill resume to mentor",
        "tags": [
          "Resume Management"
        ]
      }
    },
    "/api/services/resumes/{resumeId}/cancel-bill": {
      "post": {
        "operationId": "ResumeController_cancelBillResume",
        "parameters": [
          {
            "name": "resumeId",
            "required": true,
            "in": "path",
            "description": "Resume ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CancelBillResumeRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Resume billing cancelled successfully"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Cancel resume billing",
        "tags": [
          "Resume Management"
        ]
      }
    },
    "/api/services/resumes/{resumeId}": {
      "delete": {
        "operationId": "ResumeController_deleteResume",
        "parameters": [
          {
            "name": "resumeId",
            "required": true,
            "in": "path",
            "description": "Resume ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Resume deleted successfully"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Delete resume",
        "tags": [
          "Resume Management"
        ]
      }
    },
    "/api/services/recomm-letters/upload": {
      "post": {
        "operationId": "RecommLetterController_uploadRecommLetter",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UploadRecommLetterRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Recommendation letter uploaded successfully"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Upload recommendation letter (counselor only)",
        "tags": [
          "Recommendation Letter Management"
        ]
      }
    },
    "/api/services/recomm-letters/student/{studentUserId}": {
      "get": {
        "operationId": "RecommLetterController_listRecommLettersByStudent",
        "parameters": [
          {
            "name": "studentUserId",
            "required": true,
            "in": "path",
            "description": "Student user ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Recommendation letters retrieved successfully"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get student recommendation letters",
        "tags": [
          "Recommendation Letter Management"
        ]
      }
    },
    "/api/services/recomm-letters/{letterId}/bill": {
      "post": {
        "operationId": "RecommLetterController_billRecommLetter",
        "parameters": [
          {
            "name": "letterId",
            "required": true,
            "in": "path",
            "description": "Recommendation letter ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BillRecommLetterRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Recommendation letter billed successfully"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Bill recommendation letter to mentor (counselor only)",
        "tags": [
          "Recommendation Letter Management"
        ]
      }
    },
    "/api/services/recomm-letters/{letterId}/cancel-bill": {
      "post": {
        "operationId": "RecommLetterController_cancelBillRecommLetter",
        "parameters": [
          {
            "name": "letterId",
            "required": true,
            "in": "path",
            "description": "Recommendation letter ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CancelBillRecommLetterRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Recommendation letter billing cancelled successfully"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Cancel recommendation letter billing (counselor only)",
        "tags": [
          "Recommendation Letter Management"
        ]
      }
    },
    "/api/services/recomm-letters/{letterId}": {
      "delete": {
        "operationId": "RecommLetterController_deleteRecommLetter",
        "parameters": [
          {
            "name": "letterId",
            "required": true,
            "in": "path",
            "description": "Recommendation letter ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Recommendation letter deleted successfully"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Delete recommendation letter (counselor only)",
        "tags": [
          "Recommendation Letter Management"
        ]
      }
    },
    "/api/mentors/find": {
      "get": {
        "operationId": "MentorsController_findMentors",
        "parameters": [
          {
            "name": "text",
            "required": false,
            "in": "query",
            "description": "Search keyword to filter mentors",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "studentId",
            "required": false,
            "in": "query",
            "description": "Filter mentors by student ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Mentor results retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MentorSummaryResponseDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "find mentor",
        "tags": [
          "Mentors"
        ]
      }
    },
    "/api/mentors/list": {
      "get": {
        "operationId": "MentorsController_getMentorList",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Mentors retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MentorSummaryResponseDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "list mentor total info",
        "tags": [
          "Mentors"
        ]
      }
    },
    "/api/mentors/profile": {
      "get": {
        "operationId": "MentorProfileController_getProfile",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Mentor profile retrieved successfully"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get mentor profile",
        "tags": [
          "Mentor Profile"
        ]
      },
      "put": {
        "operationId": "MentorProfileController_updateProfile",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMentorProfileDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Mentor profile updated successfully"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update mentor profile",
        "tags": [
          "Mentor Profile"
        ]
      }
    },
    "/api/students/find": {
      "get": {
        "operationId": "StudentsController_findStudents",
        "parameters": [
          {
            "name": "text",
            "required": false,
            "in": "query",
            "description": "Search keyword (searches in both Chinese and English names)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "counselorId",
            "required": false,
            "in": "query",
            "description": "Filter by counselor ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "mentorId",
            "required": false,
            "in": "query",
            "description": "Filter by mentor ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Student results retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/StudentSummaryResponseDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "find students",
        "tags": [
          "Students"
        ]
      }
    },
    "/api/students/listOfCounselorView": {
      "get": {
        "operationId": "StudentsController_listOfCounselorView",
        "parameters": [
          {
            "name": "text",
            "required": false,
            "in": "query",
            "description": "Search keyword (searches in both Chinese and English names)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "studentId",
            "required": false,
            "in": "query",
            "description": "Filter by specific student ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number (starting from 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "pageSize",
            "required": false,
            "in": "query",
            "description": "Number of items per page (max 100)",
            "schema": {
              "example": 20,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Paginated student list for counselor view retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedStudentCounselorViewResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get paginated student list for counselor view with school and major names",
        "tags": [
          "Students"
        ]
      }
    },
    "/api/students/{studentId}/profile": {
      "get": {
        "operationId": "StudentProfileController_getProfile",
        "parameters": [
          {
            "name": "studentId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Student profile retrieved successfully"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get student profile",
        "tags": [
          "Student Profile"
        ]
      },
      "put": {
        "operationId": "StudentProfileController_updateProfile",
        "parameters": [
          {
            "name": "studentId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateStudentProfileDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Student profile updated successfully"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update student profile",
        "tags": [
          "Student Profile"
        ]
      }
    },
    "/api/products": {
      "post": {
        "description": "Creates a catalog product with optional entitlement items. [创建目录产品，可选带权益项]",
        "operationId": "ProductsController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateProductRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Product created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create a new product",
        "tags": [
          "Catalog"
        ]
      },
      "get": {
        "description": "Retrieve paginated products list with filtering and sorting. [获取分页产品列表，支持筛选和排序]",
        "operationId": "ProductsController_getProducts",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number (starts from 1) [页码(从1开始)]",
            "schema": {
              "default": 1,
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "pageSize",
            "required": false,
            "in": "query",
            "description": "Items per page [每页条数]",
            "schema": {
              "maximum": 100,
              "default": 20,
              "example": 20,
              "type": "number"
            }
          },
          {
            "name": "status",
            "required": false,
            "in": "query",
            "description": "Product status filter [产品状态筛选]",
            "schema": {
              "example": "ACTIVE",
              "type": "string",
              "enum": [
                "DRAFT",
                "ACTIVE",
                "INACTIVE",
                "DELETED"
              ]
            }
          },
          {
            "name": "type",
            "required": false,
            "in": "query",
            "description": "Product type filter [产品类型筛选]",
            "schema": {
              "example": "mentoring_package",
              "type": "string"
            }
          },
          {
            "name": "keyword",
            "required": false,
            "in": "query",
            "description": "Keyword search (searches in name and title) [关键词搜索]",
            "schema": {
              "example": "premium course",
              "type": "string"
            }
          },
          {
            "name": "minPrice",
            "required": false,
            "in": "query",
            "description": "Minimum price filter [最低价格筛选]",
            "schema": {
              "example": 100,
              "type": "string"
            }
          },
          {
            "name": "maxPrice",
            "required": false,
            "in": "query",
            "description": "Maximum price filter [最高价格筛选]",
            "schema": {
              "example": 1000,
              "type": "string"
            }
          },
          {
            "name": "field",
            "required": false,
            "in": "query",
            "description": "Sort field [排序字段]",
            "schema": {
              "example": "createdAt",
              "type": "string"
            }
          },
          {
            "name": "order",
            "required": false,
            "in": "query",
            "description": "Sort order [排序方向]",
            "schema": {
              "example": "desc",
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Products retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductListResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get products list with pagination",
        "tags": [
          "Catalog"
        ]
      }
    },
    "/api/products/{id}/snapshot": {
      "get": {
        "description": "Creates a frozen snapshot of the current product for contract creation. [创建当前产品的冻结快照，用于创建合同]",
        "operationId": "ProductsController_createSnapshot",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Product ID (UUID). [产品ID(UUID)]",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Product snapshot created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductSnapshotResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Product not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create product snapshot",
        "tags": [
          "Catalog"
        ]
      }
    },
    "/api/products/{id}": {
      "get": {
        "description": "Returns product detail with enriched entitlement items (service type code/name). [返回产品详情，包含补全后的权益项(服务类型编码/名称)]",
        "operationId": "ProductsController_getProductDetail",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Product ID (UUID). [产品ID(UUID)]",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Product detail returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductDetailResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Product not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get product detail (with entitlements)",
        "tags": [
          "Catalog"
        ]
      },
      "patch": {
        "description": "Updates product fields and product items (add/remove/sort). [更新产品字段及产品项(新增/删除/排序)]",
        "operationId": "ProductsController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Product ID (UUID). [产品ID(UUID)]",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProductRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Product updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Product not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update product",
        "tags": [
          "Catalog"
        ]
      }
    },
    "/api/products/{id}/status": {
      "patch": {
        "description": "Updates product lifecycle status (e.g., DRAFT/ACTIVE/INACTIVE). [更新产品生命周期状态，如DRAFT/ACTIVE/INACTIVE]",
        "operationId": "ProductsController_updateStatus",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Product ID (UUID). [产品ID(UUID)]",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProductStatusRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Product status updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request or invalid status transition"
          },
          "404": {
            "description": "Product not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update product status",
        "tags": [
          "Catalog"
        ]
      }
    },
    "/api/contracts/students/{studentId}/service-balance": {
      "get": {
        "description": "Retrieve all service entitlements (balance information) for a student. [获取学生的服务权益余额信息]",
        "operationId": "ContractsController_getStudentServiceBalance",
        "parameters": [
          {
            "name": "studentId",
            "required": true,
            "in": "path",
            "description": "Student ID (UUID). [学生ID(UUID)]",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Service entitlements retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ServiceBalanceResponseDto"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid student ID format"
          },
          "404": {
            "description": "Student not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get service entitlements for a specific student",
        "tags": [
          "Contracts"
        ]
      }
    },
    "/api/contracts/students/{studentId}": {
      "get": {
        "description": "Retrieve all contracts purchased by a student with product information and contract status. [查询学生购买的合同列表，包含产品摘要与合同状态]",
        "operationId": "ContractsController_getStudentContracts",
        "parameters": [
          {
            "name": "studentId",
            "required": true,
            "in": "path",
            "description": "Student ID (UUID). [学生ID(UUID)]",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Student contracts retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/StudentContractResponseDto"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid student ID format"
          },
          "404": {
            "description": "Student not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get contracts purchased by a specific student",
        "tags": [
          "Contracts"
        ]
      }
    },
    "/api/contracts": {
      "get": {
        "description": "Retrieve paginated contracts list with various filter options",
        "operationId": "ContractsController_getContracts",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number (starts from 1) [页码(从1开始)]",
            "schema": {
              "default": 1,
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "pageSize",
            "required": false,
            "in": "query",
            "description": "Items per page [每页条数]",
            "schema": {
              "maximum": 100,
              "default": 20,
              "example": 20,
              "type": "number"
            }
          },
          {
            "name": "studentId",
            "required": false,
            "in": "query",
            "description": "Student ID for filtering [学生ID筛选]",
            "schema": {
              "example": "9e50af7d-5f08-4516-939f-7f765ce131b8",
              "type": "string"
            }
          },
          {
            "name": "status",
            "required": false,
            "in": "query",
            "description": "Contract status filter [合同状态筛选]",
            "schema": {
              "example": "active",
              "type": "string",
              "enum": [
                "DRAFT",
                "SIGNED",
                "ACTIVE",
                "SUSPENDED",
                "COMPLETED",
                "TERMINATED"
              ]
            }
          },
          {
            "name": "productId",
            "required": false,
            "in": "query",
            "description": "Product ID filter [产品ID筛选]",
            "schema": {
              "example": "9e50af7d-5f08-4516-939f-7f765ce131b8",
              "type": "string"
            }
          },
          {
            "name": "startDate",
            "required": false,
            "in": "query",
            "description": "Contract start date filter (ISO 8601) [合同开始日期筛选]",
            "schema": {
              "example": "2025-01-01",
              "type": "string"
            }
          },
          {
            "name": "endDate",
            "required": false,
            "in": "query",
            "description": "Contract end date filter (ISO 8601) [合同结束日期筛选]",
            "schema": {
              "example": "2025-12-31",
              "type": "string"
            }
          },
          {
            "name": "keyword",
            "required": false,
            "in": "query",
            "description": "Keyword search (searches in title, description) [关键词搜索]",
            "schema": {
              "example": "premium",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Contracts retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContractListResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get contracts list with pagination and filters",
        "tags": [
          "Contracts"
        ]
      },
      "post": {
        "description": "Creates a contract from a frozen product snapshot. [基于产品快照创建合同]",
        "operationId": "ContractsController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateContractRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Contract created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContractResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create a new contract",
        "tags": [
          "Contracts"
        ]
      }
    },
    "/api/contracts/{id}/status": {
      "patch": {
        "description": "Updates contract status with optional reason/signer. [更新合同状态，可选原因/签署人]",
        "operationId": "ContractsController_updateStatus",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Contract ID (UUID). [合同ID(UUID)]",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateContractStatusRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Contract status updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContractResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid status transition"
          },
          "404": {
            "description": "Contract not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update contract status",
        "tags": [
          "Contracts"
        ]
      }
    },
    "/api/contracts/{id}": {
      "patch": {
        "description": "Updates contract core fields (title/amount/currency/validity). [更新合同核心字段(标题/金额/币种/有效期)]",
        "operationId": "ContractsController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Contract ID (UUID). [合同ID(UUID)]",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateContractRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Contract updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContractResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Contract not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update contract",
        "tags": [
          "Contracts"
        ]
      }
    },
    "/api/contracts/consume": {
      "post": {
        "description": "Consumes student entitlements when a service is delivered (e.g., session completed). [在服务交付后消费学生权益，例如会话完成]",
        "operationId": "ContractsController_consumeService",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConsumeServiceRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Service consumed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsumeServiceResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "404": {
            "description": "Student or entitlement not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Consume service",
        "tags": [
          "Contracts"
        ]
      }
    },
    "/api/contracts/amendment-ledger": {
      "post": {
        "description": "Adds entitlement amendment ledger entry and returns updated entitlement record. [添加权益变更台账并返回更新后的权益记录]",
        "operationId": "ContractsController_addAmendmentLedger",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddAmendmentLedgerRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Amendment ledger added successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContractServiceEntitlementResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Add amendment ledger",
        "tags": [
          "Contracts"
        ]
      }
    },
    "/api/contracts/service-type-consumption": {
      "get": {
        "description": "Retrieve all service type consumption records with complete data for frontend chart layout. [获取所有服务类型权益消费记录，为前端图表布局提供完整数据支持]",
        "operationId": "ContractsController_getServiceTypeConsumptionRecords",
        "parameters": [
          {
            "name": "studentId",
            "required": false,
            "in": "query",
            "description": "Student ID (UUID) for filtering. [用于筛选的学生ID(UUID)]",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          },
          {
            "name": "mentorId",
            "required": false,
            "in": "query",
            "description": "Mentor ID (UUID) for filtering. [用于筛选的导师ID(UUID)]",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          },
          {
            "name": "status",
            "required": false,
            "in": "query",
            "description": "Status for filtering. [用于筛选的状态]",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number. Default: 1. [页码，默认值：1]",
            "schema": {
              "minimum": 1,
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "pageSize",
            "required": false,
            "in": "query",
            "description": "Page size. Default: 20. Max: 100. [每页条数，默认值：20，最大值：100]",
            "schema": {
              "minimum": 1,
              "maximum": 100,
              "example": 20,
              "type": "number"
            }
          },
          {
            "name": "sortField",
            "required": false,
            "in": "query",
            "description": "Sort field. Default: startDate. [排序字段，默认值：startDate]",
            "schema": {
              "example": "startDate",
              "type": "string"
            }
          },
          {
            "name": "sortOrder",
            "required": false,
            "in": "query",
            "description": "Sort order. Default: desc. [排序方向，默认值：desc]",
            "schema": {
              "example": "desc",
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ]
            }
          },
          {
            "description": "Student ID (UUID) for filtering. [用于筛选的学生ID(UUID)]",
            "required": false,
            "name": "studentId",
            "in": "query",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          },
          {
            "description": "Mentor ID (UUID) for filtering. [用于筛选的导师ID(UUID)]",
            "required": false,
            "name": "mentorId",
            "in": "query",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          },
          {
            "description": "Status for filtering. [用于筛选的状态]",
            "required": false,
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page number. Default: 1. [页码，默认值：1]",
            "required": false,
            "name": "page",
            "in": "query",
            "schema": {
              "minimum": 1,
              "example": 1,
              "type": "number"
            }
          },
          {
            "description": "Page size. Default: 20. Max: 100. [每页条数，默认值：20，最大值：100]",
            "required": false,
            "name": "pageSize",
            "in": "query",
            "schema": {
              "minimum": 1,
              "maximum": 100,
              "example": 20,
              "type": "number"
            }
          },
          {
            "description": "Sort field. Default: startDate. [排序字段，默认值：startDate]",
            "required": false,
            "name": "sortField",
            "in": "query",
            "schema": {
              "example": "startDate",
              "type": "string"
            }
          },
          {
            "description": "Sort order. Default: desc. [排序方向，默认值：desc]",
            "required": false,
            "name": "sortOrder",
            "in": "query",
            "schema": {
              "example": "desc",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Service type consumption records retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get all service type consumption records",
        "tags": [
          "Contracts"
        ]
      }
    },
    "/api/financial/mentor-appeals": {
      "get": {
        "description": "Lists mentor appeals with pagination, sorting, and filtering. [分页查询导师申诉列表，支持排序和筛选]",
        "operationId": "FinancialController_listMentorAppeals",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "当前页码，默认值：1. [Page number, default: 1]",
            "schema": {
              "minimum": 1,
              "default": 1,
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "pageSize",
            "required": false,
            "in": "query",
            "description": "每页条数，默认值：20，最大值：100. [Page size, default: 20, max: 100]",
            "schema": {
              "minimum": 1,
              "maximum": 100,
              "default": 20,
              "example": 20,
              "type": "number"
            }
          },
          {
            "name": "sortBy",
            "required": false,
            "in": "query",
            "description": "排序字段，默认：createdAt. [Sort field, default: createdAt]. 可选值: createdAt, appealAmount, status",
            "schema": {
              "default": "createdAt",
              "example": "createdAt",
              "type": "string"
            }
          },
          {
            "name": "sortDirection",
            "required": false,
            "in": "query",
            "description": "排序方向，默认：desc. [Sort direction, default: desc]",
            "schema": {
              "default": "desc",
              "example": "desc",
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ]
            }
          },
          {
            "name": "status",
            "required": false,
            "in": "query",
            "description": "筛选：申诉状态. [Filter: Appeal status]",
            "schema": {
              "type": "string",
              "enum": [
                "PENDING",
                "APPROVED",
                "REJECTED"
              ]
            }
          },
          {
            "name": "mentorId",
            "required": false,
            "in": "query",
            "description": "筛选：导师ID. [Filter: Mentor ID]",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          },
          {
            "name": "counselorId",
            "required": false,
            "in": "query",
            "description": "筛选：顾问ID. [Filter: Counselor ID]",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          },
          {
            "name": "studentId",
            "required": false,
            "in": "query",
            "description": "筛选：学生ID. [Filter: Student ID]",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          },
          {
            "name": "appealType",
            "required": false,
            "in": "query",
            "description": "筛选：申诉类型. [Filter: Appeal type]",
            "schema": {
              "type": "string",
              "enum": [
                "billing_error",
                "missing_service",
                "price_dispute",
                "other"
              ]
            }
          },
          {
            "name": "paymentMonth",
            "required": false,
            "in": "query",
            "description": "筛选：支付月份 (YYYY-MM格式). [Filter: Payment month (YYYY-MM format)]",
            "schema": {
              "example": "2025-11",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Mentor appeals retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedMentorAppealResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "List mentor appeals",
        "tags": [
          "Financial"
        ]
      },
      "post": {
        "description": "Creates a mentor appeal record. IMPORTANT: mentorId is automatically extracted from JWT token and should NOT be included in the request body. [创建导师申诉记录。重要：mentorId从JWT token自动提取，不应包含在请求体中]",
        "operationId": "FinancialController_createMentorAppeal",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMentorAppealRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Mentor appeal created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MentorAppealResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create a new mentor appeal",
        "tags": [
          "Financial"
        ]
      }
    },
    "/api/financial/mentor-appeals/{id}/approve": {
      "patch": {
        "description": "Approves a pending mentor appeal and optionally overrides amount/currency. [批准待处理导师申诉，可选覆盖金额/币种]",
        "operationId": "FinancialController_approveMentorAppeal",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Appeal ID (UUID). [申诉ID(UUID)]",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ApproveMentorAppealRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Mentor appeal approved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MentorAppealResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "404": {
            "description": "Mentor appeal not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Approve mentor appeal",
        "tags": [
          "Financial"
        ]
      }
    },
    "/api/financial/mentor-appeals/{id}/reject": {
      "patch": {
        "description": "Rejects a pending mentor appeal and records rejection reason. [驳回待处理导师申诉并记录驳回理由]",
        "operationId": "FinancialController_rejectMentorAppeal",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Appeal ID (UUID). [申诉ID(UUID)]",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RejectMentorAppealRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Mentor appeal rejected successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MentorAppealResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Mentor appeal not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Reject mentor appeal",
        "tags": [
          "Financial"
        ]
      }
    },
    "/api/financial/settlements": {
      "post": {
        "description": "Generates a settlement ledger for a mentor and month. [为指定导师与月份生成结算记录]",
        "operationId": "FinancialController_generateSettlement",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSettlementRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Settlement generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SettlementDetailResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Generate settlement bill",
        "tags": [
          "Financial"
        ]
      }
    },
    "/api/financial/mentor-prices": {
      "get": {
        "description": "Lists mentor prices with pagination, sorting, and mentor information. [分页查询导师价格列表，支持排序和导师信息]",
        "operationId": "FinancialController_listMentorPrices",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "当前页码，默认值：1. [Page number, default: 1]",
            "schema": {
              "minimum": 1,
              "default": 1,
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "pageSize",
            "required": false,
            "in": "query",
            "description": "每页条数，默认值：20，最大值：100. [Page size, default: 20, max: 100]",
            "schema": {
              "minimum": 1,
              "maximum": 100,
              "default": 20,
              "example": 20,
              "type": "number"
            }
          },
          {
            "name": "sortBy",
            "required": false,
            "in": "query",
            "description": "排序字段，默认：createdAt. [Sort field, default: createdAt]. 可选值: createdAt, updatedAt, price, mentorUserId, status",
            "schema": {
              "default": "createdAt",
              "example": "createdAt",
              "type": "string"
            }
          },
          {
            "name": "sortDirection",
            "required": false,
            "in": "query",
            "description": "排序方向，默认：desc. [Sort direction, default: desc]",
            "schema": {
              "default": "desc",
              "example": "desc",
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ]
            }
          },
          {
            "name": "mentorUserId",
            "required": false,
            "in": "query",
            "description": "筛选：导师用户ID. [Filter: Mentor user ID]",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          },
          {
            "name": "status",
            "required": false,
            "in": "query",
            "description": "筛选：状态. [Filter: Status]",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Mentor prices retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedMentorPriceResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "List mentor prices with pagination",
        "tags": [
          "Financial"
        ]
      },
      "post": {
        "description": "Creates mentor pricing configuration for a session type. [创建导师某会话类型的价格配置]",
        "operationId": "FinancialController_createMentorPrice",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMentorPriceRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Mentor price created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MentorPriceResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create mentor price",
        "tags": [
          "Financial"
        ]
      }
    },
    "/api/financial/mentor-prices/{id}": {
      "put": {
        "description": "Updates mentor pricing configuration fields. [更新导师价格配置字段]",
        "operationId": "FinancialController_updateMentorPrice",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Mentor price ID (UUID). [导师价格ID(UUID)]",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMentorPriceRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Mentor price updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MentorPriceResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Mentor price not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update mentor price",
        "tags": [
          "Financial"
        ]
      }
    },
    "/api/financial/mentor-prices/{id}/status": {
      "patch": {
        "description": "Activates or deactivates a mentor price record. [启用/停用导师价格记录]",
        "operationId": "FinancialController_updateMentorPriceStatus",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Mentor price ID (UUID). [导师价格ID(UUID)]",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMentorPriceStatusRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Mentor price status updated successfully"
          },
          "404": {
            "description": "Mentor price not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update mentor price status",
        "tags": [
          "Financial"
        ]
      }
    },
    "/api/financial/mentor-prices/batch": {
      "post": {
        "description": "Creates multiple mentor price records in one request. [一次请求批量创建导师价格记录]",
        "operationId": "FinancialController_batchCreateMentorPrices",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkCreateMentorPriceRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Mentor prices created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MentorPriceResponseDto"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Batch create mentor prices",
        "tags": [
          "Financial"
        ]
      },
      "put": {
        "description": "Updates multiple mentor price records in one request. [一次请求批量更新导师价格记录]",
        "operationId": "FinancialController_batchUpdateMentorPrices",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkUpdateMentorPriceRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Mentor prices updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MentorPriceResponseDto"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Batch update mentor prices",
        "tags": [
          "Financial"
        ]
      }
    },
    "/api/financial/payable-ledgers/{id}/adjust": {
      "post": {
        "description": "Creates an adjustment record for a payable ledger. [为应付账款创建调整记录]",
        "operationId": "FinancialController_adjustPayableLedger",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Payable ledger ID (UUID). [应付账款ID(UUID)]",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdjustPayableLedgerRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Payable ledger adjusted successfully"
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Adjust payable ledger",
        "tags": [
          "Financial"
        ]
      }
    },
    "/api/financial/payment-params/{currency}/{settlementMonth}": {
      "put": {
        "description": "Creates or updates default payment parameters for a currency and settlement month. [为币种+结算月份创建或更新默认支付参数]",
        "operationId": "FinancialController_updateOrCreatePaymentParams",
        "parameters": [
          {
            "name": "currency",
            "required": true,
            "in": "path",
            "description": "Currency code (ISO 4217). [币种码(ISO 4217)]",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "settlementMonth",
            "required": true,
            "in": "path",
            "description": "Settlement month (YYYY-MM). [结算月份(YYYY-MM)]",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PaymentParamUpdateRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Payment parameters updated successfully"
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create or update payment parameters",
        "tags": [
          "Financial"
        ]
      },
      "patch": {
        "description": "Partially modifies default payment parameters. [部分更新默认支付参数]",
        "operationId": "FinancialController_modifyPaymentParams",
        "parameters": [
          {
            "name": "currency",
            "required": true,
            "in": "path",
            "description": "Currency code (ISO 4217). [币种码(ISO 4217)]",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "settlementMonth",
            "required": true,
            "in": "path",
            "description": "Settlement month (YYYY-MM). [结算月份(YYYY-MM)]",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ModifyPaymentParamsRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Payment parameters modified successfully"
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Modify payment parameters",
        "tags": [
          "Financial"
        ]
      }
    },
    "/api/financial/mentor-payment-infos": {
      "put": {
        "description": "Creates or updates mentor payment info. paymentDetails is polymorphic by paymentMethod. [创建或更新导师支付信息，paymentDetails 随 paymentMethod 多态变化]",
        "operationId": "FinancialController_createOrUpdateMentorPaymentInfo",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateOrUpdateMentorPaymentInfoRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Mentor payment info updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MentorPaymentInfoResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create or update mentor payment info",
        "tags": [
          "Financial"
        ]
      }
    },
    "/api/financial/mentor-payment-infos/{id}/status": {
      "patch": {
        "description": "Updates status of a mentor payment info record. [更新导师支付信息记录状态]",
        "operationId": "FinancialController_updateMentorPaymentInfoStatus",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Payment info ID (UUID). [支付信息ID(UUID)]",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMentorPaymentInfoStatusRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Mentor payment info status updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MentorPaymentInfoResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Mentor payment info not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update mentor payment info status",
        "tags": [
          "Financial"
        ]
      }
    },
    "/api/placement/job-positions": {
      "post": {
        "description": "Creates a job position in recommended_jobs. createdBy is set from current user. [创建推荐岗位记录，createdBy 由当前用户注入]",
        "operationId": "PlacementController_createJobPosition",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateJobPositionRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Job position created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobPositionResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create a new job position",
        "tags": [
          "Placement"
        ]
      }
    },
    "/api/placement/job-positions/{id}/expire": {
      "patch": {
        "description": "Marks a job position as expired. [标记岗位为expired]",
        "operationId": "PlacementController_markJobPositionExpired",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Job ID (UUID). [岗位ID(UUID)]",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Job position marked as expired successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobPositionResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Job position not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Mark job position as expired",
        "tags": [
          "Placement"
        ]
      }
    },
    "/api/placement/job-applications/{id}/status": {
      "patch": {
        "description": "Updates application status based on state machine rules. Cannot set mentor_assigned status (use dedicated endpoint). Audit info is automatically captured from JWT. (基于状态机规则更新投递状态；不能设置mentor_assigned状态需使用专用接口；审计信息从JWT自动记录)",
        "operationId": "PlacementController_updateJobApplicationStatus",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Application ID (UUID). [投递ID(UUID)]",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateJobApplicationStatusRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Job application status updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobApplicationServiceResultResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Job application not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update job application status",
        "tags": [
          "Placement"
        ]
      }
    },
    "/api/placement/job-applications/{id}/rollback": {
      "patch": {
        "description": "Rolls back application status to previous state. [将投递状态回撤到上一个状态]",
        "operationId": "PlacementController_rollbackJobApplicationStatus",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Application ID (UUID). [投递ID(UUID)]",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RollbackJobApplicationStatusRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Job application status rolled back successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobApplicationResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - insufficient history or invalid transition"
          },
          "404": {
            "description": "Job application not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Rollback job application status",
        "tags": [
          "Placement"
        ]
      }
    },
    "/api/query/placement/jobs": {
      "get": {
        "description": "Queries recommended jobs with filter/pagination/sort. jobApplicationType is required. [带筛选/分页/排序查询推荐岗位，jobApplicationType必填]",
        "operationId": "PlacementQueryController_queryJobs",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number (1-based). Default: 1. [页码(从1开始)，默认1]",
            "schema": {
              "minimum": 1,
              "default": 1,
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "pageSize",
            "required": false,
            "in": "query",
            "description": "Page size. Default: 20. [每页条数，默认20]",
            "schema": {
              "minimum": 1,
              "maximum": 100,
              "default": 20,
              "example": 20,
              "type": "number"
            }
          },
          {
            "name": "sortField",
            "required": false,
            "in": "query",
            "description": "Sort field. Default: postDate. [排序字段，默认postDate]",
            "schema": {
              "default": "postDate",
              "example": "postDate",
              "type": "string"
            }
          },
          {
            "name": "sortDirection",
            "required": false,
            "in": "query",
            "description": "Sort direction. Default: desc. [排序方向，默认desc]",
            "schema": {
              "default": "desc",
              "example": "desc",
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ]
            }
          },
          {
            "name": "location",
            "required": false,
            "in": "query",
            "description": "Location filter (single value). [地点筛选(单值)]",
            "schema": {
              "example": "San Jose, CA",
              "type": "string"
            }
          },
          {
            "name": "jobType",
            "required": false,
            "in": "query",
            "description": "Job type filter (single value). [职位类型筛选(单值)]",
            "schema": {
              "example": "full_time",
              "type": "string"
            }
          },
          {
            "name": "level",
            "required": false,
            "in": "query",
            "description": "Job level filter. [岗位级别筛选]",
            "schema": {
              "example": "entry_level",
              "type": "string",
              "enum": [
                "entry_level",
                "mid_level",
                "senior_level"
              ]
            }
          },
          {
            "name": "jobTitles",
            "required": false,
            "in": "query",
            "description": "Job titles filter (multi). [职位标题筛选(多值)]",
            "schema": {
              "example": [
                "Software Engineer",
                "Backend Engineer"
              ],
              "type": "array",
              "items": {
                "type": "array"
              }
            }
          },
          {
            "name": "keyword",
            "required": false,
            "in": "query",
            "description": "Keyword search on title/company. [关键词搜索(标题/公司)]",
            "schema": {
              "example": "OpenAI",
              "type": "string"
            }
          },
          {
            "name": "status",
            "required": false,
            "in": "query",
            "description": "Job status filter. Default: active. [岗位状态筛选，默认active]",
            "schema": {
              "default": "active",
              "example": "active",
              "type": "string"
            }
          },
          {
            "name": "h1b",
            "required": false,
            "in": "query",
            "description": "H1B support filter. [H1B筛选]",
            "schema": {
              "example": "yes",
              "type": "string"
            }
          },
          {
            "name": "usCitizenship",
            "required": false,
            "in": "query",
            "description": "US citizenship requirement filter. [美国公民身份筛选]",
            "schema": {
              "example": "no",
              "type": "string"
            }
          },
          {
            "name": "jobApplicationType",
            "required": true,
            "in": "query",
            "description": "Job application type filter (single value). Required. [投递类型筛选(单值)，必填]",
            "schema": {
              "example": "direct",
              "type": "string",
              "enum": [
                "direct",
                "proxy",
                "referral",
                "bd"
              ]
            }
          },
          {
            "name": "startDate",
            "required": false,
            "in": "query",
            "description": "Start date (ISO 8601). [开始日期(ISO 8601)]",
            "schema": {
              "example": "2025-11-01",
              "type": "string"
            }
          },
          {
            "name": "endDate",
            "required": false,
            "in": "query",
            "description": "End date (ISO 8601). [结束日期(ISO 8601)]",
            "schema": {
              "example": "2025-11-30",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Job query completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobQueryResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Query jobs",
        "tags": [
          "Placement"
        ]
      }
    },
    "/api/query/placement/job-applications": {
      "get": {
        "description": "Queries job applications with filter/pagination/sort. Returns applications with student, mentor, and counselor information. [带筛选/分页/排序查询投递申请，返回包含学生、导师、顾问信息]",
        "operationId": "PlacementQueryController_queryJobApplications",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number (1-based). Default: 1. [页码(从1开始)，默认1]",
            "schema": {
              "minimum": 1,
              "default": 1,
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "pageSize",
            "required": false,
            "in": "query",
            "description": "Page size. Default: 20. [每页条数，默认20]",
            "schema": {
              "minimum": 1,
              "maximum": 100,
              "default": 20,
              "example": 20,
              "type": "number"
            }
          },
          {
            "name": "sortField",
            "required": false,
            "in": "query",
            "description": "Sort field. Default: submittedAt. [排序字段，默认submittedAt]",
            "schema": {
              "default": "submittedAt",
              "example": "submittedAt",
              "type": "string"
            }
          },
          {
            "name": "sortDirection",
            "required": false,
            "in": "query",
            "description": "Sort direction. Default: desc. [排序方向，默认desc]",
            "schema": {
              "default": "desc",
              "example": "desc",
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ]
            }
          },
          {
            "name": "status",
            "required": false,
            "in": "query",
            "description": "Application status filter. [申请状态筛选]",
            "schema": {
              "example": "submitted",
              "type": "string",
              "enum": [
                "recommended",
                "interested",
                "not_interested",
                "revoked",
                "mentor_assigned",
                "submitted",
                "interviewed",
                "got_offer",
                "rejected"
              ]
            }
          },
          {
            "name": "applicationType",
            "required": false,
            "in": "query",
            "description": "Application type filter. [申请类型筛选]",
            "schema": {
              "example": "referral",
              "type": "string",
              "enum": [
                "direct",
                "proxy",
                "referral",
                "bd"
              ]
            }
          },
          {
            "name": "studentId",
            "required": false,
            "in": "query",
            "description": "Student ID filter. [学生ID筛选]",
            "schema": {
              "example": "4d521e1f-7477-4744-b01b-845eab4155a0",
              "type": "string"
            }
          },
          {
            "name": "assignedMentorId",
            "required": false,
            "in": "query",
            "description": "Assigned mentor ID filter. [分配的导师ID筛选]",
            "schema": {
              "example": "65d6a77c-5a21-4c67-b6bb-6ef905bf4e0f",
              "type": "string"
            }
          },
          {
            "name": "recommendedBy",
            "required": false,
            "in": "query",
            "description": "Recommended by (counselor) ID filter. [推荐人(顾问)ID筛选]",
            "schema": {
              "example": "65d6a77c-5a21-4c67-b6bb-6ef905bf4e0f",
              "type": "string"
            }
          },
          {
            "name": "startDate",
            "required": false,
            "in": "query",
            "description": "Start date (ISO 8601). [开始日期(ISO 8601)]",
            "schema": {
              "example": "2025-01-01",
              "type": "string"
            }
          },
          {
            "name": "endDate",
            "required": false,
            "in": "query",
            "description": "End date (ISO 8601). [结束日期(ISO 8601)]",
            "schema": {
              "example": "2025-12-31",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Job application query completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobApplicationQueryResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Query job applications",
        "tags": [
          "Placement"
        ]
      }
    },
    "/api/placement/referrals/recommendations/batch": {
      "post": {
        "description": "Counselor recommends jobs to students by creating referral applications (all-or-nothing). [顾问批量给学生推荐岗位并创建内推投递记录(全成功事务)]",
        "operationId": "PlacementReferralController_batchRecommendReferralApplications",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlacementReferralBatchRecommendRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Referral applications recommended",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchJobApplicationsResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Batch recommend referral applications",
        "tags": [
          "Placement"
        ]
      }
    },
    "/api/placement/referrals/{applicationId}/mentor": {
      "patch": {
        "description": "Assigns mentor to a referral application and sets status to mentor_assigned. [为内推投递指定导师并设置状态为mentor_assigned]",
        "operationId": "PlacementReferralController_assignReferralMentor",
        "parameters": [
          {
            "name": "applicationId",
            "required": true,
            "in": "path",
            "description": "Application ID (UUID). [投递ID(UUID)]",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlacementReferralAssignMentorRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Referral mentor assigned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobApplicationResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Assign mentor for a referral application",
        "tags": [
          "Placement"
        ]
      }
    },
    "/api/placement/referrals/manual": {
      "post": {
        "description": "Counselor manually creates job applications with mentor assigned status. [顾问手工创建内推投递记录，状态默认设置为mentor_assigned]",
        "operationId": "PlacementReferralController_createManualReferral",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlacementReferralManualCreateRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Manual referral application created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobApplicationResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create manual referral application",
        "tags": [
          "Placement"
        ]
      }
    },
    "/api/placement/proxy/batch": {
      "post": {
        "description": "Counselor creates proxy applications for students (all-or-nothing). [顾问批量为学生代投岗位(全成功事务)]",
        "operationId": "PlacementProxyController_batchCreateProxyApplications",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlacementProxyBatchRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Proxy applications created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchJobApplicationsResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Batch create proxy applications",
        "tags": [
          "Placement"
        ]
      }
    },
    "/api/files/upload": {
      "post": {
        "operationId": "FileController_uploadFile",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  },
                  "folder": {
                    "type": "string",
                    "description": "S3 folder prefix (default: uploads)",
                    "example": "resumes"
                  }
                },
                "required": [
                  "file"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "summary": "Upload file to S3",
        "tags": [
          "Files"
        ]
      }
    },
    "/api/files/download-url": {
      "get": {
        "operationId": "FileController_getDownloadUrl",
        "parameters": [
          {
            "name": "fileUrl",
            "required": true,
            "in": "query",
            "description": "S3 file URL",
            "schema": {
              "example": "https://bucket.s3.amazonaws.com/uploads/xxx.pdf",
              "type": "string"
            }
          },
          {
            "name": "expiresIn",
            "required": false,
            "in": "query",
            "description": "URL expiration time in seconds (default: 900)",
            "schema": {
              "example": 900,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "summary": "Get presigned download URL for S3 file",
        "tags": [
          "Files"
        ]
      }
    }
  },
  "info": {
    "title": "MentorX API",
    "description": "MentorX backend OpenAPI specification",
    "version": "1.0.0",
    "contact": {}
  },
  "tags": [],
  "servers": [],
  "components": {
    "securitySchemes": {
      "bearer": {
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "type": "http"
      }
    },
    "schemas": {
      "RegisterDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "User email address",
            "example": "user@example.com"
          },
          "password": {
            "type": "string",
            "description": "User password (minimum 6 characters)",
            "example": "password123",
            "minLength": 6
          },
          "nameEn": {
            "type": "string",
            "description": "User English name",
            "example": "John Doe"
          },
          "nameZh": {
            "type": "string",
            "description": "User Chinese name",
            "example": "张三"
          },
          "gender": {
            "type": "string",
            "description": "User gender",
            "enum": [
              "male",
              "female"
            ],
            "example": "male"
          },
          "country": {
            "type": "string",
            "description": "ISO 3166-1 alpha-2 country code (US, CN, GB, CA)",
            "enum": [
              "US",
              "CN",
              "GB",
              "CA"
            ],
            "example": "US"
          },
          "role": {
            "type": "string",
            "description": "User role",
            "enum": [
              "student",
              "mentor",
              "counselor"
            ],
            "example": "student"
          }
        },
        "required": [
          "email",
          "password",
          "nameEn",
          "nameZh",
          "role"
        ]
      },
      "AuthUserResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Supabase user ID"
          },
          "email": {
            "type": "string",
            "description": "User email address"
          },
          "nameEn": {
            "type": "string",
            "description": "English name"
          },
          "nameZh": {
            "type": "string",
            "description": "Chinese name"
          },
          "status": {
            "type": "string",
            "description": "Account status (e.g., active, suspended)"
          },
          "roles": {
            "description": "Roles granted to the user",
            "example": [
              "student"
            ],
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "id",
          "email",
          "roles"
        ]
      },
      "AuthResponseDto": {
        "type": "object",
        "properties": {
          "accessToken": {
            "type": "string",
            "description": "JWT access token"
          },
          "refreshToken": {
            "type": "string",
            "description": "JWT refresh token"
          },
          "expiresIn": {
            "type": "number",
            "description": "Access token TTL in seconds",
            "example": 3600
          },
          "tokenType": {
            "type": "string",
            "description": "Token type (usually Bearer)",
            "example": "Bearer"
          },
          "user": {
            "description": "Authenticated user profile",
            "allOf": [
              {
                "$ref": "#/components/schemas/AuthUserResponseDto"
              }
            ]
          }
        },
        "required": [
          "accessToken",
          "refreshToken",
          "expiresIn",
          "tokenType",
          "user"
        ]
      },
      "LoginDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "User email address",
            "example": "user@example.com"
          },
          "password": {
            "type": "string",
            "description": "User password",
            "example": "password123"
          }
        },
        "required": [
          "email",
          "password"
        ]
      },
      "UserResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "User ID"
          },
          "gender": {
            "type": "string",
            "description": "User gender",
            "enum": [
              "male",
              "female"
            ]
          },
          "nameEn": {
            "type": "string",
            "description": "English name"
          },
          "nameZh": {
            "type": "string",
            "description": "Chinese name"
          },
          "status": {
            "type": "string",
            "description": "Account status (e.g., active, suspended)"
          },
          "email": {
            "type": "string",
            "description": "Email address"
          },
          "country": {
            "type": "string",
            "description": "ISO 3166-1 alpha-2 country code (US, CN, GB, CA)",
            "enum": [
              "US",
              "CN",
              "GB",
              "CA"
            ]
          },
          "roles": {
            "description": "User roles",
            "example": [
              "student"
            ],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "createdTime": {
            "type": "string",
            "description": "Creation timestamp",
            "format": "date-time"
          },
          "modifiedTime": {
            "type": "string",
            "description": "Last modification timestamp",
            "format": "date-time"
          }
        },
        "required": [
          "id"
        ]
      },
      "SchoolResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "School ID"
          },
          "nameZh": {
            "type": "string",
            "description": "School name in Chinese"
          },
          "nameEn": {
            "type": "string",
            "description": "School name in English"
          },
          "country": {
            "type": "string",
            "description": "ISO 3166-1 alpha-2 country code (US, CN, GB, CA)",
            "nullable": true,
            "enum": [
              "US",
              "CN",
              "GB",
              "CA"
            ],
            "example": "US"
          },
          "createdAt": {
            "type": "string",
            "description": "Record creation time",
            "format": "date-time"
          },
          "modifiedAt": {
            "type": "string",
            "description": "Record last modification time",
            "format": "date-time"
          }
        },
        "required": [
          "id",
          "nameZh",
          "nameEn",
          "createdAt",
          "modifiedAt"
        ]
      },
      "MajorResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Major ID"
          },
          "nameZh": {
            "type": "string",
            "description": "Major name in Chinese"
          },
          "nameEn": {
            "type": "string",
            "description": "Major name in English"
          },
          "degreeLevel": {
            "type": "string",
            "description": "Degree level (e.g., bachelor, master, phd)",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "description": "Record creation time",
            "format": "date-time"
          },
          "modifiedAt": {
            "type": "string",
            "description": "Record last modification time",
            "format": "date-time"
          }
        },
        "required": [
          "id",
          "nameZh",
          "nameEn",
          "createdAt",
          "modifiedAt"
        ]
      },
      "ServiceBalanceResponseDto": {
        "type": "object",
        "properties": {
          "studentId": {
            "type": "string",
            "description": "Student ID"
          },
          "serviceType": {
            "type": "string",
            "description": "Service type"
          },
          "totalQuantity": {
            "type": "number",
            "description": "Total quantity"
          },
          "consumedQuantity": {
            "type": "number",
            "description": "Consumed quantity"
          },
          "heldQuantity": {
            "type": "number",
            "description": "Held quantity"
          },
          "availableQuantity": {
            "type": "number",
            "description": "Available quantity"
          }
        },
        "required": [
          "studentId",
          "serviceType",
          "totalQuantity",
          "consumedQuantity",
          "heldQuantity",
          "availableQuantity"
        ]
      },
      "UpdateCounselorProfileDto": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "description": "Counselor status"
          }
        }
      },
      "CounselorSummaryResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Counselor ID"
          },
          "userId": {
            "type": "string",
            "description": "Associated user ID"
          },
          "status": {
            "type": "string",
            "description": "Counselor status"
          },
          "createdAt": {
            "type": "string",
            "description": "Record created time",
            "format": "date-time"
          },
          "modifiedAt": {
            "type": "string",
            "description": "Record last modified time",
            "format": "date-time"
          },
          "email": {
            "type": "string",
            "description": "Email address"
          },
          "nameEn": {
            "type": "string",
            "description": "English name"
          },
          "nameZh": {
            "type": "string",
            "description": "Chinese name"
          },
          "country": {
            "type": "string",
            "description": "ISO 3166-1 alpha-2 country code (US, CN, GB, CA)",
            "enum": [
              "US",
              "CN",
              "GB",
              "CA"
            ]
          },
          "gender": {
            "type": "string",
            "description": "Gender",
            "enum": [
              "male",
              "female"
            ]
          }
        },
        "required": [
          "id",
          "userId",
          "createdAt",
          "modifiedAt",
          "email"
        ]
      },
      "CreateSessionRequestDto": {
        "type": "object",
        "properties": {
          "sessionType": {
            "type": "string",
            "description": "Session Type",
            "example": "regular_mentoring",
            "enum": [
              "regular_mentoring",
              "gap_analysis",
              "ai_career"
            ]
          },
          "serviceType": {
            "type": "string",
            "description": "Service Type (business-level)",
            "example": "premium_mentoring"
          },
          "studentId": {
            "type": "string",
            "description": "Student ID",
            "example": "9e50af7d-5f08-4516-939f-7f765ce131b8"
          },
          "mentorId": {
            "type": "string",
            "description": "Mentor/Tutor ID",
            "example": "4903b94b-67cc-42a1-9b3e-91ebc51bcefc"
          },
          "sessionTypeId": {
            "type": "string",
            "description": "Session Type ID",
            "example": "uuid-session-type-id"
          },
          "title": {
            "type": "string",
            "description": "Session Title",
            "example": "Resume Coaching"
          },
          "description": {
            "type": "string",
            "description": "Session Description",
            "example": "Session description"
          },
          "scheduledAt": {
            "type": "string",
            "description": "Scheduled Start Time (ISO 8601)",
            "example": "2025-12-03T06:00:00Z"
          },
          "duration": {
            "type": "number",
            "description": "Session Duration in minutes",
            "example": 60
          },
          "meetingProvider": {
            "type": "string",
            "description": "Meeting Provider",
            "example": "feishu"
          }
        },
        "required": [
          "sessionType",
          "studentId",
          "mentorId",
          "sessionTypeId",
          "title",
          "scheduledAt"
        ]
      },
      "CreateSessionResponseDto": {
        "type": "object",
        "properties": {}
      },
      "SessionResponseDto": {
        "type": "object",
        "properties": {}
      },
      "UpdateSessionRequestDto": {
        "type": "object",
        "properties": {
          "sessionType": {
            "type": "string",
            "description": "Session Type",
            "example": "regular_mentoring",
            "enum": [
              "regular_mentoring",
              "gap_analysis",
              "ai_career",
              "comm_session",
              "class_session"
            ]
          },
          "title": {
            "type": "string",
            "description": "Session Title",
            "example": "Resume Coaching"
          },
          "description": {
            "type": "string",
            "description": "Session Description",
            "example": "Session description"
          },
          "scheduledAt": {
            "type": "string",
            "description": "Scheduled Start Time (ISO 8601)",
            "example": "2025-12-03T06:00:00Z"
          },
          "duration": {
            "type": "number",
            "description": "Session Duration in minutes",
            "example": 60
          }
        },
        "required": [
          "sessionType"
        ]
      },
      "CancelSessionRequestDto": {
        "type": "object",
        "properties": {
          "sessionType": {
            "type": "string",
            "description": "Session Type",
            "example": "regular_mentoring",
            "enum": [
              "regular_mentoring",
              "gap_analysis",
              "ai_career",
              "comm_session",
              "class_session"
            ]
          },
          "description": {
            "type": "string",
            "description": "Session Description",
            "example": "Cancelled by counselor"
          }
        },
        "required": [
          "sessionType"
        ]
      },
      "DeleteSessionRequestDto": {
        "type": "object",
        "properties": {
          "sessionType": {
            "type": "string",
            "description": "Session Type",
            "example": "regular_mentoring",
            "enum": [
              "regular_mentoring",
              "gap_analysis",
              "ai_career",
              "comm_session",
              "class_session"
            ]
          }
        },
        "required": [
          "sessionType"
        ]
      },
      "SessionTypeItemResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Session type ID"
          },
          "code": {
            "type": "string",
            "description": "Session type code"
          },
          "name": {
            "type": "object",
            "description": "Session type name (i18n)"
          },
          "isBilling": {
            "type": "boolean",
            "description": "Is billing enabled"
          }
        },
        "required": [
          "id",
          "code",
          "name",
          "isBilling"
        ]
      },
      "SessionTypeResponseDto": {
        "type": "object",
        "properties": {
          "serviceTypeCode": {
            "type": "string",
            "description": "Service type code (e.g., External, Internal)"
          },
          "sessionTypes": {
            "description": "Session types under this service type",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SessionTypeItemResponseDto"
            }
          }
        },
        "required": [
          "serviceTypeCode",
          "sessionTypes"
        ]
      },
      "RecommLetterTypeResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Type ID",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "typeCode": {
            "type": "string",
            "description": "Type code",
            "example": "online_package"
          },
          "typeName": {
            "type": "string",
            "description": "Type name",
            "example": "网申推荐信(Package)"
          },
          "serviceTypeCode": {
            "type": "string",
            "description": "Service type code",
            "example": "External"
          },
          "parentId": {
            "type": "string",
            "description": "Parent type ID",
            "example": "123e4567-e89b-12d3-a456-426614174000",
            "nullable": true
          },
          "active": {
            "type": "boolean",
            "description": "Active status",
            "example": true
          },
          "children": {
            "description": "Child types",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RecommLetterTypeResponseDto"
            }
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Created timestamp",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Updated timestamp",
            "example": "2024-01-01T00:00:00.000Z"
          }
        },
        "required": [
          "id",
          "typeCode",
          "typeName",
          "serviceTypeCode",
          "active",
          "children",
          "createdAt",
          "updatedAt"
        ]
      },
      "CreateRecommLetterTypeDto": {
        "type": "object",
        "properties": {
          "typeCode": {
            "type": "string",
            "description": "Type code (unique identifier)",
            "example": "online_5",
            "maxLength": 50
          },
          "typeName": {
            "type": "string",
            "description": "Type name (display name)",
            "example": "5 Online",
            "maxLength": 100
          },
          "serviceTypeCode": {
            "type": "string",
            "description": "Service type code (e.g., External, Internal)",
            "example": "External",
            "maxLength": 50
          },
          "parentId": {
            "type": "string",
            "description": "Parent type ID (for hierarchical structure)",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          }
        },
        "required": [
          "typeCode",
          "typeName",
          "serviceTypeCode"
        ]
      },
      "CreateCommSessionRequestDto": {
        "type": "object",
        "properties": {
          "studentId": {
            "type": "string",
            "description": "Student ID",
            "example": "9e50af7d-5f08-4516-939f-7f765ce131b8"
          },
          "mentorId": {
            "type": "string",
            "description": "Mentor/Tutor ID (Optional)",
            "example": "4903b94b-67cc-42a1-9b3e-91ebc51bcefc"
          },
          "title": {
            "type": "string",
            "description": "Session Title",
            "example": "Discussion about career"
          },
          "description": {
            "type": "string",
            "description": "Session Description",
            "example": "Session description"
          },
          "scheduledAt": {
            "type": "string",
            "description": "Scheduled Start Time (ISO 8601)",
            "example": "2025-12-03T06:00:00Z"
          },
          "duration": {
            "type": "number",
            "description": "Session Duration in minutes",
            "example": 60
          },
          "meetingProvider": {
            "type": "string",
            "description": "Meeting Provider",
            "example": "feishu"
          }
        },
        "required": [
          "studentId",
          "title",
          "scheduledAt"
        ]
      },
      "CreateCommSessionResponseDto": {
        "type": "object",
        "properties": {
          "sessionId": {
            "type": "string",
            "description": "Session ID",
            "example": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
          },
          "status": {
            "type": "string",
            "description": "Session Status",
            "example": "pending_meeting"
          },
          "scheduledAt": {
            "type": "string",
            "description": "Scheduled Start Time (ISO 8601)",
            "example": "2025-12-03T06:00:00Z"
          }
        },
        "required": [
          "sessionId",
          "status",
          "scheduledAt"
        ]
      },
      "CommSessionResponseDto": {
        "type": "object",
        "properties": {}
      },
      "UpdateCommSessionRequestDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "Session Title",
            "example": "Discussion about career"
          },
          "description": {
            "type": "string",
            "description": "Session Description",
            "example": "Session description"
          },
          "scheduledAt": {
            "type": "string",
            "description": "Scheduled Start Time (ISO 8601)",
            "example": "2025-12-03T06:00:00Z"
          },
          "duration": {
            "type": "number",
            "description": "Session Duration in minutes",
            "example": 60
          }
        }
      },
      "CreateClassRequestDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Class name",
            "example": "Spring 2025 Career Mentoring"
          },
          "type": {
            "type": "string",
            "description": "Class type",
            "enum": [
              "session",
              "enroll"
            ],
            "example": "session"
          },
          "startDate": {
            "type": "string",
            "description": "Start date (ISO 8601)",
            "example": "2025-01-01T00:00:00Z"
          },
          "endDate": {
            "type": "string",
            "description": "End date (ISO 8601)",
            "example": "2025-06-30T23:59:59Z"
          },
          "description": {
            "type": "string",
            "description": "Class description",
            "example": "Comprehensive career mentoring program"
          },
          "totalSessions": {
            "type": "number",
            "description": "Total number of sessions",
            "example": 10
          }
        },
        "required": [
          "name",
          "type",
          "startDate"
        ]
      },
      "CreateClassResponseDto": {
        "type": "object",
        "properties": {}
      },
      "GetAllClassesResponseDto": {
        "type": "object",
        "properties": {}
      },
      "UpdateClassRequestDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Class name",
            "example": "Spring 2025 Career Mentoring"
          },
          "startDate": {
            "type": "string",
            "description": "Start date (ISO 8601)",
            "example": "2025-01-01T00:00:00Z"
          },
          "endDate": {
            "type": "string",
            "description": "End date (ISO 8601)",
            "example": "2025-06-30T23:59:59Z"
          },
          "description": {
            "type": "string",
            "description": "Class description",
            "example": "Comprehensive career mentoring program"
          },
          "totalSessions": {
            "type": "number",
            "description": "Total number of sessions",
            "example": 10
          }
        }
      },
      "UpdateClassResponseDto": {
        "type": "object",
        "properties": {}
      },
      "UpdateClassStatusRequestDto": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "description": "Class status",
            "enum": [
              "Active",
              "Inactive"
            ],
            "example": "Active"
          }
        },
        "required": [
          "status"
        ]
      },
      "ClassStatusResponseDto": {
        "type": "object",
        "properties": {}
      },
      "AddMentorRequestDto": {
        "type": "object",
        "properties": {
          "mentorUserId": {
            "type": "string",
            "description": "Mentor user ID",
            "example": "4903b94b-67cc-42a1-9b3e-91ebc51bcefc"
          },
          "pricePerSession": {
            "type": "number",
            "description": "Price per session",
            "example": 100
          }
        },
        "required": [
          "mentorUserId",
          "pricePerSession"
        ]
      },
      "AddMemberResponseDto": {
        "type": "object",
        "properties": {}
      },
      "RemoveMemberResponseDto": {
        "type": "object",
        "properties": {}
      },
      "UpdateClassMentorPriceInClassRequestDto": {
        "type": "object",
        "properties": {
          "pricePerSession": {
            "type": "number",
            "description": "Price per session",
            "example": 120
          }
        },
        "required": [
          "pricePerSession"
        ]
      },
      "AddStudentRequestDto": {
        "type": "object",
        "properties": {
          "studentUserId": {
            "type": "string",
            "description": "Student user ID",
            "example": "9e50af7d-5f08-4516-939f-7f765ce131b8"
          }
        },
        "required": [
          "studentUserId"
        ]
      },
      "AddCounselorRequestDto": {
        "type": "object",
        "properties": {
          "counselorUserId": {
            "type": "string",
            "description": "Counselor user ID",
            "example": "7f123abc-4d56-78ef-90ab-cd1234567890"
          }
        },
        "required": [
          "counselorUserId"
        ]
      },
      "CreateClassSessionRequestDto": {
        "type": "object",
        "properties": {
          "classId": {
            "type": "string",
            "description": "Class ID",
            "example": "class-uuid-123"
          },
          "mentorId": {
            "type": "string",
            "description": "Mentor ID",
            "example": "4903b94b-67cc-42a1-9b3e-91ebc51bcefc"
          },
          "title": {
            "type": "string",
            "description": "Session Title",
            "example": "Week 1 - Career Planning Basics"
          },
          "description": {
            "type": "string",
            "description": "Session Description",
            "example": "Introduction to career planning fundamentals"
          },
          "scheduledAt": {
            "type": "string",
            "description": "Scheduled Start Time (ISO 8601)",
            "example": "2025-12-03T06:00:00Z"
          },
          "duration": {
            "type": "number",
            "description": "Session Duration in minutes",
            "example": 60
          },
          "meetingProvider": {
            "type": "string",
            "description": "Meeting Provider",
            "example": "feishu"
          }
        },
        "required": [
          "classId",
          "mentorId",
          "title",
          "scheduledAt"
        ]
      },
      "CreateClassSessionResponseDto": {
        "type": "object",
        "properties": {}
      },
      "UpdateClassSessionRequestDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "Session Title",
            "example": "Week 1 - Career Planning Basics"
          },
          "description": {
            "type": "string",
            "description": "Session Description",
            "example": "Introduction to career planning fundamentals"
          },
          "scheduledAt": {
            "type": "string",
            "description": "Scheduled Start Time (ISO 8601)",
            "example": "2025-12-03T06:00:00Z"
          },
          "duration": {
            "type": "number",
            "description": "Session Duration in minutes",
            "example": 60
          }
        }
      },
      "UpdateClassSessionResponseDto": {
        "type": "object",
        "properties": {}
      },
      "CancelClassSessionRequestDto": {
        "type": "object",
        "properties": {
          "reason": {
            "type": "string",
            "description": "Cancellation reason",
            "example": "Mentor unavailable"
          }
        }
      },
      "CancelClassSessionResponseDto": {
        "type": "object",
        "properties": {}
      },
      "DeleteClassSessionResponseDto": {
        "type": "object",
        "properties": {}
      },
      "UploadResumeRequestDto": {
        "type": "object",
        "properties": {
          "studentUserId": {
            "type": "string",
            "description": "Student user ID"
          },
          "jobTitle": {
            "type": "string",
            "description": "Job title",
            "maxLength": 200
          },
          "sessionType": {
            "type": "string",
            "description": "Session type",
            "maxLength": 50
          },
          "serviceType": {
            "type": "string",
            "description": "Service type",
            "default": "Resume",
            "maxLength": 50
          },
          "fileName": {
            "type": "string",
            "description": "File name",
            "maxLength": 500
          },
          "fileUrl": {
            "type": "string",
            "description": "File URL (S3)",
            "maxLength": 1000
          }
        },
        "required": [
          "studentUserId",
          "jobTitle",
          "fileName",
          "fileUrl"
        ]
      },
      "SetFinalRequestDto": {
        "type": "object",
        "properties": {
          "description": {
            "type": "string",
            "description": "Description",
            "maxLength": 1000
          }
        }
      },
      "BillResumeRequestDto": {
        "type": "object",
        "properties": {
          "studentId": {
            "type": "string",
            "description": "Student user ID"
          },
          "mentorId": {
            "type": "string",
            "description": "Mentor user ID"
          },
          "serviceType": {
            "type": "string",
            "description": "Service type"
          },
          "description": {
            "type": "string",
            "description": "Description",
            "maxLength": 1000
          }
        },
        "required": [
          "studentId",
          "mentorId"
        ]
      },
      "CancelBillResumeRequestDto": {
        "type": "object",
        "properties": {
          "serviceType": {
            "type": "string",
            "description": "Service type"
          },
          "description": {
            "type": "string",
            "description": "Description",
            "maxLength": 1000
          }
        }
      },
      "UploadRecommLetterRequestDto": {
        "type": "object",
        "properties": {
          "studentUserId": {
            "type": "string",
            "description": "Student user ID"
          },
          "letterTypeId": {
            "type": "string",
            "description": "Letter Type ID"
          },
          "packageTypeId": {
            "type": "string",
            "description": "Package Type ID"
          },
          "serviceType": {
            "type": "string",
            "description": "Service type",
            "maxLength": 50
          },
          "fileName": {
            "type": "string",
            "description": "File name",
            "maxLength": 500
          },
          "fileUrl": {
            "type": "string",
            "description": "File URL (S3)",
            "maxLength": 1000
          }
        },
        "required": [
          "studentUserId",
          "letterTypeId",
          "serviceType",
          "fileName",
          "fileUrl"
        ]
      },
      "BillRecommLetterRequestDto": {
        "type": "object",
        "properties": {
          "studentId": {
            "type": "string",
            "description": "Student user ID"
          },
          "mentorId": {
            "type": "string",
            "description": "Mentor user ID"
          },
          "serviceType": {
            "type": "string",
            "description": "Service type"
          },
          "description": {
            "type": "string",
            "description": "Description",
            "maxLength": 1000
          }
        },
        "required": [
          "studentId",
          "mentorId"
        ]
      },
      "CancelBillRecommLetterRequestDto": {
        "type": "object",
        "properties": {
          "serviceType": {
            "type": "string",
            "description": "Service type"
          },
          "description": {
            "type": "string",
            "description": "Description",
            "maxLength": 1000
          }
        }
      },
      "MentorSummaryResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Mentor ID"
          },
          "userId": {
            "type": "string",
            "description": "Associated user ID"
          },
          "status": {
            "type": "string",
            "description": "Mentor status"
          },
          "type": {
            "type": "string",
            "description": "Mentor type"
          },
          "company": {
            "type": "string",
            "description": "Company"
          },
          "companyTitle": {
            "type": "string",
            "description": "Company title"
          },
          "briefIntro": {
            "type": "string",
            "description": "Brief introduction"
          },
          "school": {
            "type": "string",
            "description": "School"
          },
          "location": {
            "type": "string",
            "description": "Location"
          },
          "level": {
            "type": "string",
            "description": "Mentor level"
          },
          "rating": {
            "type": "number",
            "description": "Mentor rating",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "description": "Record created time",
            "format": "date-time"
          },
          "modifiedAt": {
            "type": "string",
            "description": "Record last modified time",
            "format": "date-time"
          },
          "email": {
            "type": "string",
            "description": "Email address"
          },
          "nameEn": {
            "type": "string",
            "description": "English name"
          },
          "nameZh": {
            "type": "string",
            "description": "Chinese name"
          },
          "country": {
            "type": "string",
            "description": "ISO 3166-1 alpha-2 country code (US, CN, GB, CA)",
            "enum": [
              "US",
              "CN",
              "GB",
              "CA"
            ]
          },
          "gender": {
            "type": "string",
            "description": "Gender",
            "enum": [
              "male",
              "female"
            ]
          }
        },
        "required": [
          "id",
          "userId",
          "createdAt",
          "modifiedAt",
          "email"
        ]
      },
      "UpdateMentorProfileDto": {
        "type": "object",
        "properties": {
          "nameEn": {
            "type": "string",
            "description": "User English name"
          },
          "nameZh": {
            "type": "string",
            "description": "User Chinese name"
          },
          "gender": {
            "type": "string",
            "description": "User gender",
            "enum": [
              "male",
              "female"
            ],
            "example": "male"
          },
          "country": {
            "type": "string",
            "description": "ISO 3166-1 alpha-2 country code",
            "enum": [
              "US",
              "CN",
              "GB",
              "CA"
            ],
            "example": "US"
          },
          "status": {
            "type": "string",
            "description": "Mentor status"
          },
          "type": {
            "type": "string",
            "description": "Mentor type",
            "nullable": true
          },
          "company": {
            "type": "string",
            "description": "Company name",
            "nullable": true
          },
          "companyTitle": {
            "type": "string",
            "description": "Company title",
            "nullable": true
          },
          "briefIntro": {
            "type": "string",
            "description": "Brief introduction",
            "nullable": true
          },
          "highSchool": {
            "type": "string",
            "description": "High school ID",
            "nullable": true
          },
          "location": {
            "type": "string",
            "description": "Location",
            "nullable": true
          },
          "level": {
            "type": "string",
            "description": "Level",
            "nullable": true
          },
          "rating": {
            "type": "number",
            "description": "Rating",
            "nullable": true
          },
          "underCollege": {
            "type": "string",
            "description": "Undergraduate college ID",
            "nullable": true
          },
          "underMajor": {
            "type": "string",
            "description": "Undergraduate major ID",
            "nullable": true
          },
          "graduateCollege": {
            "type": "string",
            "description": "Graduate college ID",
            "nullable": true
          },
          "graduateMajor": {
            "type": "string",
            "description": "Graduate major ID",
            "nullable": true
          }
        }
      },
      "StudentSummaryResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Student record ID"
          },
          "status": {
            "type": "string",
            "description": "Student status"
          },
          "underMajor": {
            "type": "string",
            "description": "Undergraduate major"
          },
          "underCollege": {
            "type": "string",
            "description": "Undergraduate college"
          },
          "graduateMajor": {
            "type": "string",
            "description": "Graduate major"
          },
          "graduateCollege": {
            "type": "string",
            "description": "Graduate college"
          },
          "aiResumeSummary": {
            "type": "string",
            "description": "AI generated resume summary"
          },
          "customerImportance": {
            "type": "string",
            "description": "Customer importance label"
          },
          "underGraduationDate": {
            "type": "string",
            "description": "Undergraduate graduation date",
            "format": "date-time",
            "nullable": true
          },
          "graduateGraduationDate": {
            "type": "string",
            "description": "Graduate graduation date",
            "format": "date-time",
            "nullable": true
          },
          "backgroundInfo": {
            "type": "string",
            "description": "Background information"
          },
          "grades": {
            "type": "string",
            "description": "Grades information"
          },
          "createdAt": {
            "type": "string",
            "description": "Record creation time",
            "format": "date-time"
          },
          "modifiedAt": {
            "type": "string",
            "description": "Record last modification time",
            "format": "date-time"
          },
          "email": {
            "type": "string",
            "description": "Student email"
          },
          "nameEn": {
            "type": "string",
            "description": "Student English name"
          },
          "nameZh": {
            "type": "string",
            "description": "Student Chinese name"
          },
          "country": {
            "type": "string",
            "description": "ISO 3166-1 alpha-2 country code (US, CN, GB, CA)",
            "enum": [
              "US",
              "CN",
              "GB",
              "CA"
            ]
          },
          "gender": {
            "type": "string",
            "description": "Gender",
            "enum": [
              "male",
              "female"
            ]
          },
          "counselorStatus": {
            "type": "string",
            "description": "Counselor assignment status"
          },
          "counselorType": {
            "type": "string",
            "description": "Counselor assignment type"
          }
        },
        "required": [
          "id",
          "status",
          "underGraduationDate",
          "graduateGraduationDate",
          "createdAt",
          "modifiedAt"
        ]
      },
      "StudentCounselorViewResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Student record ID"
          },
          "status": {
            "type": "string",
            "description": "Student status"
          },
          "underMajor": {
            "type": "string",
            "description": "Undergraduate major ID"
          },
          "underCollege": {
            "type": "string",
            "description": "Undergraduate college ID"
          },
          "graduateMajor": {
            "type": "string",
            "description": "Graduate major ID"
          },
          "graduateCollege": {
            "type": "string",
            "description": "Graduate college ID"
          },
          "highSchool": {
            "type": "string",
            "description": "High school ID"
          },
          "aiResumeSummary": {
            "type": "string",
            "description": "AI generated resume summary"
          },
          "customerImportance": {
            "type": "string",
            "description": "Customer importance label"
          },
          "underGraduationDate": {
            "type": "string",
            "description": "Undergraduate graduation date",
            "format": "date-time",
            "nullable": true
          },
          "graduateGraduationDate": {
            "type": "string",
            "description": "Graduate graduation date",
            "format": "date-time",
            "nullable": true
          },
          "backgroundInfo": {
            "type": "string",
            "description": "Background information"
          },
          "grades": {
            "type": "string",
            "description": "Grades information"
          },
          "createdAt": {
            "type": "string",
            "description": "Record creation time",
            "format": "date-time"
          },
          "modifiedAt": {
            "type": "string",
            "description": "Record last modification time",
            "format": "date-time"
          },
          "email": {
            "type": "string",
            "description": "Student email"
          },
          "nameEn": {
            "type": "string",
            "description": "Student English name"
          },
          "nameZh": {
            "type": "string",
            "description": "Student Chinese name"
          },
          "country": {
            "type": "string",
            "description": "ISO 3166-1 alpha-2 country code (US, CN, GB, CA)",
            "enum": [
              "US",
              "CN",
              "GB",
              "CA"
            ]
          },
          "gender": {
            "type": "string",
            "description": "Gender",
            "enum": [
              "male",
              "female"
            ]
          },
          "underCollegeNameZh": {
            "type": "string",
            "description": "Undergraduate college Chinese name"
          },
          "underCollegeNameEn": {
            "type": "string",
            "description": "Undergraduate college English name"
          },
          "graduateCollegeNameZh": {
            "type": "string",
            "description": "Graduate college Chinese name"
          },
          "graduateCollegeNameEn": {
            "type": "string",
            "description": "Graduate college English name"
          },
          "highSchoolNameZh": {
            "type": "string",
            "description": "High school Chinese name"
          },
          "highSchoolNameEn": {
            "type": "string",
            "description": "High school English name"
          },
          "underMajorNameZh": {
            "type": "string",
            "description": "Undergraduate major Chinese name"
          },
          "underMajorNameEn": {
            "type": "string",
            "description": "Undergraduate major English name"
          },
          "graduateMajorNameZh": {
            "type": "string",
            "description": "Graduate major Chinese name"
          },
          "graduateMajorNameEn": {
            "type": "string",
            "description": "Graduate major English name"
          },
          "counselorStatus": {
            "type": "string",
            "description": "Counselor assignment status"
          },
          "counselorType": {
            "type": "string",
            "description": "Counselor assignment type"
          }
        },
        "required": [
          "id",
          "status",
          "underGraduationDate",
          "graduateGraduationDate",
          "createdAt",
          "modifiedAt"
        ]
      },
      "PaginatedStudentCounselorViewResponseDto": {
        "type": "object",
        "properties": {
          "data": {
            "description": "Student list data",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/StudentCounselorViewResponseDto"
            }
          },
          "total": {
            "type": "number",
            "description": "Total number of records",
            "example": 100
          },
          "page": {
            "type": "number",
            "description": "Current page number",
            "example": 1
          },
          "pageSize": {
            "type": "number",
            "description": "Number of items per page",
            "example": 20
          },
          "totalPages": {
            "type": "number",
            "description": "Total number of pages",
            "example": 5
          }
        },
        "required": [
          "data",
          "total",
          "page",
          "pageSize",
          "totalPages"
        ]
      },
      "UpdateStudentProfileDto": {
        "type": "object",
        "properties": {
          "nameEn": {
            "type": "string",
            "description": "User English name"
          },
          "nameZh": {
            "type": "string",
            "description": "User Chinese name"
          },
          "gender": {
            "type": "string",
            "description": "User gender",
            "enum": [
              "male",
              "female"
            ],
            "example": "male"
          },
          "country": {
            "type": "string",
            "description": "ISO 3166-1 alpha-2 country code",
            "enum": [
              "US",
              "CN",
              "GB",
              "CA"
            ],
            "example": "US"
          },
          "status": {
            "type": "string",
            "description": "Student status"
          },
          "highSchool": {
            "type": "string",
            "description": "High school ID",
            "nullable": true
          },
          "underCollege": {
            "type": "string",
            "description": "Undergraduate college ID",
            "nullable": true
          },
          "underMajor": {
            "type": "string",
            "description": "Undergraduate major ID",
            "nullable": true
          },
          "graduateCollege": {
            "type": "string",
            "description": "Graduate college ID",
            "nullable": true
          },
          "graduateMajor": {
            "type": "string",
            "description": "Graduate major ID",
            "nullable": true
          },
          "aiResumeSummary": {
            "type": "string",
            "description": "AI resume summary",
            "nullable": true
          },
          "customerImportance": {
            "type": "string",
            "description": "Customer importance",
            "nullable": true
          },
          "underGraduationDate": {
            "type": "string",
            "description": "Undergraduate graduation date",
            "nullable": true,
            "format": "date"
          },
          "graduateGraduationDate": {
            "type": "string",
            "description": "Graduate graduation date",
            "nullable": true,
            "format": "date"
          },
          "grades": {
            "type": "string",
            "description": "Grades information",
            "nullable": true
          }
        }
      },
      "ProductFaqRequestDto": {
        "type": "object",
        "properties": {
          "question": {
            "type": "string",
            "description": "FAQ question. Used for product marketing and student decision making. [常见问题-问题，用于产品营销与学生决策]",
            "example": "What is included in this package?"
          },
          "answer": {
            "type": "string",
            "description": "FAQ answer. Provide clear and actionable guidance. [常见问题-答案，需清晰可执行]",
            "example": "You will receive 4 sessions and 1 resume review."
          }
        },
        "required": [
          "question",
          "answer"
        ]
      },
      "ProductMetadataRequestDto": {
        "type": "object",
        "properties": {
          "features": {
            "description": "Key product features shown in the catalog. [产品亮点，用于目录展示]",
            "example": [
              "1-on-1 mentoring",
              "Resume review"
            ],
            "items": {
              "type": "array"
            },
            "type": "array"
          },
          "faqs": {
            "description": "Frequently asked questions displayed in the catalog. [目录展示的常见问题列表]",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProductFaqRequestDto"
            }
          },
          "deliverables": {
            "description": "Deliverables the student will get after purchase. [购买后可获得的交付物]",
            "example": [
              "Resume PDF feedback",
              "Mock interview recording"
            ],
            "items": {
              "type": "array"
            },
            "type": "array"
          },
          "duration": {
            "type": "string",
            "description": "Marketing-only duration text shown to users (not used for billing). [展示用时长文本，不参与计费]",
            "example": "4 weeks"
          },
          "prerequisites": {
            "description": "Prerequisites the student should prepare before using the product. [使用前置条件/准备事项]",
            "items": {
              "type": "array"
            },
            "type": "array"
          }
        }
      },
      "CreateProductItemRequestDto": {
        "type": "object",
        "properties": {
          "serviceTypeId": {
            "type": "string",
            "description": "Service type ID (UUID). Identifies the entitlement item. [服务类型ID(UUID)，标识权益项]",
            "format": "uuid",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "quantity": {
            "type": "number",
            "description": "Quantity of this service type included in the product. Must be >= 1. [该服务类型包含次数，必须>=1]",
            "example": 4,
            "minimum": 1
          },
          "sortOrder": {
            "type": "number",
            "description": "Sort order in product detail display. Default: 0 when omitted. [展示排序，未传时默认0]",
            "default": 0,
            "example": 1,
            "minimum": 0
          }
        },
        "required": [
          "serviceTypeId",
          "quantity"
        ]
      },
      "CreateProductRequestDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Product name. [产品名称]",
            "example": "Premium Mentoring Package"
          },
          "code": {
            "type": "string",
            "description": "Product code (unique). Used for internal reference and contract snapshots. [产品编码(唯一)，用于内部引用与合同快照]",
            "example": "PKG_PREMIUM_MENTORING_4"
          },
          "description": {
            "type": "string",
            "description": "Product description for marketing. [产品描述，用于营销展示]",
            "example": "4 sessions with senior mentors + resume review."
          },
          "coverImage": {
            "type": "string",
            "description": "Cover image URL. [封面图URL]",
            "example": "https://placehold.co/600x400"
          },
          "targetUserPersonas": {
            "type": "array",
            "description": "Target user personas. [目标用户画像]",
            "example": [
              "undergraduate"
            ],
            "items": {
              "type": "string",
              "enum": [
                "undergraduate",
                "graduate",
                "working"
              ]
            }
          },
          "price": {
            "type": "number",
            "description": "Product price. Must be > 0. [产品价格，必须>0]",
            "example": 1999,
            "minimum": 0.01
          },
          "currency": {
            "type": "string",
            "description": "Currency (ISO 4217). Default is decided by domain/service when omitted. [币种(ISO 4217)，不传时由领域/服务默认]",
            "enum": [
              "USD",
              "CNY",
              "EUR",
              "GBP",
              "JPY"
            ],
            "example": "USD"
          },
          "marketingLabels": {
            "type": "array",
            "description": "Marketing labels shown on product cards. [产品卡片营销标签]",
            "items": {
              "type": "string",
              "enum": [
                "hot",
                "new",
                "recommended"
              ]
            }
          },
          "metadata": {
            "description": "Product metadata for display and guidance. [用于展示与指导的产品元数据]",
            "allOf": [
              {
                "$ref": "#/components/schemas/ProductMetadataRequestDto"
              }
            ]
          },
          "items": {
            "description": "Product entitlement items. If omitted, product contains no entitlements initially. [产品权益项列表，不传则初始无权益项]",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CreateProductItemRequestDto"
            }
          }
        },
        "required": [
          "name",
          "code",
          "price"
        ]
      },
      "ProductFaqResponseDto": {
        "type": "object",
        "properties": {
          "question": {
            "type": "string",
            "description": "FAQ question. [常见问题-问题]",
            "example": "What is included in this package?"
          },
          "answer": {
            "type": "string",
            "description": "FAQ answer. [常见问题-答案]",
            "example": "You will receive 4 sessions and 1 resume review."
          }
        },
        "required": [
          "question",
          "answer"
        ]
      },
      "ProductMetadataResponseDto": {
        "type": "object",
        "properties": {
          "features": {
            "description": "Key product features. [产品亮点]",
            "items": {
              "type": "array"
            },
            "type": "array"
          },
          "faqs": {
            "description": "Frequently asked questions. [常见问题列表]",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProductFaqResponseDto"
            }
          },
          "deliverables": {
            "description": "Deliverables. [交付物]",
            "items": {
              "type": "array"
            },
            "type": "array"
          },
          "duration": {
            "type": "string",
            "description": "Marketing duration text. [展示用时长文本]",
            "example": "4 weeks"
          },
          "prerequisites": {
            "description": "Prerequisites. [前置条件/准备事项]",
            "items": {
              "type": "array"
            },
            "type": "array"
          }
        }
      },
      "ProductItemResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Product item ID (UUID). [产品项ID(UUID)]",
            "format": "uuid"
          },
          "productId": {
            "type": "string",
            "description": "Product ID (UUID). [产品ID(UUID)]",
            "format": "uuid"
          },
          "serviceTypeId": {
            "type": "string",
            "description": "Service type ID (UUID). [服务类型ID(UUID)]",
            "format": "uuid"
          },
          "serviceTypeCode": {
            "type": "string",
            "description": "Service type code. Used for contract snapshots and entitlement aggregation. [服务类型编码，用于合同快照与权益汇总]",
            "example": "resume_review"
          },
          "serviceTypeName": {
            "type": "string",
            "description": "Service type name for display. [服务类型名称(展示用)]",
            "example": "Resume Review"
          },
          "quantity": {
            "type": "number",
            "description": "Quantity included. [包含次数]",
            "example": 4
          },
          "sortOrder": {
            "type": "number",
            "description": "Sort order. [展示排序]",
            "example": 0
          },
          "createdAt": {
            "type": "string",
            "description": "Created time (ISO 8601). [创建时间(ISO 8601)]",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "Updated time (ISO 8601). [更新时间(ISO 8601)]",
            "format": "date-time"
          }
        },
        "required": [
          "id",
          "productId",
          "serviceTypeId",
          "serviceTypeCode",
          "serviceTypeName",
          "quantity",
          "sortOrder",
          "createdAt",
          "updatedAt"
        ]
      },
      "ProductResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Product ID (UUID). [产品ID(UUID)]",
            "format": "uuid"
          },
          "name": {
            "type": "string",
            "description": "Product name. [产品名称]"
          },
          "code": {
            "type": "string",
            "description": "Product code (unique). [产品编码(唯一)]"
          },
          "description": {
            "type": "string",
            "description": "Description. [描述]"
          },
          "coverImage": {
            "type": "string",
            "description": "Cover image URL. [封面图URL]"
          },
          "targetUserPersonas": {
            "type": "array",
            "description": "Target user personas. [目标用户画像]",
            "items": {
              "type": "string",
              "enum": [
                "undergraduate",
                "graduate",
                "working"
              ]
            }
          },
          "price": {
            "type": "string",
            "description": "Price stored as decimal string (precision preserved). [价格(字符串，保留精度)]",
            "example": "1999.00"
          },
          "currency": {
            "type": "string",
            "description": "Currency. [币种]",
            "enum": [
              "USD",
              "CNY",
              "EUR",
              "GBP",
              "JPY"
            ],
            "example": "USD"
          },
          "marketingLabels": {
            "type": "array",
            "description": "Marketing labels. [营销标签]",
            "items": {
              "type": "string",
              "enum": [
                "hot",
                "new",
                "recommended"
              ]
            }
          },
          "status": {
            "type": "string",
            "description": "Product status. [产品状态]",
            "enum": [
              "DRAFT",
              "ACTIVE",
              "INACTIVE",
              "DELETED"
            ],
            "example": "DRAFT"
          },
          "publishedAt": {
            "type": "string",
            "description": "Published time (ISO 8601). [发布时间(ISO 8601)]",
            "format": "date-time"
          },
          "unpublishedAt": {
            "type": "string",
            "description": "Unpublished time (ISO 8601). [下架时间(ISO 8601)]",
            "format": "date-time"
          },
          "metadata": {
            "description": "Metadata for display. [展示用元数据]",
            "allOf": [
              {
                "$ref": "#/components/schemas/ProductMetadataResponseDto"
              }
            ]
          },
          "items": {
            "description": "Entitlement items. [权益项]",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProductItemResponseDto"
            }
          },
          "createdAt": {
            "type": "string",
            "description": "Created time (ISO 8601). [创建时间(ISO 8601)]",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "Updated time (ISO 8601). [更新时间(ISO 8601)]",
            "format": "date-time"
          },
          "createdBy": {
            "type": "string",
            "description": "Created by user ID (UUID). [创建人用户ID(UUID)]",
            "format": "uuid"
          }
        },
        "required": [
          "id",
          "name",
          "code",
          "price",
          "currency",
          "status",
          "createdAt",
          "updatedAt",
          "createdBy"
        ]
      },
      "ProductSnapshotItemResponseDto": {
        "type": "object",
        "properties": {
          "serviceTypeId": {
            "type": "string",
            "description": "Service type ID (UUID). [服务类型ID(UUID)]",
            "format": "uuid"
          },
          "serviceTypeCode": {
            "type": "string",
            "description": "Service type code. [服务类型编码]",
            "example": "resume_review"
          },
          "quantity": {
            "type": "number",
            "description": "Quantity included. [包含次数]",
            "example": 4
          }
        },
        "required": [
          "serviceTypeId",
          "serviceTypeCode",
          "quantity"
        ]
      },
      "ProductSnapshotResponseDto": {
        "type": "object",
        "properties": {
          "productId": {
            "type": "string",
            "description": "Product ID (UUID). [产品ID(UUID)]",
            "format": "uuid"
          },
          "productName": {
            "type": "string",
            "description": "Product name. [产品名称]"
          },
          "productCode": {
            "type": "string",
            "description": "Product code. [产品编码]"
          },
          "price": {
            "type": "string",
            "description": "Price at snapshot time (decimal string). [快照价格(字符串)]",
            "example": "1999.00"
          },
          "currency": {
            "type": "string",
            "description": "Currency at snapshot time. [快照币种]",
            "enum": [
              "USD",
              "CNY",
              "EUR",
              "GBP",
              "JPY"
            ]
          },
          "items": {
            "description": "Snapshot items. [快照权益项]",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProductSnapshotItemResponseDto"
            }
          },
          "snapshotAt": {
            "type": "string",
            "description": "Snapshot time (ISO 8601). [快照时间(ISO 8601)]",
            "format": "date-time"
          }
        },
        "required": [
          "productId",
          "productName",
          "productCode",
          "price",
          "currency",
          "items",
          "snapshotAt"
        ]
      },
      "ProductDetailResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Product ID (UUID). [产品ID(UUID)]",
            "format": "uuid"
          },
          "name": {
            "type": "string",
            "description": "Product name. [产品名称]"
          },
          "code": {
            "type": "string",
            "description": "Product code (unique). [产品编码(唯一)]"
          },
          "description": {
            "type": "string",
            "description": "Description. [描述]"
          },
          "coverImage": {
            "type": "string",
            "description": "Cover image URL. [封面图URL]"
          },
          "targetUserPersonas": {
            "type": "array",
            "description": "Target user personas. [目标用户画像]",
            "items": {
              "type": "string",
              "enum": [
                "undergraduate",
                "graduate",
                "working"
              ]
            }
          },
          "price": {
            "type": "string",
            "description": "Price stored as decimal string (precision preserved). [价格(字符串，保留精度)]",
            "example": "1999.00"
          },
          "currency": {
            "type": "string",
            "description": "Currency. [币种]",
            "enum": [
              "USD",
              "CNY",
              "EUR",
              "GBP",
              "JPY"
            ],
            "example": "USD"
          },
          "marketingLabels": {
            "type": "array",
            "description": "Marketing labels. [营销标签]",
            "items": {
              "type": "string",
              "enum": [
                "hot",
                "new",
                "recommended"
              ]
            }
          },
          "status": {
            "type": "string",
            "description": "Product status. [产品状态]",
            "enum": [
              "DRAFT",
              "ACTIVE",
              "INACTIVE",
              "DELETED"
            ],
            "example": "DRAFT"
          },
          "publishedAt": {
            "type": "string",
            "description": "Published time (ISO 8601). [发布时间(ISO 8601)]",
            "format": "date-time"
          },
          "unpublishedAt": {
            "type": "string",
            "description": "Unpublished time (ISO 8601). [下架时间(ISO 8601)]",
            "format": "date-time"
          },
          "metadata": {
            "description": "Metadata for display. [展示用元数据]",
            "allOf": [
              {
                "$ref": "#/components/schemas/ProductMetadataResponseDto"
              }
            ]
          },
          "items": {
            "description": "Enriched entitlement items with service type code/name. [带服务类型编码/名称的权益项]",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProductItemResponseDto"
            }
          },
          "createdAt": {
            "type": "string",
            "description": "Created time (ISO 8601). [创建时间(ISO 8601)]",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "Updated time (ISO 8601). [更新时间(ISO 8601)]",
            "format": "date-time"
          },
          "createdBy": {
            "type": "string",
            "description": "Created by user ID (UUID). [创建人用户ID(UUID)]",
            "format": "uuid"
          }
        },
        "required": [
          "id",
          "name",
          "code",
          "price",
          "currency",
          "status",
          "createdAt",
          "updatedAt",
          "createdBy"
        ]
      },
      "ProductListResponseDto": {
        "type": "object",
        "properties": {
          "data": {
            "description": "Product list data [产品列表数据]",
            "items": {
              "type": "array"
            },
            "type": "array"
          },
          "total": {
            "type": "number",
            "description": "Total number of records [总记录数]",
            "example": 150
          },
          "page": {
            "type": "number",
            "description": "Current page number [当前页码]",
            "example": 1
          },
          "pageSize": {
            "type": "number",
            "description": "Number of items per page [每页条数]",
            "example": 20
          },
          "totalPages": {
            "type": "number",
            "description": "Total number of pages [总页数]",
            "example": 8
          }
        },
        "required": [
          "data",
          "total",
          "page",
          "pageSize",
          "totalPages"
        ]
      },
      "UpdateProductStatusRequestDto": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "description": "Target product status. Controls product availability in catalog. [目标产品状态，控制目录可见性/可售性]",
            "enum": [
              "DRAFT",
              "ACTIVE",
              "INACTIVE",
              "DELETED"
            ],
            "example": "ACTIVE"
          }
        },
        "required": [
          "status"
        ]
      },
      "AddProductItemRequestDto": {
        "type": "object",
        "properties": {
          "serviceTypeId": {
            "type": "string",
            "description": "Service type ID (UUID) to add. [要添加的服务类型ID(UUID)]",
            "format": "uuid"
          },
          "quantity": {
            "type": "number",
            "description": "Quantity to add. Must be >= 1. [要添加的次数，必须>=1]",
            "minimum": 1,
            "example": 2
          },
          "sortOrder": {
            "type": "number",
            "description": "Optional sort order for the added item. [新增权益项的展示排序，可选]",
            "minimum": 0,
            "example": 10
          }
        },
        "required": [
          "serviceTypeId",
          "quantity"
        ]
      },
      "ProductItemSortRequestDto": {
        "type": "object",
        "properties": {
          "itemId": {
            "type": "string",
            "description": "Product item ID (UUID). [产品项ID(UUID)]",
            "format": "uuid"
          },
          "sortOrder": {
            "type": "number",
            "description": "New sort order. Must be >= 0. [新的排序值，必须>=0]",
            "minimum": 0,
            "example": 0
          }
        },
        "required": [
          "itemId",
          "sortOrder"
        ]
      },
      "UpdateProductRequestDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "New product name. [新的产品名称]"
          },
          "description": {
            "type": "string",
            "description": "New product description. [新的产品描述]"
          },
          "coverImage": {
            "type": "string",
            "description": "New cover image URL. [新的封面图URL]"
          },
          "targetUserPersonas": {
            "type": "array",
            "description": "Target user personas. [目标用户画像]",
            "items": {
              "type": "string",
              "enum": [
                "undergraduate",
                "graduate",
                "working"
              ]
            }
          },
          "price": {
            "type": "number",
            "description": "New price. Must be > 0. [新的价格，必须>0]",
            "minimum": 0.01
          },
          "currency": {
            "type": "string",
            "description": "New currency. [新的币种]",
            "enum": [
              "USD",
              "CNY",
              "EUR",
              "GBP",
              "JPY"
            ]
          },
          "marketingLabels": {
            "type": "array",
            "description": "New marketing labels. [新的营销标签]",
            "items": {
              "type": "string",
              "enum": [
                "hot",
                "new",
                "recommended"
              ]
            }
          },
          "metadata": {
            "description": "Updated metadata. [更新后的元数据]",
            "allOf": [
              {
                "$ref": "#/components/schemas/ProductMetadataRequestDto"
              }
            ]
          },
          "addItems": {
            "description": "Add product items (entitlements). [新增产品项(权益项)]",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AddProductItemRequestDto"
            }
          },
          "removeItems": {
            "description": "Remove product items by item IDs (UUID array). [按产品项ID(UUID数组)删除产品项]",
            "example": [
              "123e4567-e89b-12d3-a456-426614174000"
            ],
            "items": {
              "type": "array"
            },
            "type": "array"
          },
          "sortItems": {
            "description": "Update sort order of existing items. [更新已存在产品项的排序]",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProductItemSortRequestDto"
            }
          }
        }
      },
      "StudentContractProductSummaryResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Product ID (UUID). [产品ID(UUID)]"
          },
          "name": {
            "type": "string",
            "description": "Product name. [产品名称]"
          }
        },
        "required": [
          "id",
          "name"
        ]
      },
      "StudentContractResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Contract ID (UUID). [合同ID(UUID)]"
          },
          "contract_number": {
            "type": "string",
            "description": "Contract number. [合同编号]",
            "example": "CONTRACT-2025-01-00001"
          },
          "product": {
            "description": "Product summary in contract snapshot. [合同快照中的产品摘要]",
            "allOf": [
              {
                "$ref": "#/components/schemas/StudentContractProductSummaryResponseDto"
              }
            ]
          },
          "status": {
            "type": "string",
            "description": "Contract status. [合同状态]",
            "enum": [
              "DRAFT",
              "SIGNED",
              "ACTIVE",
              "SUSPENDED",
              "COMPLETED",
              "TERMINATED"
            ]
          }
        },
        "required": [
          "id",
          "contract_number",
          "product",
          "status"
        ]
      },
      "ContractListResponseDto": {
        "type": "object",
        "properties": {
          "data": {
            "description": "Contract list data [合同列表数据]",
            "items": {
              "type": "array"
            },
            "type": "array"
          },
          "total": {
            "type": "number",
            "description": "Total number of records [总记录数]",
            "example": 150
          },
          "page": {
            "type": "number",
            "description": "Current page number [当前页码]",
            "example": 1
          },
          "pageSize": {
            "type": "number",
            "description": "Number of items per page [每页条数]",
            "example": 20
          },
          "totalPages": {
            "type": "number",
            "description": "Total number of pages [总页数]",
            "example": 8
          }
        },
        "required": [
          "data",
          "total",
          "page",
          "pageSize",
          "totalPages"
        ]
      },
      "ContractProductSnapshotItemRequestDto": {
        "type": "object",
        "properties": {
          "productItemId": {
            "type": "string",
            "description": "Product item ID (UUID). Used for traceability of entitlement origin. [产品项ID(UUID)，用于权益来源追溯]",
            "format": "uuid",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "serviceTypeCode": {
            "type": "string",
            "description": "Service type code from catalog snapshot. Used for entitlement aggregation. [服务类型编码，用于权益汇总]",
            "example": "resume_review"
          },
          "quantity": {
            "type": "number",
            "description": "Quantity in this product item. Must be >= 1. [该产品项包含次数，必须>=1]",
            "example": 4,
            "minimum": 1
          },
          "sortOrder": {
            "type": "number",
            "description": "Sort order in snapshot. Must be >= 0. [快照内排序，必须>=0]",
            "example": 0,
            "minimum": 0
          }
        },
        "required": [
          "productItemId",
          "serviceTypeCode",
          "quantity",
          "sortOrder"
        ]
      },
      "ContractProductSnapshotRequestDto": {
        "type": "object",
        "properties": {
          "productId": {
            "type": "string",
            "description": "Product ID (UUID). Identifies the purchased product at purchase time. [产品ID(UUID)，标识购买的产品]",
            "format": "uuid"
          },
          "productName": {
            "type": "string",
            "description": "Product name at purchase time. [购买时的产品名称(快照)]"
          },
          "productCode": {
            "type": "string",
            "description": "Product code at purchase time. [购买时的产品编码(快照)]"
          },
          "price": {
            "type": "string",
            "description": "Product price at purchase time as decimal string. [购买时的产品价格(字符串)]",
            "example": "1999.00"
          },
          "currency": {
            "type": "string",
            "description": "Currency at purchase time (ISO 4217 3-letter code). [购买时币种(ISO 4217 三位码)]",
            "example": "USD"
          },
          "validityDays": {
            "type": "number",
            "description": "Validity period days (optional). Used when product has time-based validity. [有效期天数(可选)，用于按天有效期的产品]",
            "example": 365,
            "minimum": 1
          },
          "items": {
            "description": "Snapshot items representing entitlement composition. [权益组成快照项列表]",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ContractProductSnapshotItemRequestDto"
            }
          },
          "snapshotAt": {
            "type": "string",
            "description": "Snapshot time (ISO 8601). [快照时间(ISO 8601)]",
            "format": "date-time",
            "example": "2025-12-01T00:00:00.000Z"
          }
        },
        "required": [
          "productId",
          "productName",
          "productCode",
          "price",
          "currency",
          "items",
          "snapshotAt"
        ]
      },
      "CreateContractRequestDto": {
        "type": "object",
        "properties": {
          "studentId": {
            "type": "string",
            "description": "Student ID (UUID). Contract owner. [学生ID(UUID)，合同所属学生]",
            "format": "uuid"
          },
          "productId": {
            "type": "string",
            "description": "Product ID (UUID). Reference to catalog product (ACL: UUID string only). [产品ID(UUID)，目录域产品引用(防腐层：仅UUID字符串)]",
            "format": "uuid"
          },
          "productSnapshot": {
            "description": "Frozen product snapshot captured at purchase time. Used to keep contract immutable. [产品快照(购买时冻结)，用于保持合同不可变]",
            "allOf": [
              {
                "$ref": "#/components/schemas/ContractProductSnapshotRequestDto"
              }
            ]
          },
          "status": {
            "type": "string",
            "description": "Initial contract status. Default: DRAFT. Only DRAFT or SIGNED is allowed at creation. [初始状态，默认DRAFT；创建时仅允许DRAFT或SIGNED]",
            "enum": [
              "DRAFT",
              "SIGNED",
              "ACTIVE",
              "SUSPENDED",
              "COMPLETED",
              "TERMINATED"
            ],
            "default": "DRAFT",
            "example": "DRAFT"
          },
          "title": {
            "type": "string",
            "description": "Contract title (optional). [合同标题(可选)]",
            "example": "Premium Mentoring Contract"
          }
        },
        "required": [
          "studentId",
          "productId",
          "productSnapshot"
        ]
      },
      "ContractProductSnapshotItemResponseDto": {
        "type": "object",
        "properties": {
          "productItemId": {
            "type": "string",
            "description": "Product item ID (UUID). [产品项ID(UUID)]",
            "format": "uuid"
          },
          "serviceTypeCode": {
            "type": "string",
            "description": "Service type code. [服务类型编码]",
            "example": "resume_review"
          },
          "quantity": {
            "type": "number",
            "description": "Quantity in snapshot item. [快照项包含次数]",
            "example": 4
          },
          "sortOrder": {
            "type": "number",
            "description": "Sort order. [排序]",
            "example": 0
          }
        },
        "required": [
          "productItemId",
          "serviceTypeCode",
          "quantity",
          "sortOrder"
        ]
      },
      "ContractProductSnapshotResponseDto": {
        "type": "object",
        "properties": {
          "productId": {
            "type": "string",
            "description": "Product ID (UUID). [产品ID(UUID)]",
            "format": "uuid"
          },
          "productName": {
            "type": "string",
            "description": "Product name. [产品名称]"
          },
          "productCode": {
            "type": "string",
            "description": "Product code. [产品编码]"
          },
          "price": {
            "type": "string",
            "description": "Price at purchase time (decimal string). [购买时价格(字符串)]",
            "example": "1999.00"
          },
          "currency": {
            "type": "string",
            "description": "Currency at purchase time. [购买时币种]",
            "example": "USD"
          },
          "validityDays": {
            "type": "number",
            "description": "Validity period in days. [有效期天数]",
            "example": 365
          },
          "items": {
            "description": "Snapshot items. [快照权益项]",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ContractProductSnapshotItemResponseDto"
            }
          },
          "snapshotAt": {
            "type": "string",
            "description": "Snapshot time (ISO 8601). [快照时间(ISO 8601)]",
            "format": "date-time"
          }
        },
        "required": [
          "productId",
          "productName",
          "productCode",
          "price",
          "currency",
          "items",
          "snapshotAt"
        ]
      },
      "ContractResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Contract ID (UUID). [合同ID(UUID)]",
            "format": "uuid"
          },
          "contractNumber": {
            "type": "string",
            "description": "Contract number (unique). Human-friendly identifier. [合同编号(唯一)，可读标识]",
            "example": "CONTRACT-2025-01-00001"
          },
          "title": {
            "type": "string",
            "description": "Contract title. [合同标题]",
            "example": "Premium Mentoring Contract"
          },
          "studentId": {
            "type": "string",
            "description": "Student ID (UUID). [学生ID(UUID)]",
            "format": "uuid"
          },
          "productId": {
            "type": "string",
            "description": "Product ID (UUID). ACL: no foreign key to product table. [产品ID(UUID)，防腐层：不与目录表外键关联]",
            "format": "uuid"
          },
          "productSnapshot": {
            "description": "Frozen product snapshot. [产品快照(冻结)]",
            "allOf": [
              {
                "$ref": "#/components/schemas/ContractProductSnapshotResponseDto"
              }
            ]
          },
          "status": {
            "type": "string",
            "description": "Contract status. [合同状态]",
            "enum": [
              "DRAFT",
              "SIGNED",
              "ACTIVE",
              "SUSPENDED",
              "COMPLETED",
              "TERMINATED"
            ],
            "example": "DRAFT"
          },
          "totalAmount": {
            "type": "string",
            "description": "Total amount stored as decimal string. [合同总金额(字符串)]",
            "example": "1999.00"
          },
          "currency": {
            "type": "string",
            "description": "Contract currency. [合同币种]",
            "enum": [
              "USD",
              "CNY",
              "EUR",
              "GBP",
              "JPY"
            ],
            "example": "USD"
          },
          "createdAt": {
            "type": "string",
            "description": "Created time (ISO 8601). [创建时间(ISO 8601)]",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "Updated time (ISO 8601). [更新时间(ISO 8601)]",
            "format": "date-time"
          },
          "createdBy": {
            "type": "string",
            "description": "Created by user ID (UUID). [创建人用户ID(UUID)]",
            "format": "uuid"
          }
        },
        "required": [
          "id",
          "contractNumber",
          "studentId",
          "productId",
          "productSnapshot",
          "status",
          "totalAmount",
          "currency",
          "createdAt",
          "updatedAt",
          "createdBy"
        ]
      },
      "UpdateContractStatusRequestDto": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "description": "Target contract status. [目标合同状态]",
            "enum": [
              "DRAFT",
              "SIGNED",
              "ACTIVE",
              "SUSPENDED",
              "COMPLETED",
              "TERMINATED"
            ],
            "example": "ACTIVE"
          },
          "reason": {
            "type": "string",
            "description": "Reason for status change. Required for suspend/terminate. [状态变更原因：暂停/终止时必填]",
            "example": "Payment issue"
          },
          "signedBy": {
            "type": "string",
            "description": "Signer user ID (UUID). When omitted, server uses current user from JWT. [签署人用户ID(UUID)，不传则使用JWT当前用户]",
            "format": "uuid"
          }
        },
        "required": [
          "status"
        ]
      },
      "UpdateContractRequestDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "Contract title. [合同标题]"
          },
          "totalAmount": {
            "type": "number",
            "description": "Contract total amount (override). Must be >= 0. [合同总金额(覆盖)，必须>=0]",
            "minimum": 0
          },
          "currency": {
            "type": "string",
            "description": "Contract currency. Allowed values: USD/CNY/EUR/GBP/JPY. [合同币种，仅允许USD/CNY/EUR/GBP/JPY]",
            "enum": [
              "USD",
              "CNY",
              "EUR",
              "GBP",
              "JPY"
            ],
            "example": "USD"
          },
          "validityDays": {
            "type": "number",
            "description": "Validity period in days. 1~3650. [有效期天数，范围1~3650]",
            "minimum": 1,
            "maximum": 3650
          },
          "updatedBy": {
            "type": "string",
            "description": "Updater user ID (UUID). Ignored if set by server-side context. [更新人用户ID(UUID)，若服务端从上下文设置则忽略]",
            "format": "uuid"
          },
          "updateReason": {
            "type": "string",
            "description": "Update reason (optional). [更新原因(可选)]"
          }
        }
      },
      "ConsumeServiceRequestDto": {
        "type": "object",
        "properties": {
          "studentId": {
            "type": "string",
            "description": "Student ID (UUID). Used to locate entitlement record. [学生ID(UUID)，用于定位权益记录]",
            "format": "uuid"
          },
          "contractId": {
            "type": "string",
            "description": "Contract ID (UUID, optional). For audit only. [合同ID(UUID，可选)，仅用于审计]",
            "format": "uuid"
          },
          "serviceType": {
            "type": "string",
            "description": "Service type code to consume (e.g., resume_review). [要消费的服务类型编码]",
            "example": "resume_review"
          },
          "quantity": {
            "type": "number",
            "description": "Quantity to consume. Must be a positive number. [消费数量，必须为正数]",
            "example": 1,
            "minimum": 1
          },
          "relatedBookingId": {
            "type": "string",
            "description": "Related booking ID (UUID). Used to link consumption to a booking/session. [关联预约ID(UUID)，用于关联会话/预约]",
            "format": "uuid"
          },
          "relatedHoldId": {
            "type": "string",
            "description": "Related hold ID (UUID). Used to link consumption to a hold record. [关联预占ID(UUID)，用于关联预占记录]",
            "format": "uuid"
          },
          "bookingSource": {
            "type": "string",
            "description": "Booking source table name. Required when relatedBookingId is provided. [预约来源表名，relatedBookingId 存在时必填]",
            "example": "regular_mentoring_sessions"
          }
        },
        "required": [
          "studentId",
          "serviceType",
          "quantity"
        ]
      },
      "ConsumeServiceResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the consume operation succeeded. [消费操作是否成功]",
            "example": true
          },
          "message": {
            "type": "string",
            "description": "Human-readable message. [可读消息]",
            "example": "Service consumed successfully"
          }
        },
        "required": [
          "success",
          "message"
        ]
      },
      "AddAmendmentLedgerRequestDto": {
        "type": "object",
        "properties": {
          "studentId": {
            "type": "string",
            "description": "Student ID (UUID). Entitlements are maintained at student level. [学生ID(UUID)，权益按学生维度维护]",
            "format": "uuid"
          },
          "contractId": {
            "type": "string",
            "description": "Contract ID (UUID, optional). For reference only. [合同ID(UUID，可选)，仅作参考]",
            "format": "uuid"
          },
          "serviceType": {
            "type": "string",
            "description": "Service type code to adjust. [要调整的服务类型编码]",
            "example": "resume_review"
          },
          "ledgerType": {
            "type": "string",
            "description": "Amendment ledger type. Explains why entitlements change. [台账类型，说明权益变更来源]",
            "enum": [
              "addon",
              "promotion",
              "compensation"
            ],
            "example": "addon"
          },
          "quantityChanged": {
            "type": "number",
            "description": "Quantity change. Must be positive. [变更数量，必须为正数]",
            "example": 1,
            "minimum": 1
          },
          "reason": {
            "type": "string",
            "description": "Reason for amendment. [调整原因]",
            "example": "Promotion compensation"
          },
          "description": {
            "type": "string",
            "description": "Optional detailed description. [可选详细说明]"
          },
          "attachments": {
            "description": "Optional attachment URLs. [可选附件URL列表]",
            "items": {
              "type": "array"
            },
            "type": "array"
          },
          "relatedBookingId": {
            "type": "string",
            "description": "Related booking ID (UUID). [关联预约ID(UUID)]",
            "format": "uuid"
          },
          "bookingSource": {
            "type": "string",
            "description": "Booking source table name. Required when relatedBookingId is provided. [预约来源表名，relatedBookingId存在时必填]",
            "example": "regular_mentoring_sessions"
          },
          "createdBy": {
            "type": "string",
            "description": "Created by user ID (UUID). Required. [创建人用户ID(UUID)，必填]",
            "format": "uuid"
          }
        },
        "required": [
          "studentId",
          "serviceType",
          "ledgerType",
          "quantityChanged",
          "reason",
          "createdBy"
        ]
      },
      "ContractServiceEntitlementResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Entitlement record ID (UUID). [权益记录ID(UUID)]",
            "format": "uuid"
          },
          "studentId": {
            "type": "string",
            "description": "Student ID (UUID). [学生ID(UUID)]",
            "format": "uuid"
          },
          "serviceType": {
            "type": "string",
            "description": "Service type code. [服务类型编码]",
            "example": "resume_review"
          },
          "totalQuantity": {
            "type": "number",
            "description": "Total quantity. [总权益次数]",
            "example": 10
          },
          "consumedQuantity": {
            "type": "number",
            "description": "Consumed quantity. [已消费次数]",
            "example": 2
          },
          "heldQuantity": {
            "type": "number",
            "description": "Held quantity. [预占次数]",
            "example": 1
          },
          "availableQuantity": {
            "type": "number",
            "description": "Available quantity. [可用次数]",
            "example": 7
          },
          "createdAt": {
            "type": "string",
            "description": "Created time (ISO 8601). [创建时间(ISO 8601)]",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "Updated time (ISO 8601). [更新时间(ISO 8601)]",
            "format": "date-time"
          },
          "createdBy": {
            "type": "string",
            "description": "Created by user ID (UUID). [创建人用户ID(UUID)]",
            "format": "uuid"
          }
        },
        "required": [
          "id",
          "studentId",
          "serviceType",
          "totalQuantity",
          "consumedQuantity",
          "heldQuantity",
          "availableQuantity",
          "createdAt",
          "updatedAt"
        ]
      },
      "DomesticTransferPaymentDetailsDto": {
        "type": "object",
        "properties": {
          "bankName": {
            "type": "string",
            "description": "Bank name. [银行名称]",
            "example": "Bank of America"
          },
          "accountNumber": {
            "type": "string",
            "description": "Bank account number. [银行卡号/账号]",
            "example": "1234567890"
          },
          "accountHolder": {
            "type": "string",
            "description": "Account holder name. [开户人姓名]",
            "example": "John Doe"
          }
        },
        "required": [
          "bankName",
          "accountNumber",
          "accountHolder"
        ]
      },
      "GustoPaymentDetailsDto": {
        "type": "object",
        "properties": {
          "employeeId": {
            "type": "string",
            "description": "Gusto employee ID. [Gusto 员工ID]",
            "example": "emp_123"
          },
          "companyId": {
            "type": "string",
            "description": "Gusto company ID. [Gusto 公司ID]",
            "example": "comp_456"
          }
        },
        "required": [
          "employeeId",
          "companyId"
        ]
      },
      "GustoInternationalPaymentDetailsDto": {
        "type": "object",
        "properties": {
          "employeeId": {
            "type": "string",
            "description": "Gusto employee ID. [Gusto 员工ID]",
            "example": "emp_123"
          },
          "companyId": {
            "type": "string",
            "description": "Gusto company ID. [Gusto 公司ID]",
            "example": "comp_456"
          },
          "extraNote": {
            "type": "string",
            "description": "Optional extra information for international payments. [国际支付可选补充信息]"
          }
        },
        "required": [
          "employeeId",
          "companyId"
        ]
      },
      "CheckPaymentDetailsDto": {
        "type": "object",
        "properties": {
          "payee": {
            "type": "string",
            "description": "Payee name. [收款人姓名]",
            "example": "John Doe"
          },
          "address": {
            "type": "string",
            "description": "Mailing address. [邮寄地址]",
            "example": "123 Main St, San Jose, CA 95112, USA"
          }
        },
        "required": [
          "payee",
          "address"
        ]
      },
      "ChannelBatchPayPaymentDetailsDto": {
        "type": "object",
        "properties": {
          "channel": {
            "type": "string",
            "description": "Payment channel identifier. [支付渠道标识]",
            "example": "channel_vendor_x"
          },
          "accountIdentifier": {
            "type": "string",
            "description": "Account identifier in the channel system. [渠道系统内账号标识]",
            "example": "acct_789"
          },
          "extra": {
            "type": "string",
            "description": "Optional extra data required by the channel. [渠道可选扩展字段]"
          }
        },
        "required": [
          "channel",
          "accountIdentifier"
        ]
      },
      "UserSummaryDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "User ID (UUID). [用户ID(UUID)]",
            "format": "uuid"
          },
          "name_cn": {
            "type": "string",
            "description": "Chinese name. [中文名]"
          },
          "name_en": {
            "type": "string",
            "description": "English name. [英文名]"
          }
        },
        "required": [
          "id",
          "name_cn",
          "name_en"
        ]
      },
      "MentorAppealWithRelationsResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Appeal ID (UUID). [申诉ID(UUID)]",
            "format": "uuid"
          },
          "title": {
            "type": "string",
            "description": "Service title. [服务标题]"
          },
          "appealType": {
            "type": "string",
            "description": "Appeal type. [申诉类型]",
            "example": "billing_error"
          },
          "appealAmount": {
            "type": "string",
            "description": "Appeal amount. [申诉金额]",
            "example": "100.00"
          },
          "currency": {
            "type": "string",
            "description": "Currency (ISO 4217). [币种(ISO 4217)]",
            "example": "USD"
          },
          "status": {
            "type": "string",
            "description": "Status (PENDING/APPROVED/REJECTED). [状态：待处理/已批准/已驳回]",
            "example": "PENDING"
          },
          "counselor": {
            "description": "Counselor information. [顾问信息]",
            "allOf": [
              {
                "$ref": "#/components/schemas/UserSummaryDto"
              }
            ]
          },
          "mentor": {
            "description": "Mentor information. [导师信息]",
            "allOf": [
              {
                "$ref": "#/components/schemas/UserSummaryDto"
              }
            ]
          },
          "student": {
            "description": "Student information. [学生信息]",
            "allOf": [
              {
                "$ref": "#/components/schemas/UserSummaryDto"
              }
            ]
          },
          "createdAt": {
            "type": "string",
            "description": "Created time (ISO 8601). [创建时间(ISO 8601)]",
            "format": "date-time"
          },
          "approvedAt": {
            "type": "string",
            "description": "Approved time (ISO 8601). [审批时间(ISO 8601)]",
            "format": "date-time"
          },
          "rejectedAt": {
            "type": "string",
            "description": "Rejected time (ISO 8601). [驳回时间(ISO 8601)]",
            "format": "date-time"
          },
          "rejectionReason": {
            "type": "string",
            "description": "Rejection reason. [驳回理由]"
          },
          "updatedByName": {
            "type": "string",
            "description": "Updated by name. [更新人姓名]"
          },
          "updatedAt": {
            "type": "string",
            "description": "Updated time (ISO 8601). [更新时间(ISO 8601)]",
            "format": "date-time"
          }
        },
        "required": [
          "id",
          "title",
          "appealType",
          "appealAmount",
          "currency",
          "status",
          "counselor",
          "mentor",
          "createdAt",
          "updatedByName",
          "updatedAt"
        ]
      },
      "PaginatedMentorAppealResponseDto": {
        "type": "object",
        "properties": {
          "data": {
            "description": "Appeal list. [申诉列表]",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MentorAppealWithRelationsResponseDto"
            }
          },
          "total": {
            "type": "number",
            "description": "Total count. [总数]",
            "example": 100
          },
          "page": {
            "type": "number",
            "description": "Current page. [当前页码]",
            "example": 1
          },
          "pageSize": {
            "type": "number",
            "description": "Page size. [每页条数]",
            "example": 20
          },
          "totalPages": {
            "type": "number",
            "description": "Total pages. [总页数]",
            "example": 5
          }
        },
        "required": [
          "data",
          "total",
          "page",
          "pageSize",
          "totalPages"
        ]
      },
      "CreateMentorAppealRequestDto": {
        "type": "object",
        "properties": {
          "counselorId": {
            "type": "string",
            "description": "Counselor ID (UUID). The assigned counselor to process the appeal. [顾问ID(UUID)，负责处理该申诉]",
            "format": "uuid"
          },
          "studentId": {
            "type": "string",
            "description": "Student ID (UUID). The student related to this appeal. [学生ID(UUID)，关联的学生]",
            "format": "uuid"
          },
          "mentorPayableId": {
            "type": "string",
            "description": "Mentor payable ledger ID (UUID). Optional linkage to the disputed payable record. [关联应付账款ID(UUID，可选)，关联被争议账款]",
            "format": "uuid"
          },
          "title": {
            "type": "string",
            "description": "Service title. Redundant field from service_references for query optimization. No uniqueness validation is performed on this field. [服务标题，从service_references冗余，用于查询优化。此字段不进行唯一性验证]",
            "example": "Resume Revision"
          },
          "appealType": {
            "type": "string",
            "description": "Appeal type (billing_error/missing_service/price_dispute/other). [申诉类型：费用错误/遗漏服务/价格争议/其他]",
            "example": "billing_error"
          },
          "appealAmount": {
            "type": "string",
            "description": "Appeal amount as string to match database numeric type. [申诉金额(字符串，匹配数据库numeric)]",
            "example": "100.00"
          },
          "currency": {
            "type": "string",
            "description": "Currency (ISO 4217 3-letter code). [币种(ISO 4217 三位码)]",
            "example": "USD"
          },
          "reason": {
            "type": "string",
            "description": "Appeal reason. Provide detailed context and evidence references. [申诉理由，需提供充分上下文与证据线索]",
            "example": "The payable ledger amount is incorrect for session #123."
          }
        },
        "required": [
          "counselorId",
          "studentId",
          "appealType",
          "appealAmount",
          "currency",
          "reason"
        ]
      },
      "MentorAppealResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Appeal ID (UUID). [申诉ID(UUID)]",
            "format": "uuid"
          },
          "mentorId": {
            "type": "string",
            "description": "Mentor ID (UUID). [导师ID(UUID)]",
            "format": "uuid"
          },
          "counselorId": {
            "type": "string",
            "description": "Counselor ID (UUID). [顾问ID(UUID)]",
            "format": "uuid"
          },
          "mentorPayableId": {
            "type": "string",
            "description": "Mentor payable ledger ID (UUID). [关联应付账款ID(UUID)]",
            "format": "uuid"
          },
          "settlementId": {
            "type": "string",
            "description": "Settlement ledger ID (UUID). [关联结算ID(UUID)]",
            "format": "uuid"
          },
          "appealType": {
            "type": "string",
            "description": "Appeal type. [申诉类型]",
            "example": "billing_error"
          },
          "appealAmount": {
            "type": "string",
            "description": "Appeal amount as decimal string (DB numeric). [申诉金额(字符串，DB numeric)]",
            "example": "100.00"
          },
          "currency": {
            "type": "string",
            "description": "Currency (ISO 4217). [币种(ISO 4217)]",
            "example": "USD"
          },
          "reason": {
            "type": "string",
            "description": "Appeal reason. [申诉理由]"
          },
          "title": {
            "type": "string",
            "description": "Service title (redundant field from service_references). [服务标题(从service_references冗余)]"
          },
          "status": {
            "type": "string",
            "description": "Status (PENDING/APPROVED/REJECTED). [状态：待处理/已批准/已驳回]",
            "example": "PENDING"
          },
          "rejectionReason": {
            "type": "string",
            "description": "Rejection reason. [驳回理由]"
          },
          "comments": {
            "type": "string",
            "description": "Processing comments. [处理备注]"
          },
          "approvedBy": {
            "type": "string",
            "description": "Approved by user ID (UUID). [审批人用户ID(UUID)]",
            "format": "uuid"
          },
          "approvedAt": {
            "type": "string",
            "description": "Approved time (ISO 8601). [审批时间(ISO 8601)]",
            "format": "date-time"
          },
          "rejectedBy": {
            "type": "string",
            "description": "Rejected by user ID (UUID). [驳回人用户ID(UUID)]",
            "format": "uuid"
          },
          "rejectedAt": {
            "type": "string",
            "description": "Rejected time (ISO 8601). [驳回时间(ISO 8601)]",
            "format": "date-time"
          },
          "createdBy": {
            "type": "string",
            "description": "Created by user ID (UUID). [创建人用户ID(UUID)]",
            "format": "uuid"
          },
          "createdAt": {
            "type": "string",
            "description": "Created time (ISO 8601). [创建时间(ISO 8601)]",
            "format": "date-time"
          }
        },
        "required": [
          "id",
          "mentorId",
          "counselorId",
          "appealType",
          "appealAmount",
          "currency",
          "reason",
          "status",
          "createdBy",
          "createdAt"
        ]
      },
      "ApproveMentorAppealRequestDto": {
        "type": "object",
        "properties": {
          "appealAmount": {
            "type": "number",
            "description": "New appeal amount (number). Only used when the original amount is invalid. [新申诉金额(数值)，仅在原金额无效时使用]",
            "example": 100
          },
          "currency": {
            "type": "string",
            "description": "New currency (ISO 4217). Only used when the original currency is invalid. [新币种(ISO 4217)，仅在原币种无效时使用]",
            "example": "USD"
          },
          "comments": {
            "type": "string",
            "description": "Approval comments (optional). [批准备注(可选)]",
            "example": "Approved after manual verification."
          }
        }
      },
      "RejectMentorAppealRequestDto": {
        "type": "object",
        "properties": {
          "rejectionReason": {
            "type": "string",
            "description": "Rejection reason. Required when rejecting. [驳回理由，驳回时必填]",
            "example": "Insufficient evidence provided."
          }
        },
        "required": [
          "rejectionReason"
        ]
      },
      "CreateSettlementRequestDto": {
        "type": "object",
        "properties": {
          "mentorId": {
            "type": "string",
            "description": "Mentor ID (UUID). Settlement is generated per mentor and month. [导师ID(UUID)，按导师+月份生成结算]",
            "format": "uuid"
          },
          "settlementMonth": {
            "type": "string",
            "description": "Settlement month in YYYY-MM format. [结算月份(YYYY-MM)]",
            "example": "2025-11"
          },
          "exchangeRate": {
            "type": "number",
            "description": "Exchange rate used for currency conversion. [汇率，用于币种转换]",
            "example": 7.2,
            "minimum": 0
          },
          "deductionRate": {
            "type": "number",
            "description": "Deduction rate (e.g., 0.0500 for 5%). [扣除比率，如0.0500表示5%]",
            "example": 0.05,
            "minimum": 0
          }
        },
        "required": [
          "mentorId",
          "settlementMonth",
          "exchangeRate",
          "deductionRate"
        ]
      },
      "SettlementDetailResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Settlement ID (UUID). [结算ID(UUID)]"
          },
          "mentorId": {
            "type": "string",
            "description": "Mentor ID (UUID). [导师ID(UUID)]"
          },
          "settlementMonth": {
            "type": "string",
            "description": "Settlement month (YYYY-MM). [结算月份(YYYY-MM)]",
            "example": "2025-11"
          },
          "originalAmount": {
            "type": "string",
            "description": "Original amount (decimal string). [原始金额(字符串)]",
            "example": "1000.00"
          },
          "targetAmount": {
            "type": "string",
            "description": "Target amount (decimal string). [目标金额(字符串)]",
            "example": "950.00"
          },
          "originalCurrency": {
            "type": "string",
            "description": "Original currency. [原始币种]",
            "example": "USD"
          },
          "targetCurrency": {
            "type": "string",
            "description": "Target currency. [目标币种]",
            "example": "CNY"
          },
          "exchangeRate": {
            "type": "string",
            "description": "Exchange rate (decimal string). [汇率(字符串)]",
            "example": "7.2"
          },
          "deductionRate": {
            "type": "string",
            "description": "Deduction rate (decimal string). [扣除比率(字符串)]",
            "example": "0.0500"
          },
          "status": {
            "type": "string",
            "description": "Settlement status (always CONFIRMED). [结算状态(始终CONFIRMED)]",
            "enum": [
              "PENDING",
              "CONFIRMED",
              "PAID",
              "CANCELLED"
            ],
            "example": "CONFIRMED"
          },
          "settlementMethod": {
            "type": "string",
            "description": "Settlement method. [结算方式]",
            "enum": [
              "DOMESTIC_TRANSFER",
              "CHANNEL_BATCH_PAY",
              "GUSTO",
              "GUSTO_INTERNATIONAL",
              "CHECK"
            ],
            "example": "DOMESTIC_TRANSFER"
          },
          "createdAt": {
            "type": "string",
            "description": "Created time (ISO 8601). [创建时间(ISO 8601)]",
            "format": "date-time"
          },
          "createdBy": {
            "type": "string",
            "description": "Created by user ID (UUID). [创建人用户ID(UUID)]",
            "format": "uuid"
          }
        },
        "required": [
          "id",
          "mentorId",
          "settlementMonth",
          "originalAmount",
          "targetAmount",
          "originalCurrency",
          "targetCurrency",
          "exchangeRate",
          "deductionRate",
          "status",
          "settlementMethod",
          "createdAt",
          "createdBy"
        ]
      },
      "MentorInfoDto": {
        "type": "object",
        "properties": {
          "mentorId": {
            "type": "string",
            "description": "导师用户ID (UUID). [Mentor user ID (UUID)]",
            "format": "uuid"
          },
          "name_cn": {
            "type": "string",
            "description": "导师中文名称. [Mentor Chinese name]",
            "nullable": true
          },
          "name_en": {
            "type": "string",
            "description": "导师英文名称. [Mentor English name]",
            "nullable": true
          }
        },
        "required": [
          "mentorId"
        ]
      },
      "MentorPriceWithMentorResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Mentor price ID (UUID). [导师价格ID(UUID)]"
          },
          "mentorUserId": {
            "type": "string",
            "description": "Mentor user ID (UUID). [导师用户ID(UUID)]",
            "format": "uuid"
          },
          "serviceTypeId": {
            "type": "string",
            "description": "Service type ID (deprecated). [服务类型ID(已废弃)]"
          },
          "sessionTypeCode": {
            "type": "string",
            "description": "Session type code. [会话类型代码]",
            "example": "regular_mentoring"
          },
          "packageCode": {
            "type": "string",
            "description": "Package code (optional). [课程包编码(可选)]"
          },
          "price": {
            "type": "string",
            "description": "Price stored as decimal string (DB numeric/decimal). [价格(字符串，DB numeric/decimal)]",
            "example": "200.0"
          },
          "currency": {
            "type": "string",
            "description": "Currency (ISO 4217). [币种(ISO 4217)]",
            "example": "USD"
          },
          "status": {
            "type": "string",
            "description": "Status (active/inactive). [状态：active/inactive]",
            "example": "active"
          },
          "updatedBy": {
            "type": "string",
            "description": "Updated by user ID (UUID). [更新人用户ID(UUID)]",
            "format": "uuid"
          },
          "createdAt": {
            "type": "string",
            "description": "Created time (ISO 8601). [创建时间(ISO 8601)]",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "Updated time (ISO 8601). [更新时间(ISO 8601)]",
            "format": "date-time"
          },
          "mentor": {
            "description": "导师信息. [Mentor information]",
            "allOf": [
              {
                "$ref": "#/components/schemas/MentorInfoDto"
              }
            ]
          }
        },
        "required": [
          "id",
          "mentorUserId",
          "price",
          "currency",
          "status",
          "createdAt",
          "updatedAt",
          "mentor"
        ]
      },
      "PaginatedMentorPriceResponseDto": {
        "type": "object",
        "properties": {
          "data": {
            "description": "数据列表. [Data list]",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MentorPriceWithMentorResponseDto"
            }
          },
          "total": {
            "type": "number",
            "description": "总记录数. [Total records count]"
          },
          "page": {
            "type": "number",
            "description": "当前页码. [Current page number]"
          },
          "pageSize": {
            "type": "number",
            "description": "每页条数. [Page size]"
          },
          "totalPages": {
            "type": "number",
            "description": "总页数. [Total pages]"
          }
        },
        "required": [
          "data",
          "total",
          "page",
          "pageSize",
          "totalPages"
        ]
      },
      "CreateMentorPriceRequestDto": {
        "type": "object",
        "properties": {
          "mentorUserId": {
            "type": "string",
            "description": "Mentor user ID (UUID). [导师用户ID(UUID)]",
            "format": "uuid"
          },
          "sessionTypeCode": {
            "type": "string",
            "description": "Session type code (e.g., regular_mentoring). [会话类型代码]",
            "example": "regular_mentoring"
          },
          "price": {
            "type": "number",
            "description": "Price per session. [每次会话价格]",
            "example": 200,
            "minimum": 0
          },
          "currency": {
            "type": "string",
            "description": "Currency (ISO 4217). Default: USD. [币种(ISO 4217)，默认USD]",
            "default": "USD",
            "example": "USD"
          },
          "status": {
            "type": "string",
            "description": "Status. Default: active. [状态，默认active]",
            "default": "active",
            "enum": [
              "active",
              "inactive"
            ],
            "example": "active"
          },
          "packageCode": {
            "type": "string",
            "description": "Package code (optional). [课程包编码(可选)]"
          }
        },
        "required": [
          "mentorUserId",
          "sessionTypeCode",
          "price"
        ]
      },
      "MentorPriceResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Mentor price ID (UUID). [导师价格ID(UUID)]"
          },
          "mentorUserId": {
            "type": "string",
            "description": "Mentor user ID (UUID). [导师用户ID(UUID)]",
            "format": "uuid"
          },
          "serviceTypeId": {
            "type": "string",
            "description": "Service type ID (deprecated). [服务类型ID(已废弃)]"
          },
          "sessionTypeCode": {
            "type": "string",
            "description": "Session type code. [会话类型代码]",
            "example": "regular_mentoring"
          },
          "packageCode": {
            "type": "string",
            "description": "Package code (optional). [课程包编码(可选)]"
          },
          "price": {
            "type": "string",
            "description": "Price stored as decimal string (DB numeric/decimal). [价格(字符串，DB numeric/decimal)]",
            "example": "200.0"
          },
          "currency": {
            "type": "string",
            "description": "Currency (ISO 4217). [币种(ISO 4217)]",
            "example": "USD"
          },
          "status": {
            "type": "string",
            "description": "Status (active/inactive). [状态：active/inactive]",
            "example": "active"
          },
          "updatedBy": {
            "type": "string",
            "description": "Updated by user ID (UUID). [更新人用户ID(UUID)]",
            "format": "uuid"
          },
          "createdAt": {
            "type": "string",
            "description": "Created time (ISO 8601). [创建时间(ISO 8601)]",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "Updated time (ISO 8601). [更新时间(ISO 8601)]",
            "format": "date-time"
          }
        },
        "required": [
          "id",
          "mentorUserId",
          "price",
          "currency",
          "status",
          "createdAt",
          "updatedAt"
        ]
      },
      "UpdateMentorPriceRequestDto": {
        "type": "object",
        "properties": {
          "price": {
            "type": "number",
            "description": "New price per session. [新的每次会话价格]"
          },
          "currency": {
            "type": "string",
            "description": "New currency (ISO 4217). [新的币种(ISO 4217)]"
          },
          "status": {
            "type": "string",
            "description": "New status. [新的状态]",
            "enum": [
              "active",
              "inactive"
            ]
          },
          "packageCode": {
            "type": "string",
            "description": "New package code. [新的课程包编码]"
          }
        }
      },
      "UpdateMentorPriceStatusRequestDto": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "description": "Target status. [目标状态]",
            "enum": [
              "active",
              "inactive"
            ],
            "example": "active"
          }
        },
        "required": [
          "status"
        ]
      },
      "BulkCreateMentorPriceRequestDto": {
        "type": "object",
        "properties": {
          "prices": {
            "description": "Prices to create. [要创建的价格配置列表]",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CreateMentorPriceRequestDto"
            }
          }
        },
        "required": [
          "prices"
        ]
      },
      "BulkUpdateMentorPriceItemRequestDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Mentor price ID (UUID). [导师价格ID(UUID)]",
            "format": "uuid"
          },
          "dto": {
            "description": "Update payload. [更新内容]",
            "allOf": [
              {
                "$ref": "#/components/schemas/UpdateMentorPriceRequestDto"
              }
            ]
          }
        },
        "required": [
          "id",
          "dto"
        ]
      },
      "BulkUpdateMentorPriceRequestDto": {
        "type": "object",
        "properties": {
          "updates": {
            "description": "Batch updates. [批量更新列表]",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BulkUpdateMentorPriceItemRequestDto"
            }
          }
        },
        "required": [
          "updates"
        ]
      },
      "AdjustPayableLedgerRequestDto": {
        "type": "object",
        "properties": {
          "ledgerId": {
            "type": "string",
            "description": "Payable ledger ID (UUID) [应付账款ID(UUID)]",
            "format": "uuid",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "adjustmentAmount": {
            "type": "number",
            "description": "Adjustment amount. Positive for increase, negative for decrease. [调整金额：正数增加，负数减少]",
            "example": -50
          },
          "reason": {
            "type": "string",
            "description": "Reason for adjustment. [调整原因]",
            "example": "Manual correction after appeal"
          },
          "metadata": {
            "type": "object",
            "description": "Optional metadata for audit/debug. [可选元数据，用于审计/调试]"
          }
        },
        "required": [
          "ledgerId",
          "adjustmentAmount",
          "reason"
        ]
      },
      "PaymentParamUpdateRequestDto": {
        "type": "object",
        "properties": {
          "defaultExchangeRate": {
            "type": "number",
            "description": "Default exchange rate. [默认汇率]",
            "example": 7.2,
            "minimum": 0
          },
          "defaultDeductionRate": {
            "type": "number",
            "description": "Default deduction rate. [默认扣除比率]",
            "example": 0.05,
            "minimum": 0
          }
        },
        "required": [
          "defaultExchangeRate",
          "defaultDeductionRate"
        ]
      },
      "ModifyPaymentParamsRequestDto": {
        "type": "object",
        "properties": {
          "defaultExchangeRate": {
            "type": "number",
            "description": "Default exchange rate (optional). [默认汇率(可选)]",
            "example": 7.2,
            "minimum": 0
          },
          "defaultDeductionRate": {
            "type": "number",
            "description": "Default deduction rate (optional). [默认扣除比率(可选)]",
            "example": 0.05,
            "minimum": 0
          }
        }
      },
      "CreateOrUpdateMentorPaymentInfoRequestDto": {
        "type": "object",
        "properties": {
          "mentorId": {
            "type": "string",
            "description": "Mentor ID (UUID). [导师ID(UUID)]",
            "format": "uuid"
          },
          "paymentCurrency": {
            "type": "string",
            "description": "Payment currency (ISO 4217). [支付币种(ISO 4217)]",
            "example": "USD"
          },
          "paymentMethod": {
            "type": "string",
            "description": "Payment method. Controls the structure of paymentDetails. [支付方式，决定paymentDetails结构]",
            "enum": [
              "DOMESTIC_TRANSFER",
              "CHANNEL_BATCH_PAY",
              "GUSTO",
              "GUSTO_INTERNATIONAL",
              "CHECK"
            ],
            "example": "DOMESTIC_TRANSFER"
          },
          "paymentDetails": {
            "description": "Payment details object. Must match the selected paymentMethod. [支付详情对象，需与paymentMethod匹配]",
            "oneOf": [
              {
                "$ref": "#/components/schemas/DomesticTransferPaymentDetailsDto"
              },
              {
                "$ref": "#/components/schemas/GustoPaymentDetailsDto"
              },
              {
                "$ref": "#/components/schemas/GustoInternationalPaymentDetailsDto"
              },
              {
                "$ref": "#/components/schemas/CheckPaymentDetailsDto"
              },
              {
                "$ref": "#/components/schemas/ChannelBatchPayPaymentDetailsDto"
              }
            ]
          }
        },
        "required": [
          "mentorId",
          "paymentCurrency",
          "paymentMethod",
          "paymentDetails"
        ]
      },
      "MentorPaymentInfoResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Payment info ID (UUID). [支付信息ID(UUID)]"
          },
          "mentorId": {
            "type": "string",
            "description": "Mentor ID (UUID). [导师ID(UUID)]"
          },
          "paymentCurrency": {
            "type": "string",
            "description": "Payment currency (ISO 4217). [支付币种]"
          },
          "paymentMethod": {
            "type": "string",
            "description": "Payment method. [支付方式]",
            "enum": [
              "DOMESTIC_TRANSFER",
              "CHANNEL_BATCH_PAY",
              "GUSTO",
              "GUSTO_INTERNATIONAL",
              "CHECK"
            ]
          },
          "paymentDetails": {
            "description": "Payment details object (polymorphic). [支付详情对象(多态)]",
            "oneOf": [
              {
                "$ref": "#/components/schemas/DomesticTransferPaymentDetailsDto"
              },
              {
                "$ref": "#/components/schemas/GustoPaymentDetailsDto"
              },
              {
                "$ref": "#/components/schemas/GustoInternationalPaymentDetailsDto"
              },
              {
                "$ref": "#/components/schemas/CheckPaymentDetailsDto"
              },
              {
                "$ref": "#/components/schemas/ChannelBatchPayPaymentDetailsDto"
              }
            ]
          },
          "status": {
            "type": "string",
            "description": "Status (ACTIVE/INACTIVE). [状态：ACTIVE/INACTIVE]",
            "example": "ACTIVE"
          },
          "createdAt": {
            "type": "string",
            "description": "Created time (ISO 8601). [创建时间(ISO 8601)]",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "Updated time (ISO 8601). [更新时间(ISO 8601)]",
            "format": "date-time"
          },
          "updatedBy": {
            "type": "string",
            "description": "Updated by user ID (UUID). [更新人用户ID(UUID)]",
            "format": "uuid"
          }
        },
        "required": [
          "id",
          "mentorId",
          "paymentCurrency",
          "paymentMethod",
          "paymentDetails",
          "status",
          "createdAt",
          "updatedAt"
        ]
      },
      "UpdateMentorPaymentInfoStatusRequestDto": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "description": "New status. [新状态]",
            "enum": [
              "ACTIVE",
              "INACTIVE"
            ],
            "example": "ACTIVE"
          },
          "operatorNote": {
            "type": "string",
            "description": "Optional operator note. [操作备注(可选)]"
          }
        },
        "required": [
          "status"
        ]
      },
      "ExperienceRequirementRequestDto": {
        "type": "object",
        "properties": {
          "min_years": {
            "type": "number",
            "description": "Minimum years of experience. [最低经验年数]",
            "example": 1
          },
          "max_years": {
            "type": "number",
            "description": "Maximum years of experience. [最高经验年数]",
            "example": 5
          },
          "unlimited": {
            "type": "boolean",
            "description": "Unlimited experience requirement. [经验不限标记]",
            "example": false
          }
        }
      },
      "SalaryRangeRequestDto": {
        "type": "object",
        "properties": {
          "min": {
            "type": "number",
            "description": "Min base salary. [最低基本工资]"
          },
          "max": {
            "type": "number",
            "description": "Max base salary. [最高基本工资]"
          }
        }
      },
      "SalaryDetailsRequestDto": {
        "type": "object",
        "properties": {
          "base_salary": {
            "description": "Base salary range. [基本工资范围]",
            "allOf": [
              {
                "$ref": "#/components/schemas/SalaryRangeRequestDto"
              }
            ]
          },
          "bonus": {
            "type": "object",
            "description": "Bonus details (free-form JSON). [奖金详情(自由结构JSON)]"
          }
        }
      },
      "CreateJobPositionRequestDto": {
        "type": "object",
        "properties": {
          "objectId": {
            "type": "string",
            "description": "Idempotency key from source system (optional). [幂等键(可选)]",
            "example": "obj_123"
          },
          "jobTitle": {
            "type": "string",
            "description": "Job title. [岗位标题]",
            "example": "Software Engineer"
          },
          "companyName": {
            "type": "string",
            "description": "Company name. [公司名称]",
            "example": "Example Inc."
          },
          "normJobTitles": {
            "description": "Normalized job titles for search. [用于搜索的标准化职位标题列表]",
            "items": {
              "type": "array"
            },
            "type": "array"
          },
          "jobTypes": {
            "description": "Job types. [职位类型分类]",
            "items": {
              "type": "array"
            },
            "type": "array"
          },
          "postDate": {
            "type": "string",
            "description": "Post date (ISO 8601). [发布日期(ISO 8601)]",
            "format": "date-time",
            "example": "2025-12-01T00:00:00.000Z"
          },
          "status": {
            "type": "string",
            "description": "Job status. Default: active. [岗位状态，默认active]",
            "enum": [
              "active",
              "inactive",
              "expired"
            ],
            "default": "active",
            "example": "active"
          },
          "countryCode": {
            "type": "string",
            "description": "Country code (e.g., US). [国家代码]",
            "example": "US"
          },
          "locations": {
            "description": "Job locations. [工作地点列表]",
            "example": [
              "San Jose, CA"
            ],
            "items": {
              "type": "array"
            },
            "type": "array"
          },
          "experienceRequirement": {
            "description": "Experience requirement object. [经验要求对象]",
            "allOf": [
              {
                "$ref": "#/components/schemas/ExperienceRequirementRequestDto"
              }
            ]
          },
          "salaryDetails": {
            "description": "Salary details object. [薪资详情对象]",
            "allOf": [
              {
                "$ref": "#/components/schemas/SalaryDetailsRequestDto"
              }
            ]
          },
          "jobDescription": {
            "type": "string",
            "description": "Job description. [岗位描述]"
          },
          "h1b": {
            "type": "string",
            "description": "H1B visa support status. [H1B签证支持状态]",
            "example": "yes"
          },
          "usCitizenship": {
            "type": "string",
            "description": "US citizenship requirement. [美国公民身份要求]",
            "example": "no"
          },
          "jobApplicationType": {
            "description": "Supported application types for this job. [支持的投递类型]",
            "example": [
              "direct",
              "referral"
            ],
            "items": {
              "type": "array"
            },
            "type": "array"
          },
          "source": {
            "type": "string",
            "description": "Source of the job data. [岗位数据来源]",
            "enum": [
              "web",
              "bd"
            ],
            "example": "bd"
          }
        },
        "required": [
          "jobTitle",
          "companyName",
          "source"
        ]
      },
      "ExperienceRequirementResponseDto": {
        "type": "object",
        "properties": {
          "min_years": {
            "type": "number",
            "description": "Minimum years. [最低经验年数]"
          },
          "max_years": {
            "type": "number",
            "description": "Maximum years. [最高经验年数]"
          },
          "unlimited": {
            "type": "boolean",
            "description": "Unlimited flag. [不限标记]"
          }
        }
      },
      "SalaryRangeResponseDto": {
        "type": "object",
        "properties": {
          "min": {
            "type": "number",
            "description": "Min base salary. [最低基本工资]"
          },
          "max": {
            "type": "number",
            "description": "Max base salary. [最高基本工资]"
          }
        }
      },
      "SalaryDetailsResponseDto": {
        "type": "object",
        "properties": {
          "base_salary": {
            "description": "Base salary range. [基本工资范围]",
            "allOf": [
              {
                "$ref": "#/components/schemas/SalaryRangeResponseDto"
              }
            ]
          },
          "bonus": {
            "type": "object",
            "description": "Bonus details. [奖金详情]"
          }
        }
      },
      "JobPositionResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Job ID (UUID). [岗位ID(UUID)]",
            "format": "uuid"
          },
          "jobId": {
            "type": "string",
            "description": "External job id. [外部岗位ID]"
          },
          "jobLink": {
            "type": "string",
            "description": "Job link URL. [岗位链接]"
          },
          "objectId": {
            "type": "string",
            "description": "Idempotency object id. [幂等对象ID]"
          },
          "normalizedJobTitles": {
            "description": "Normalized job titles. [标准化职位标题]",
            "items": {
              "type": "array"
            },
            "type": "array"
          },
          "jobTypes": {
            "description": "Job types. [职位类型]",
            "items": {
              "type": "array"
            },
            "type": "array"
          },
          "postDate": {
            "type": "string",
            "description": "Post date (ISO 8601). [发布日期(ISO 8601)]",
            "format": "date-time"
          },
          "application_deadline": {
            "type": "string",
            "description": "Application deadline (ISO 8601). [投递截止时间(ISO 8601)]",
            "format": "date-time"
          },
          "status": {
            "type": "string",
            "description": "Status (active/inactive/expired). [状态：active/inactive/expired]",
            "example": "active"
          },
          "title": {
            "type": "string",
            "description": "Job title. [岗位标题]"
          },
          "countryCode": {
            "type": "string",
            "description": "Country code. [国家代码]"
          },
          "experienceRequirement": {
            "description": "Experience requirement. [经验要求]",
            "allOf": [
              {
                "$ref": "#/components/schemas/ExperienceRequirementResponseDto"
              }
            ]
          },
          "salaryDetails": {
            "description": "Salary details. [薪资详情]",
            "allOf": [
              {
                "$ref": "#/components/schemas/SalaryDetailsResponseDto"
              }
            ]
          },
          "jobLocations": {
            "description": "Job locations list. [地点列表]",
            "items": {
              "type": "array"
            },
            "type": "array"
          },
          "jobDescription": {
            "type": "string",
            "description": "Job description. [岗位描述]"
          },
          "companyName": {
            "type": "string",
            "description": "Company name. [公司名称]"
          },
          "h1b": {
            "type": "string",
            "description": "H1B. [H1B]"
          },
          "usCitizenship": {
            "type": "string",
            "description": "US citizenship requirement. [美国公民要求]"
          },
          "level": {
            "type": "string",
            "description": "Level. [级别]"
          },
          "aiAnalysis": {
            "type": "object",
            "description": "AI analysis JSON. [AI分析JSON]"
          },
          "jobApplicationType": {
            "description": "Supported application types. [支持投递类型]",
            "items": {
              "type": "array"
            },
            "type": "array"
          },
          "createdAt": {
            "type": "string",
            "description": "Created time (ISO 8601). [创建时间(ISO 8601)]",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "Updated time (ISO 8601). [更新时间(ISO 8601)]",
            "format": "date-time"
          }
        },
        "required": [
          "id",
          "status",
          "title",
          "companyName",
          "createdAt",
          "updatedAt"
        ]
      },
      "UpdateJobApplicationStatusRequestDto": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "description": "Target status of the application (目标投递状态)",
            "enum": [
              "recommended",
              "interested",
              "not_interested",
              "revoked",
              "mentor_assigned",
              "submitted",
              "interviewed",
              "got_offer",
              "rejected"
            ],
            "example": "interested"
          }
        },
        "required": [
          "status"
        ]
      },
      "JobApplicationResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Application ID (UUID). [投递ID(UUID)]",
            "format": "uuid"
          },
          "studentId": {
            "type": "string",
            "description": "Student ID (UUID string). [学生ID(UUID字符串)]"
          },
          "jobId": {
            "type": "string",
            "description": "Job ID (UUID). [岗位ID(UUID)]",
            "format": "uuid"
          },
          "applicationType": {
            "type": "string",
            "description": "Application type. [投递类型]",
            "example": "referral"
          },
          "coverLetter": {
            "type": "string",
            "description": "Cover letter. [求职信]"
          },
          "status": {
            "type": "string",
            "description": "Status. [投递状态]",
            "enum": [
              "recommended",
              "interested",
              "not_interested",
              "revoked",
              "mentor_assigned",
              "submitted",
              "interviewed",
              "got_offer",
              "rejected"
            ],
            "example": "submitted"
          },
          "assignedMentorId": {
            "type": "string",
            "description": "Assigned mentor ID (UUID string). [分配导师ID(UUID字符串)]"
          },
          "recommendedBy": {
            "type": "string",
            "description": "Recommended by user ID (UUID string). [推荐人ID(UUID字符串)]"
          },
          "recommendedAt": {
            "type": "string",
            "description": "Recommended at (ISO 8601). [推荐时间(ISO 8601)]",
            "format": "date-time"
          },
          "submittedAt": {
            "type": "string",
            "description": "Submitted at (ISO 8601). [提交时间(ISO 8601)]",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "Updated at (ISO 8601). [更新时间(ISO 8601)]",
            "format": "date-time"
          },
          "notes": {
            "type": "string",
            "description": "Internal notes. [内部备注]"
          }
        },
        "required": [
          "id",
          "studentId",
          "jobId",
          "applicationType",
          "status",
          "submittedAt",
          "updatedAt"
        ]
      },
      "EventEnvelopeResponseDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Event type. [事件类型]"
          },
          "payload": {
            "type": "object",
            "description": "Event payload (free-form JSON). [事件载荷(自由结构JSON)]"
          }
        },
        "required": [
          "type",
          "payload"
        ]
      },
      "JobApplicationServiceResultResponseDto": {
        "type": "object",
        "properties": {
          "data": {
            "description": "Main data. [主数据]",
            "allOf": [
              {
                "$ref": "#/components/schemas/JobApplicationResponseDto"
              }
            ]
          },
          "event": {
            "description": "Single event (optional). [单个事件(可选)]",
            "allOf": [
              {
                "$ref": "#/components/schemas/EventEnvelopeResponseDto"
              }
            ]
          },
          "events": {
            "description": "Multiple events (optional). [多个事件(可选)]",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EventEnvelopeResponseDto"
            }
          }
        },
        "required": [
          "data"
        ]
      },
      "RollbackJobApplicationStatusRequestDto": {
        "type": "object",
        "properties": {
          "applicationId": {
            "type": "string",
            "description": "Application ID (UUID) [投递ID(UUID)]",
            "format": "uuid",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "changedBy": {
            "type": "string",
            "description": "Changed by user ID (UUID). If omitted, server uses current user. [变更人用户ID(UUID)，不传则使用当前用户]",
            "format": "uuid"
          },
          "mentorId": {
            "type": "string",
            "description": "Mentor ID (UUID). Used to keep assignedMentorId consistent if needed. [导师ID(UUID)，用于必要时保持assignedMentorId一致]",
            "format": "uuid"
          },
          "rollbackReason": {
            "type": "string",
            "description": "Reason for rollback [回滚原因]",
            "example": "Status update was made in error"
          }
        },
        "required": [
          "applicationId"
        ]
      },
      "JobQueryResponseDto": {
        "type": "object",
        "properties": {
          "data": {
            "description": "Job items. [岗位列表]",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/JobPositionResponseDto"
            }
          },
          "total": {
            "type": "number",
            "description": "Total jobs. [总数]"
          },
          "page": {
            "type": "number",
            "description": "Current page. [当前页码]"
          },
          "pageSize": {
            "type": "number",
            "description": "Page size. [每页条数]"
          },
          "totalPages": {
            "type": "number",
            "description": "Total pages. [总页数]"
          }
        },
        "required": [
          "data",
          "total",
          "page",
          "pageSize",
          "totalPages"
        ]
      },
      "UserInfoDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "User ID (UUID). [用户ID(UUID)]",
            "format": "uuid"
          },
          "name_cn": {
            "type": "string",
            "description": "Chinese name. [中文名]"
          },
          "name_en": {
            "type": "string",
            "description": "English name. [英文名]"
          }
        },
        "required": [
          "id"
        ]
      },
      "JobApplicationQueryItemDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Application ID (UUID). [投递ID(UUID)]",
            "format": "uuid"
          },
          "studentId": {
            "type": "string",
            "description": "Student ID (UUID string). [学生ID(UUID字符串)]"
          },
          "recommendedJobId": {
            "type": "string",
            "description": "Recommended job ID (UUID). [推荐岗位ID(UUID)]",
            "format": "uuid"
          },
          "applicationType": {
            "type": "string",
            "description": "Application type. [投递类型]",
            "example": "referral"
          },
          "coverLetter": {
            "type": "string",
            "description": "Cover letter. [求职信]"
          },
          "customAnswers": {
            "type": "object",
            "description": "Custom answers. [自定义答案]"
          },
          "status": {
            "type": "string",
            "description": "Status. [投递状态]",
            "enum": [
              "recommended",
              "interested",
              "not_interested",
              "revoked",
              "mentor_assigned",
              "submitted",
              "interviewed",
              "got_offer",
              "rejected"
            ],
            "example": "submitted"
          },
          "result": {
            "type": "string",
            "description": "Result. [结果]"
          },
          "resultReason": {
            "type": "string",
            "description": "Result reason. [结果原因]"
          },
          "submittedAt": {
            "type": "string",
            "description": "Submitted at (ISO 8601). [提交时间(ISO 8601)]",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "Updated at (ISO 8601). [更新时间(ISO 8601)]",
            "format": "date-time"
          },
          "notes": {
            "type": "string",
            "description": "Notes. [备注]"
          },
          "assignedMentorId": {
            "type": "string",
            "description": "Assigned mentor ID (UUID string). [分配导师ID(UUID字符串)]"
          },
          "recommendedBy": {
            "type": "string",
            "description": "Recommended by user ID (UUID string). [推荐人ID(UUID字符串)]"
          },
          "recommendedAt": {
            "type": "string",
            "description": "Recommended at (ISO 8601). [推荐时间(ISO 8601)]",
            "format": "date-time"
          },
          "objectId": {
            "type": "string",
            "description": "Object ID. [对象ID]"
          },
          "jobId": {
            "type": "string",
            "description": "Job ID. [岗位ID]"
          },
          "jobLink": {
            "type": "string",
            "description": "Job link. [岗位链接]"
          },
          "jobType": {
            "type": "string",
            "description": "Job type. [职位类型]"
          },
          "jobTitle": {
            "type": "string",
            "description": "Job title. [职位标题]"
          },
          "companyName": {
            "type": "string",
            "description": "Company name. [公司名称]"
          },
          "location": {
            "type": "string",
            "description": "Location. [工作地点]"
          },
          "jobCategories": {
            "description": "Job categories. [职位类别]",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "normalJobTitle": {
            "type": "string",
            "description": "Normalized job title. [标准化职位标题]"
          },
          "level": {
            "type": "string",
            "description": "Level. [级别]"
          },
          "student": {
            "description": "Student information. [学生信息]",
            "allOf": [
              {
                "$ref": "#/components/schemas/UserInfoDto"
              }
            ]
          },
          "mentor": {
            "description": "Mentor information. [导师信息]",
            "allOf": [
              {
                "$ref": "#/components/schemas/UserInfoDto"
              }
            ]
          },
          "counselor": {
            "description": "Counselor information. [顾问信息]",
            "allOf": [
              {
                "$ref": "#/components/schemas/UserInfoDto"
              }
            ]
          }
        },
        "required": [
          "id",
          "studentId",
          "applicationType",
          "status",
          "submittedAt",
          "updatedAt",
          "student"
        ]
      },
      "JobApplicationQueryResponseDto": {
        "type": "object",
        "properties": {
          "data": {
            "description": "Job application items. [投递申请列表]",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/JobApplicationQueryItemDto"
            }
          },
          "total": {
            "type": "number",
            "description": "Total applications. [总数]"
          },
          "page": {
            "type": "number",
            "description": "Current page. [当前页码]"
          },
          "pageSize": {
            "type": "number",
            "description": "Page size. [每页条数]"
          },
          "totalPages": {
            "type": "number",
            "description": "Total pages. [总页数]"
          }
        },
        "required": [
          "data",
          "total",
          "page",
          "pageSize",
          "totalPages"
        ]
      },
      "PlacementReferralBatchRecommendRequestDto": {
        "type": "object",
        "properties": {
          "studentIds": {
            "description": "Student IDs (UUID strings). Unique and non-empty. [学生ID(UUID字符串)列表，需去重且非空]",
            "example": [
              "123e4567-e89b-12d3-a456-426614174000"
            ],
            "items": {
              "type": "array"
            },
            "type": "array"
          },
          "jobIds": {
            "description": "Job IDs (UUID). Unique and non-empty. [岗位ID(UUID)列表，需去重且非空]",
            "example": [
              "123e4567-e89b-12d3-a456-426614174001"
            ],
            "items": {
              "type": "array"
            },
            "type": "array"
          },
          "recommendedBy": {
            "type": "string",
            "description": "Recommended by (UUID). The ID of the counselor who recommends the jobs. [推荐人ID(UUID)，推荐岗位的顾问ID]",
            "example": "123e4567-e89b-12d3-a456-426614174002"
          }
        },
        "required": [
          "studentIds",
          "jobIds",
          "recommendedBy"
        ]
      },
      "BatchJobApplicationsResponseDto": {
        "type": "object",
        "properties": {
          "items": {
            "description": "Created job applications. [创建的投递记录]",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/JobApplicationResponseDto"
            }
          }
        },
        "required": [
          "items"
        ]
      },
      "PlacementReferralAssignMentorRequestDto": {
        "type": "object",
        "properties": {
          "mentorId": {
            "type": "string",
            "description": "Mentor user ID (UUID string). Assigns mentor to a referral application. [导师用户ID(UUID字符串)，用于内推投递分配导师]",
            "format": "uuid",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          }
        },
        "required": [
          "mentorId"
        ]
      },
      "PlacementReferralManualCreateRequestDto": {
        "type": "object",
        "properties": {
          "studentId": {
            "type": "string",
            "description": "Student user ID (UUID string). [学生用户ID(UUID字符串)]",
            "format": "uuid",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "mentorId": {
            "type": "string",
            "description": "Mentor user ID (UUID string). [导师用户ID(UUID字符串)]",
            "format": "uuid",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "createdBy": {
            "type": "string",
            "description": "Created by user ID (UUID string). [创建人用户ID(UUID字符串)]",
            "format": "uuid",
            "example": "123e4567-e89b-12d3-a456-426614174002"
          },
          "jobType": {
            "type": "string",
            "description": "Job type. [职位类型]",
            "example": "full-time"
          },
          "resumeSubmittedDate": {
            "format": "date-time",
            "type": "string",
            "description": "Resume submitted date. [简历提交日期]",
            "example": "2023-01-01T00:00:00Z"
          },
          "jobTitle": {
            "type": "string",
            "description": "Job title. [职位标题]",
            "example": "Software Engineer"
          },
          "jobLink": {
            "type": "string",
            "description": "Job link URL. [职位链接]",
            "example": "https://example.com/job/123"
          },
          "jobId": {
            "type": "string",
            "description": "Job ID. [职位ID]",
            "example": "EXT-123"
          },
          "companyName": {
            "type": "string",
            "description": "Company name. [公司名称]",
            "example": "Example Company"
          },
          "location": {
            "type": "string",
            "description": "Job location. [工作地点]",
            "example": "San Francisco, CA"
          },
          "jobCategories": {
            "description": "Job categories. [职位类别]",
            "example": [
              "ADMIN"
            ],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "normalJobTitle": {
            "type": "string",
            "description": "Normalized job title. [标准化职位标题]",
            "example": "Software Engineer"
          },
          "level": {
            "type": "string",
            "description": "Job level. [职位级别]",
            "example": "Entry Level"
          }
        },
        "required": [
          "studentId",
          "mentorId",
          "jobType",
          "resumeSubmittedDate",
          "jobTitle",
          "jobLink",
          "companyName"
        ]
      },
      "PlacementProxyBatchRequestDto": {
        "type": "object",
        "properties": {
          "studentIds": {
            "description": "Student IDs (UUID strings). Unique and non-empty. [学生ID(UUID字符串)列表，需去重且非空]",
            "example": [
              "9e50af7d-5f08-4516-939f-7f765ce131b8",
              "f2c3737c-1b37-4736-8633-251731ddcdec"
            ],
            "items": {
              "type": "array"
            },
            "type": "array"
          },
          "jobs": {
            "description": "Jobs array. Each job contains objectId and redundant fields. Required. [岗位数组，每个岗位包含objectId和冗余字段，必填]",
            "example": [
              {
                "objectId": "algolia_job_123456789",
                "externalJobId": "EXT-JOB-2024-001",
                "jobLink": "https://example.com/jobs/software-engineer-2024-001",
                "jobType": "Full-time",
                "jobTitle": "Software Engineer",
                "companyName": "Tech Company Inc.",
                "location": "San Francisco, CA",
                "jobCategories": [
                  "TECH",
                  "ADMIN"
                ],
                "normalJobTitle": "Software Engineer",
                "level": "mid_level"
              }
            ],
            "items": {
              "type": "array"
            },
            "type": "array"
          }
        },
        "required": [
          "studentIds",
          "jobs"
        ]
      }
    }
  }
}