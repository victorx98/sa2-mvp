{
  "swagger": "2.0",
  "info": {
    "title": "SA2-MVP API",
    "description": "SA2-MVP 后端API文档，包含Catalog、Contract、Financial和Placement四个业务域的所有API接口",
    "version": "1.0.0"
  },
  "host": "localhost:3000",
  "basePath": "/",
  "schemes": [
    "http"
  ],
  "paths": {
    "/api/admin/products": {
      "post": {
        "tags": ["Catalog"],
        "summary": "创建产品",
        "description": "创建一个新的产品，支持同时添加产品项",
        "operationId": "createProduct",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "产品创建请求体",
            "required": true,
            "schema": {
              "$ref": "#/definitions/CreateProductDto"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "产品创建成功",
            "schema": {
              "$ref": "#/definitions/Product"
            }
          },
          "400": {
            "description": "请求参数错误",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "get": {
        "tags": ["Catalog"],
        "summary": "获取所有产品",
        "description": "获取所有产品，支持筛选、分页和排序",
        "operationId": "getAllProducts",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "type": "integer",
            "default": 1,
            "description": "页码"
          },
          {
            "name": "pageSize",
            "in": "query",
            "type": "integer",
            "default": 20,
            "description": "每页数量"
          },
          {
            "name": "field",
            "in": "query",
            "type": "string",
            "default": "createdAt",
            "description": "排序字段"
          },
          {
            "name": "order",
            "in": "query",
            "type": "string",
            "default": "desc",
            "enum": ["asc", "desc"],
            "description": "排序方向"
          }
        ],
        "responses": {
          "200": {
            "description": "产品列表获取成功",
            "schema": {
              "$ref": "#/definitions/PaginatedProductResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/admin/products/{id}": {
      "get": {
        "tags": ["Catalog"],
        "summary": "获取单个产品",
        "description": "根据ID获取单个产品的详细信息",
        "operationId": "getProductById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid",
            "description": "产品ID"
          }
        ],
        "responses": {
          "200": {
            "description": "产品获取成功",
            "schema": {
              "$ref": "#/definitions/ProductDetail"
            }
          },
          "404": {
            "description": "产品未找到",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "patch": {
        "tags": ["Catalog"],
        "summary": "更新产品",
        "description": "更新产品信息，支持添加、删除和排序产品项",
        "operationId": "updateProduct",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid",
            "description": "产品ID"
          },
          {
            "in": "body",
            "name": "body",
            "description": "产品更新请求体",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UpdateProductDto"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "产品更新成功",
            "schema": {
              "$ref": "#/definitions/Product"
            }
          },
          "404": {
            "description": "产品未找到",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/admin/products/{id}/snapshot": {
      "get": {
        "tags": ["Catalog"],
        "summary": "创建产品快照",
        "description": "为指定产品创建快照，用于记录产品在特定时间点的状态",
        "operationId": "createProductSnapshot",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid",
            "description": "产品ID"
          }
        ],
        "responses": {
          "200": {
            "description": "产品快照创建成功",
            "schema": {
              "$ref": "#/definitions/ProductSnapshot"
            }
          },
          "404": {
            "description": "产品未找到",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/admin/products/{id}/status": {
      "patch": {
        "tags": ["Catalog"],
        "summary": "更新产品状态",
        "description": "更新产品状态，支持DRAFT->ACTIVE（发布）、ACTIVE->INACTIVE（取消发布）、INACTIVE->DRAFT（恢复草稿）",
        "operationId": "updateProductStatus",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid",
            "description": "产品ID"
          },
          {
            "in": "body",
            "name": "body",
            "description": "产品状态更新请求体",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UpdateProductStatusDto"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "产品状态更新成功",
            "schema": {
              "$ref": "#/definitions/Product"
            }
          },
          "404": {
            "description": "产品未找到",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          },
          "400": {
            "description": "无效的状态转换",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/admin/service-types": {
      "get": {
        "tags": ["Catalog"],
        "summary": "获取所有服务类型",
        "description": "获取所有服务类型，支持筛选、分页和排序",
        "operationId": "getServiceTypes",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "type": "integer",
            "default": 1,
            "description": "页码"
          },
          {
            "name": "pageSize",
            "in": "query",
            "type": "integer",
            "default": 20,
            "description": "每页数量"
          },
          {
            "name": "field",
            "in": "query",
            "type": "string",
            "default": "createdAt",
            "description": "排序字段"
          },
          {
            "name": "order",
            "in": "query",
            "type": "string",
            "default": "desc",
            "enum": ["asc", "desc"],
            "description": "排序方向"
          }
        ],
        "responses": {
          "200": {
            "description": "服务类型列表获取成功",
            "schema": {
              "$ref": "#/definitions/PaginatedServiceTypeResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/admin/contracts": {
      "post": {
        "tags": ["Contract"],
        "summary": "创建合同",
        "description": "创建一个新的合同",
        "operationId": "createContract",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "合同创建请求体",
            "required": true,
            "schema": {
              "$ref": "#/definitions/CreateContractDto"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "合同创建成功",
            "schema": {
              "$ref": "#/definitions/Contract"
            }
          },
          "400": {
            "description": "请求参数错误",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "get": {
        "tags": ["Contract"],
        "summary": "获取所有合同",
        "description": "获取所有合同，支持筛选、分页和排序",
        "operationId": "getAllContracts",
        "parameters": [
          {
            "name": "studentId",
            "in": "query",
            "type": "string",
            "format": "uuid",
            "description": "学生ID"
          },
          {
            "name": "status",
            "in": "query",
            "type": "string",
            "description": "合同状态"
          },
          {
            "name": "productId",
            "in": "query",
            "type": "string",
            "format": "uuid",
            "description": "产品ID"
          },
          {
            "name": "signedAfter",
            "in": "query",
            "type": "string",
            "format": "date-time",
            "description": "签署时间之后"
          },
          {
            "name": "signedBefore",
            "in": "query",
            "type": "string",
            "format": "date-time",
            "description": "签署时间之前"
          },
          {
            "name": "page",
            "in": "query",
            "type": "integer",
            "default": 1,
            "description": "页码"
          },
          {
            "name": "pageSize",
            "in": "query",
            "type": "integer",
            "default": 20,
            "description": "每页数量"
          },
          {
            "name": "field",
            "in": "query",
            "type": "string",
            "default": "createdAt",
            "description": "排序字段"
          },
          {
            "name": "order",
            "in": "query",
            "type": "string",
            "default": "desc",
            "enum": ["asc", "desc"],
            "description": "排序方向"
          }
        ],
        "responses": {
          "200": {
            "description": "合同列表获取成功",
            "schema": {
              "$ref": "#/definitions/PaginatedContractResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/admin/contracts/{id}": {
      "get": {
        "tags": ["Contract"],
        "summary": "获取单个合同",
        "description": "根据ID获取单个合同的详细信息",
        "operationId": "getContractById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid",
            "description": "合同ID"
          }
        ],
        "responses": {
          "200": {
            "description": "合同获取成功",
            "schema": {
              "$ref": "#/definitions/ContractDetail"
            }
          },
          "404": {
            "description": "合同未找到",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "patch": {
        "tags": ["Contract"],
        "summary": "更新合同",
        "description": "更新合同信息",
        "operationId": "updateContract",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid",
            "description": "合同ID"
          },
          {
            "in": "body",
            "name": "body",
            "description": "合同更新请求体",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UpdateContractDto"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "合同更新成功",
            "schema": {
              "$ref": "#/definitions/Contract"
            }
          },
          "404": {
            "description": "合同未找到",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/admin/contracts/{id}/activate": {
      "post": {
        "tags": ["Contract"],
        "summary": "激活合同",
        "description": "激活指定的合同",
        "operationId": "activateContract",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid",
            "description": "合同ID"
          }
        ],
        "responses": {
          "200": {
            "description": "合同激活成功",
            "schema": {
              "$ref": "#/definitions/Contract"
            }
          },
          "404": {
            "description": "合同未找到",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/admin/contracts/{id}/sign": {
      "post": {
        "tags": ["Contract"],
        "summary": "签署合同",
        "description": "签署指定的合同",
        "operationId": "signContract",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid",
            "description": "合同ID"
          }
        ],
        "responses": {
          "200": {
            "description": "合同签署成功",
            "schema": {
              "$ref": "#/definitions/Contract"
            }
          },
          "404": {
            "description": "合同未找到",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/admin/contracts/{id}/suspend": {
      "post": {
        "tags": ["Contract"],
        "summary": "暂停合同",
        "description": "暂停指定的合同",
        "operationId": "suspendContract",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid",
            "description": "合同ID"
          },
          {
            "in": "body",
            "name": "body",
            "description": "合同暂停请求体",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "reason": {
                  "type": "string",
                  "description": "暂停原因"
                }
              },
              "required": ["reason"]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "合同暂停成功",
            "schema": {
              "$ref": "#/definitions/Contract"
            }
          },
          "404": {
            "description": "合同未找到",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/admin/contracts/{id}/resume": {
      "post": {
        "tags": ["Contract"],
        "summary": "恢复合同",
        "description": "恢复指定的合同",
        "operationId": "resumeContract",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid",
            "description": "合同ID"
          }
        ],
        "responses": {
          "200": {
            "description": "合同恢复成功",
            "schema": {
              "$ref": "#/definitions/Contract"
            }
          },
          "404": {
            "description": "合同未找到",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/admin/contracts/{id}/complete": {
      "post": {
        "tags": ["Contract"],
        "summary": "完成合同",
        "description": "完成指定的合同",
        "operationId": "completeContract",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid",
            "description": "合同ID"
          }
        ],
        "responses": {
          "200": {
            "description": "合同完成成功",
            "schema": {
              "$ref": "#/definitions/Contract"
            }
          },
          "404": {
            "description": "合同未找到",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/admin/contracts/{id}/terminate": {
      "post": {
        "tags": ["Contract"],
        "summary": "终止合同",
        "description": "终止指定的合同",
        "operationId": "terminateContract",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid",
            "description": "合同ID"
          },
          {
            "in": "body",
            "name": "body",
            "description": "合同终止请求体",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "reason": {
                  "type": "string",
                  "description": "终止原因"
                }
              },
              "required": ["reason"]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "合同终止成功",
            "schema": {
              "$ref": "#/definitions/Contract"
            }
          },
          "404": {
            "description": "合同未找到",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/admin/contracts/consume": {
      "post": {
        "tags": ["Contract"],
        "summary": "消费服务",
        "description": "消费合同中的服务",
        "operationId": "consumeService",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "服务消费请求体",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ConsumeServiceDto"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "服务消费成功",
            "schema": {
              "type": "object",
              "properties": {
                "success": {
                  "type": "boolean",
                  "description": "消费是否成功"
                },
                "remaining": {
                  "type": "integer",
                  "description": "剩余服务数量"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/admin/contracts/amendment-ledger": {
      "post": {
        "tags": ["Contract"],
        "summary": "添加修订台账",
        "description": "为合同添加修订台账",
        "operationId": "addAmendmentLedger",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "修订台账添加请求体",
            "required": true,
            "schema": {
              "$ref": "#/definitions/AddAmendmentLedgerDto"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "修订台账添加成功",
            "schema": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "format": "uuid",
                  "description": "修订台账ID"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/admin/financial/mentor-appeals": {
      "post": {
        "tags": ["Financial"],
        "summary": "创建导师申诉",
        "description": "创建一个新的导师申诉",
        "operationId": "createMentorAppeal",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "导师申诉创建请求体",
            "required": true,
            "schema": {
              "$ref": "#/definitions/CreateAppealDto"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "导师申诉创建成功",
            "schema": {
              "$ref": "#/definitions/MentorAppeal"
            }
          },
          "400": {
            "description": "请求参数错误",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "get": {
        "tags": ["Financial"],
        "summary": "获取所有导师申诉",
        "description": "获取所有导师申诉，支持筛选、分页和排序",
        "operationId": "getAllMentorAppeals",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "type": "integer",
            "default": 1,
            "description": "页码"
          },
          {
            "name": "pageSize",
            "in": "query",
            "type": "integer",
            "default": 20,
            "description": "每页数量"
          },
          {
            "name": "field",
            "in": "query",
            "type": "string",
            "default": "createdAt",
            "description": "排序字段"
          },
          {
            "name": "order",
            "in": "query",
            "type": "string",
            "default": "desc",
            "enum": ["asc", "desc"],
            "description": "排序方向"
          }
        ],
        "responses": {
          "200": {
            "description": "导师申诉列表获取成功",
            "schema": {
              "$ref": "#/definitions/PaginatedMentorAppealResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/admin/financial/mentor-appeals/{id}": {
      "get": {
        "tags": ["Financial"],
        "summary": "获取单个导师申诉",
        "description": "根据ID获取单个导师申诉的详细信息",
        "operationId": "getMentorAppealById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid",
            "description": "导师申诉ID"
          }
        ],
        "responses": {
          "200": {
            "description": "导师申诉获取成功",
            "schema": {
              "$ref": "#/definitions/MentorAppeal"
            }
          },
          "404": {
            "description": "导师申诉未找到",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/admin/financial/mentor-appeals/{id}/approve": {
      "patch": {
        "tags": ["Financial"],
        "summary": "批准导师申诉",
        "description": "批准指定的导师申诉",
        "operationId": "approveMentorAppeal",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid",
            "description": "导师申诉ID"
          }
        ],
        "responses": {
          "200": {
            "description": "导师申诉批准成功",
            "schema": {
              "$ref": "#/definitions/MentorAppeal"
            }
          },
          "404": {
            "description": "导师申诉未找到",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/admin/financial/mentor-appeals/{id}/reject": {
      "patch": {
        "tags": ["Financial"],
        "summary": "拒绝导师申诉",
        "description": "拒绝指定的导师申诉",
        "operationId": "rejectMentorAppeal",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid",
            "description": "导师申诉ID"
          },
          {
            "in": "body",
            "name": "body",
            "description": "导师申诉拒绝请求体",
            "required": true,
            "schema": {
              "$ref": "#/definitions/RejectAppealDto"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "导师申诉拒绝成功",
            "schema": {
              "$ref": "#/definitions/MentorAppeal"
            }
          },
          "404": {
            "description": "导师申诉未找到",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/admin/financial/settlements": {
      "get": {
        "tags": ["Financial"],
        "summary": "获取所有结算",
        "description": "获取所有结算，支持筛选、分页和排序",
        "operationId": "getAllSettlements",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "type": "integer",
            "default": 1,
            "description": "页码"
          },
          {
            "name": "pageSize",
            "in": "query",
            "type": "integer",
            "default": 20,
            "description": "每页数量"
          },
          {
            "name": "field",
            "in": "query",
            "type": "string",
            "default": "createdAt",
            "description": "排序字段"
          },
          {
            "name": "order",
            "in": "query",
            "type": "string",
            "default": "desc",
            "enum": ["asc", "desc"],
            "description": "排序方向"
          }
        ],
        "responses": {
          "200": {
            "description": "结算列表获取成功",
            "schema": {
              "$ref": "#/definitions/PaginatedSettlementResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/admin/financial/settlements/{id}": {
      "get": {
        "tags": ["Financial"],
        "summary": "获取单个结算",
        "description": "根据ID获取单个结算的详细信息",
        "operationId": "getSettlementById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid",
            "description": "结算ID"
          }
        ],
        "responses": {
          "200": {
            "description": "结算获取成功",
            "schema": {
              "$ref": "#/definitions/Settlement"
            }
          },
          "404": {
            "description": "结算未找到",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/admin/placement/job-positions": {
      "post": {
        "tags": ["Placement"],
        "summary": "创建职位",
        "description": "创建一个新的职位",
        "operationId": "createJobPosition",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "职位创建请求体",
            "required": true,
            "schema": {
              "$ref": "#/definitions/SubmitApplicationDto"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "职位创建成功",
            "schema": {
              "$ref": "#/definitions/JobPosition"
            }
          },
          "400": {
            "description": "请求参数错误",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "get": {
        "tags": ["Placement"],
        "summary": "获取所有职位",
        "description": "获取所有职位，支持分页和排序",
        "operationId": "getAllJobPositions",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "type": "integer",
            "default": 1,
            "description": "页码"
          },
          {
            "name": "pageSize",
            "in": "query",
            "type": "integer",
            "default": 20,
            "description": "每页数量"
          },
          {
            "name": "field",
            "in": "query",
            "type": "string",
            "default": "createdAt",
            "description": "排序字段"
          },
          {
            "name": "order",
            "in": "query",
            "type": "string",
            "default": "desc",
            "enum": ["asc", "desc"],
            "description": "排序方向"
          }
        ],
        "responses": {
          "200": {
            "description": "职位列表获取成功",
            "schema": {
              "$ref": "#/definitions/PaginatedJobPositionResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/admin/placement/job-positions/{id}": {
      "get": {
        "tags": ["Placement"],
        "summary": "获取单个职位",
        "description": "根据ID获取单个职位的详细信息",
        "operationId": "getJobPositionById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid",
            "description": "职位ID"
          }
        ],
        "responses": {
          "200": {
            "description": "职位获取成功",
            "schema": {
              "$ref": "#/definitions/JobPosition"
            }
          },
          "404": {
            "description": "职位未找到",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "patch": {
        "tags": ["Placement"],
        "summary": "更新职位",
        "description": "更新职位信息",
        "operationId": "updateJobPosition",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid",
            "description": "职位ID"
          },
          {
            "in": "body",
            "name": "body",
            "description": "职位更新请求体",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UpdateApplicationStatusDto"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "职位更新成功",
            "schema": {
              "$ref": "#/definitions/JobPosition"
            }
          },
          "404": {
            "description": "职位未找到",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/admin/placement/job-applications": {
      "get": {
        "tags": ["Placement"],
        "summary": "获取所有职位申请",
        "description": "获取所有职位申请，支持分页和排序",
        "operationId": "getAllJobApplications",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "type": "integer",
            "default": 1,
            "description": "页码"
          },
          {
            "name": "pageSize",
            "in": "query",
            "type": "integer",
            "default": 20,
            "description": "每页数量"
          },
          {
            "name": "field",
            "in": "query",
            "type": "string",
            "default": "createdAt",
            "description": "排序字段"
          },
          {
            "name": "order",
            "in": "query",
            "type": "string",
            "default": "desc",
            "enum": ["asc", "desc"],
            "description": "排序方向"
          }
        ],
        "responses": {
          "200": {
            "description": "职位申请列表获取成功",
            "schema": {
              "$ref": "#/definitions/PaginatedJobApplicationResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/admin/placement/job-applications/{id}": {
      "get": {
        "tags": ["Placement"],
        "summary": "获取单个职位申请",
        "description": "根据ID获取单个职位申请的详细信息",
        "operationId": "getJobApplicationById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid",
            "description": "职位申请ID"
          }
        ],
        "responses": {
          "200": {
            "description": "职位申请获取成功",
            "schema": {
              "$ref": "#/definitions/JobApplication"
            }
          },
          "404": {
            "description": "职位申请未找到",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/admin/placement/job-applications/{id}/status": {
      "patch": {
        "tags": ["Placement"],
        "summary": "更新职位申请状态",
        "description": "更新职位申请的状态",
        "operationId": "updateJobApplicationStatus",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "职位申请状态更新请求体",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UpdateApplicationStatusDto"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "职位申请状态更新成功",
            "schema": {
              "$ref": "#/definitions/JobApplication"
            }
          },
          "404": {
            "description": "职位申请未找到",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    }
  },
  "definitions": {
    "CreateProductDto": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "产品名称"
        },
        "code": {
          "type": "string",
          "description": "产品编码"
        },
        "description": {
          "type": "string",
          "description": "产品描述"
        },
        "coverImage": {
          "type": "string",
          "description": "产品封面图片URL"
        },
        "targetUserPersonas": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "目标用户画像"
        },
        "price": {
          "type": "number",
          "description": "产品价格"
        },
        "currency": {
          "type": "string",
          "default": "USD",
          "description": "产品货币"
        },
        "marketingLabels": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "营销标签"
        },
        "metadata": {
          "type": "object",
          "description": "产品元数据"
        },
        "items": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "serviceTypeId": {
                "type": "string",
                "format": "uuid",
                "description": "服务类型ID"
              },
              "quantity": {
                "type": "integer",
                "description": "服务数量"
              },
              "sortOrder": {
                "type": "integer",
                "description": "排序顺序"
              }
            },
            "required": ["serviceTypeId", "quantity"]
          },
          "description": "产品项列表"
        }
      },
      "required": ["name", "code", "price"]
    },
    "UpdateProductDto": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "产品名称"
        },
        "code": {
          "type": "string",
          "description": "产品编码"
        },
        "description": {
          "type": "string",
          "description": "产品描述"
        },
        "coverImage": {
          "type": "string",
          "description": "产品封面图片URL"
        },
        "targetUserPersonas": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "目标用户画像"
        },
        "price": {
          "type": "number",
          "description": "产品价格"
        },
        "currency": {
          "type": "string",
          "description": "产品货币"
        },
        "marketingLabels": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "营销标签"
        },
        "metadata": {
          "type": "object",
          "description": "产品元数据"
        },
        "addItems": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "serviceTypeId": {
                "type": "string",
                "format": "uuid",
                "description": "服务类型ID"
              },
              "quantity": {
                "type": "integer",
                "description": "服务数量"
              },
              "sortOrder": {
                "type": "integer",
                "description": "排序顺序"
              }
            },
            "required": ["serviceTypeId", "quantity"]
          },
          "description": "要添加的产品项列表"
        },
        "removeItems": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uuid"
          },
          "description": "要移除的产品项ID列表"
        },
        "sortItems": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "itemId": {
                "type": "string",
                "format": "uuid",
                "description": "产品项ID"
              },
              "sortOrder": {
                "type": "integer",
                "description": "排序顺序"
              }
            },
            "required": ["itemId", "sortOrder"]
          },
          "description": "要排序的产品项列表"
        }
      }
    },
    "UpdateProductStatusDto": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "description": "目标状态",
          "enum": ["ACTIVE", "INACTIVE", "DRAFT"]
        }
      },
      "required": ["status"]
    },
    "Product": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "产品ID"
        },
        "name": {
          "type": "string",
          "description": "产品名称"
        },
        "code": {
          "type": "string",
          "description": "产品编码"
        },
        "description": {
          "type": "string",
          "description": "产品描述"
        },
        "coverImage": {
          "type": "string",
          "description": "产品封面图片URL"
        },
        "targetUserPersonas": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "目标用户画像"
        },
        "price": {
          "type": "string",
          "description": "产品价格"
        },
        "currency": {
          "type": "string",
          "description": "产品货币"
        },
        "marketingLabels": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "营销标签"
        },
        "status": {
          "type": "string",
          "description": "产品状态",
          "enum": ["DRAFT", "ACTIVE", "INACTIVE", "DELETED"]
        },
        "metadata": {
          "type": "object",
          "description": "产品元数据"
        },
        "publishedAt": {
          "type": "string",
          "format": "date-time",
          "description": "发布时间"
        },
        "unpublishedAt": {
          "type": "string",
          "format": "date-time",
          "description": "取消发布时间"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "创建时间"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time",
          "description": "更新时间"
        },
        "createdBy": {
          "type": "string",
          "format": "uuid",
          "description": "创建人ID"
        }
      }
    },
    "ProductItem": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "产品项ID"
        },
        "productId": {
          "type": "string",
          "format": "uuid",
          "description": "产品ID"
        },
        "serviceTypeId": {
          "type": "string",
          "format": "uuid",
          "description": "服务类型ID"
        },
        "quantity": {
          "type": "integer",
          "description": "服务数量"
        },
        "sortOrder": {
          "type": "integer",
          "description": "排序顺序"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "创建时间"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time",
          "description": "更新时间"
        }
      }
    },
    "ProductDetail": {
      "allOf": [
        {
          "$ref": "#/definitions/Product"
        },
        {
          "type": "object",
          "properties": {
            "items": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/ProductItem"
              },
              "description": "产品项列表"
            }
          }
        }
      ]
    },
    "ProductSnapshot": {
      "type": "object",
      "properties": {
        "productId": {
          "type": "string",
          "format": "uuid",
          "description": "产品ID"
        },
        "productName": {
          "type": "string",
          "description": "产品名称"
        },
        "productCode": {
          "type": "string",
          "description": "产品编码"
        },
        "price": {
          "type": "string",
          "description": "产品价格"
        },
        "currency": {
          "type": "string",
          "description": "产品货币"
        },
        "items": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "serviceTypeId": {
                "type": "string",
                "format": "uuid",
                "description": "服务类型ID"
              },
              "serviceTypeCode": {
                "type": "string",
                "description": "服务类型编码"
              },
              "quantity": {
                "type": "integer",
                "description": "服务数量"
              }
            }
          },
          "description": "产品项快照列表"
        },
        "snapshotAt": {
          "type": "string",
          "format": "date-time",
          "description": "快照时间"
        }
      }
    },
    "ServiceType": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "服务类型ID"
        },
        "name": {
          "type": "string",
          "description": "服务类型名称"
        },
        "code": {
          "type": "string",
          "description": "服务类型编码"
        },
        "description": {
          "type": "string",
          "description": "服务类型描述"
        },
        "status": {
          "type": "string",
          "description": "服务类型状态",
          "enum": ["ACTIVE", "INACTIVE"]
        },
        "metadata": {
          "type": "object",
          "description": "服务类型元数据"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "创建时间"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time",
          "description": "更新时间"
        }
      }
    },
    "PaginatedResult": {
      "type": "object",
      "properties": {
        "data": {
          "type": "array",
          "items": {
            "type": "object"
          },
          "description": "分页数据"
        },
        "total": {
          "type": "integer",
          "description": "总记录数"
        },
        "page": {
          "type": "integer",
          "description": "当前页码"
        },
        "pageSize": {
          "type": "integer",
          "description": "每页数量"
        },
        "totalPages": {
          "type": "integer",
          "description": "总页数"
        }
      }
    },
    "PaginatedProductResponse": {
      "allOf": [
        {
          "$ref": "#/definitions/PaginatedResult"
        },
        {
          "type": "object",
          "properties": {
            "data": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Product"
              },
              "description": "产品列表"
            }
          }
        }
      ]
    },
    "PaginatedServiceTypeResponse": {
      "allOf": [
        {
          "$ref": "#/definitions/PaginatedResult"
        },
        {
          "type": "object",
          "properties": {
            "data": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/ServiceType"
              },
              "description": "服务类型列表"
            }
          }
        }
      ]
    },
    "CreateContractDto": {
      "type": "object",
      "properties": {
        "studentId": {
          "type": "string",
          "format": "uuid",
          "description": "学生ID"
        },
        "productId": {
          "type": "string",
          "format": "uuid",
          "description": "产品ID"
        },
        "startDate": {
          "type": "string",
          "format": "date-time",
          "description": "合同开始时间"
        },
        "endDate": {
          "type": "string",
          "format": "date-time",
          "description": "合同结束时间"
        },
        "metadata": {
          "type": "object",
          "description": "合同元数据"
        }
      },
      "required": ["studentId", "productId"]
    },
    "UpdateContractDto": {
      "type": "object",
      "properties": {
        "studentId": {
          "type": "string",
          "format": "uuid",
          "description": "学生ID"
        },
        "productId": {
          "type": "string",
          "format": "uuid",
          "description": "产品ID"
        },
        "startDate": {
          "type": "string",
          "format": "date-time",
          "description": "合同开始时间"
        },
        "endDate": {
          "type": "string",
          "format": "date-time",
          "description": "合同结束时间"
        },
        "metadata": {
          "type": "object",
          "description": "合同元数据"
        }
      }
    },
    "Contract": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "合同ID"
        },
        "studentId": {
          "type": "string",
          "format": "uuid",
          "description": "学生ID"
        },
        "productId": {
          "type": "string",
          "format": "uuid",
          "description": "产品ID"
        },
        "startDate": {
          "type": "string",
          "format": "date-time",
          "description": "合同开始时间"
        },
        "endDate": {
          "type": "string",
          "format": "date-time",
          "description": "合同结束时间"
        },
        "status": {
          "type": "string",
          "description": "合同状态"
        },
        "metadata": {
          "type": "object",
          "description": "合同元数据"
        },
        "signedAt": {
          "type": "string",
          "format": "date-time",
          "description": "签署时间"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "创建时间"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time",
          "description": "更新时间"
        }
      }
    },
    "ContractDetail": {
      "allOf": [
        {
          "$ref": "#/definitions/Contract"
        },
        {
          "type": "object",
          "properties": {
            "items": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "serviceTypeId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "服务类型ID"
                  },
                  "quantity": {
                    "type": "integer",
                    "description": "服务数量"
                  },
                  "consumed": {
                    "type": "integer",
                    "description": "已消费数量"
                  }
                }
              },
              "description": "合同项列表"
            }
          }
        }
      ]
    },
    "ConsumeServiceDto": {
      "type": "object",
      "properties": {
        "contractId": {
          "type": "string",
          "format": "uuid",
          "description": "合同ID"
        },
        "serviceTypeId": {
          "type": "string",
          "format": "uuid",
          "description": "服务类型ID"
        },
        "quantity": {
          "type": "integer",
          "description": "消费数量"
        }
      },
      "required": ["contractId", "serviceTypeId", "quantity"]
    },
    "AddAmendmentLedgerDto": {
      "type": "object",
      "properties": {
        "contractId": {
          "type": "string",
          "format": "uuid",
          "description": "合同ID"
        },
        "amendmentType": {
          "type": "string",
          "description": "修订类型"
        },
        "amendmentContent": {
          "type": "object",
          "description": "修订内容"
        }
      },
      "required": ["contractId", "amendmentType", "amendmentContent"]
    },
    "PaginatedContractResponse": {
      "allOf": [
        {
          "$ref": "#/definitions/PaginatedResult"
        },
        {
          "type": "object",
          "properties": {
            "data": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Contract"
              },
              "description": "合同列表"
            }
          }
        }
      ]
    },
    "CreateAppealDto": {
      "type": "object",
      "properties": {
        "mentorId": {
          "type": "string",
          "format": "uuid",
          "description": "导师ID"
        },
        "appealType": {
          "type": "string",
          "description": "申诉类型"
        },
        "appealReason": {
          "type": "string",
          "description": "申诉原因"
        },
        "appealContent": {
          "type": "object",
          "description": "申诉内容"
        }
      },
      "required": ["mentorId", "appealType", "appealReason", "appealContent"]
    },
    "RejectAppealDto": {
      "type": "object",
      "properties": {
        "rejectionReason": {
          "type": "string",
          "description": "拒绝原因"
        }
      },
      "required": ["rejectionReason"]
    },
    "MentorAppeal": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "导师申诉ID"
        },
        "mentorId": {
          "type": "string",
          "format": "uuid",
          "description": "导师ID"
        },
        "appealType": {
          "type": "string",
          "description": "申诉类型"
        },
        "appealReason": {
          "type": "string",
          "description": "申诉原因"
        },
        "appealContent": {
          "type": "object",
          "description": "申诉内容"
        },
        "status": {
          "type": "string",
          "description": "申诉状态"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "创建时间"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time",
          "description": "更新时间"
        }
      }
    },
    "PaginatedMentorAppealResponse": {
      "allOf": [
        {
          "$ref": "#/definitions/PaginatedResult"
        },
        {
          "type": "object",
          "properties": {
            "data": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/MentorAppeal"
              },
              "description": "导师申诉列表"
            }
          }
        }
      ]
    },
    "Settlement": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "结算ID"
        },
        "mentorId": {
          "type": "string",
          "format": "uuid",
          "description": "导师ID"
        },
        "settlementPeriod": {
          "type": "string",
          "description": "结算周期"
        },
        "settlementAmount": {
          "type": "string",
          "description": "结算金额"
        },
        "status": {
          "type": "string",
          "description": "结算状态"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "创建时间"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time",
          "description": "更新时间"
        }
      }
    },
    "PaginatedSettlementResponse": {
      "allOf": [
        {
          "$ref": "#/definitions/PaginatedResult"
        },
        {
          "type": "object",
          "properties": {
            "data": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Settlement"
              },
              "description": "结算列表"
            }
          }
        }
      ]
    },
    "SubmitApplicationDto": {
      "type": "object",
      "properties": {
        "studentId": {
          "type": "string",
          "format": "uuid",
          "description": "学生ID"
        },
        "positionId": {
          "type": "string",
          "format": "uuid",
          "description": "职位ID"
        },
        "applicationContent": {
          "type": "object",
          "description": "申请内容"
        }
      },
      "required": ["studentId", "positionId", "applicationContent"]
    },
    "UpdateApplicationStatusDto": {
      "type": "object",
      "properties": {
        "applicationId": {
          "type": "string",
          "format": "uuid",
          "description": "申请ID"
        },
        "status": {
          "type": "string",
          "description": "目标状态"
        },
        "statusReason": {
          "type": "string",
          "description": "状态变更原因"
        }
      },
      "required": ["applicationId", "status"]
    },
    "JobPosition": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "职位ID"
        },
        "title": {
          "type": "string",
          "description": "职位标题"
        },
        "description": {
          "type": "string",
          "description": "职位描述"
        },
        "requirements": {
          "type": "object",
          "description": "职位要求"
        },
        "status": {
          "type": "string",
          "description": "职位状态"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "创建时间"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time",
          "description": "更新时间"
        }
      }
    },
    "JobApplication": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "职位申请ID"
        },
        "studentId": {
          "type": "string",
          "format": "uuid",
          "description": "学生ID"
        },
        "positionId": {
          "type": "string",
          "format": "uuid",
          "description": "职位ID"
        },
        "status": {
          "type": "string",
          "description": "申请状态"
        },
        "applicationContent": {
          "type": "object",
          "description": "申请内容"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "创建时间"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time",
          "description": "更新时间"
        }
      }
    },
    "PaginatedJobPositionResponse": {
      "allOf": [
        {
          "$ref": "#/definitions/PaginatedResult"
        },
        {
          "type": "object",
          "properties": {
            "data": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/JobPosition"
              },
              "description": "职位列表"
            }
          }
        }
      ]
    },
    "PaginatedJobApplicationResponse": {
      "allOf": [
        {
          "$ref": "#/definitions/PaginatedResult"
        },
        {
          "type": "object",
          "properties": {
            "data": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/JobApplication"
              },
              "description": "职位申请列表"
            }
          }
        }
      ]
    },
    "ErrorResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string",
          "description": "错误信息"
        },
        "code": {
          "type": "string",
          "description": "错误代码"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "错误时间"
        }
      },
      "required": ["message"]
    }
  },
  "securityDefinitions": {
    "bearerAuth": {
      "type": "apiKey",
      "name": "Authorization",
      "in": "header",
      "description": "Bearer token for authentication"
    }
  }
}